/*! glpk.js - v4.48.0
* https://github.com/hgourvest/glpk.js
* Copyright (c) 2013 Henri Gourvest; Licensed GPLv2 */
(function(exports) {
var h=void 0,aa=!0,s=null,ia=!1,u=Number.MAX_VALUE,ja=Number.MIN_VALUE;function y(a){throw Error(a);}function B(){}exports.glp_get_print_func=function(){return B};exports.glp_set_print_func=function(a){B=a};function ma(a,b,c,d,e){for(;0<e;b++,d++,e--)a[b]=c[d]}function na(a,b,c,d){for(;0<d;b++,d--)a[b]=c}function pa(a,b,c){for(;0<c;b++,c--)a[b]={}}function ra(){return(new Date).getTime()}function sa(a){return(ra()-a)/1E3}function ta(a,b,c){var d=Array(b);ma(d,0,a,1,b);d.sort(c);ma(a,1,d,0,b)}
var ya={},Da=exports.glp_version=function(){return Aa+"."+Ca};function Ea(a){a="string"==typeof a?a.charCodeAt(0):-1;return 0<=a&&31>=a||127==a}function Ga(a){a="string"==typeof a?a.charCodeAt(0):-1;return 65<=a&&90>=a||97<=a&&122>=a}function La(a){a="string"==typeof a?a.charCodeAt(0):-1;return 65<=a&&90>=a||97<=a&&122>=a||48<=a&&57>=a}function Ma(a){a="string"==typeof a?a.charCodeAt(0):-1;return 48<=a&&57>=a}
function Pa(){function a(a,d,e,j,k,m,n){a>>>=0;e=e&&a&&{2:"0b",8:"0",16:"0x"}[d]||"";a=e+c(a.toString(d),m||0,"0",ia);return b(a,e,j,k,n)}function b(a,b,d,e,k,m){var n=e-a.length;0<n&&(a=d||!k?c(a,e,m,d):a.slice(0,b.length)+c("",n,"0",aa)+a.slice(b.length));return a}function c(a,b,c,d){c||(c=" ");b=a.length>=b?"":Array(1+b-a.length>>>0).join(c);return d?a+b:b+a}var d=arguments,e=0;return d[e++].replace(/%%|%(\d+\$)?([-+\'#0 ]*)(\*\d+\$|\*|\d+)?(\.(\*\d+\$|\*|\d+))?([scboxXuideEfFgG])/g,function(f,
g,l,j,k,m,n){var p,w;if("%%"==f)return"%";var r=ia;w="";var v=k=ia;p=" ";for(var C=l.length,q=0;l&&q<C;q++)switch(l.charAt(q)){case " ":w=" ";break;case "+":w="+";break;case "-":r=aa;break;case "'":p=l.charAt(q+1);break;case "0":k=aa;break;case "#":v=aa}j=j?"*"==j?+d[e++]:"*"==j.charAt(0)?+d[j.slice(1,-1)]:+j:0;0>j&&(j=-j,r=aa);if(!isFinite(j))throw Error("sprintf: (minimum-)width must be finite");m=m?"*"==m?+d[e++]:"*"==m.charAt(0)?+d[m.slice(1,-1)]:+m:-1<"fFeE".indexOf(n)?6:"d"==n?0:h;g=g?d[g.slice(0,
-1)]:d[e++];switch(n){case "s":return n=String(g),m!=s&&(n=n.slice(0,m)),b(n,"",r,j,k,p);case "c":return n=String.fromCharCode(+g),m!=s&&(n=n.slice(0,m)),b(n,"",r,j,k,h);case "b":return a(g,2,v,r,j,m,k);case "o":return a(g,8,v,r,j,m,k);case "x":return a(g,16,v,r,j,m,k);case "X":return a(g,16,v,r,j,m,k).toUpperCase();case "u":return a(g,10,v,r,j,m,k);case "i":case "d":return p=+g||0,p=Math.round(p-p%1),f=0>p?"-":w,g=f+c(String(Math.abs(p)),m,"0",ia),b(g,f,r,j,k);case "e":case "E":case "f":case "F":case "g":case "G":return p=
+g,f=0>p?"-":w,w=["toExponential","toFixed","toPrecision"]["efg".indexOf(n.toLowerCase())],n=["toString","toUpperCase"]["eEfFgG".indexOf(n)%2],g=f+Math.abs(p)[w](m),b(g,f,r,j,k)[n]();default:return f}})}function Qa(a){a.Dd=3621377730;a.ke=s;a.T=s;a.name=s;a.eb=s;a.dir=Va;a.fa=0;a.hb=100;a.I=200;a.f=a.h=0;a.K=0;a.l=Array(1+a.hb);a.e=Array(1+a.I);a.ec={};a.Lc={};a.valid=0;a.head=new Int32Array(1+a.hb);a.Qd=s;a.S=s;a.la=a.qa=db;a.Z=0;a.X=0;a.some=0;a.df=db;a.ae=0;a.xa=db;a.ra=0}
var lb=exports.glp_create_prob=function(){var a={};Qa(a);return a},pb=exports.glp_set_prob_name=function(a,b){var c=a.T;c!=s&&0!=c.reason&&y("glp_set_prob_name: operation not allowed");a.name=b},qb=exports.glp_set_obj_name=function(a,b){var c=a.T;c!=s&&0!=c.reason&&y("glp_set_obj_name: operation not allowed");a.eb=b},vb=exports.glp_set_obj_dir=function(a,b){var c=a.T;c!=s&&0!=c.reason&&y("glp_set_obj_dir: operation not allowed");b==Va||b==ub||y("glp_set_obj_dir: dir = "+b+"; invalid direction flag");
a.dir=b},cc=exports.glp_add_rows=function(a,b){var c=a.T,d;1>b&&y("glp_add_rows: nrs = "+b+"; invalid number of rows");b>1E8-a.f&&y("glp_add_rows: nrs = "+b+"; too many rows");var e=a.f+b;if(a.hb<e){for(;a.hb<e;)a.hb+=a.hb;a.l.length=1+a.hb;a.head=new Int32Array(1+a.hb)}for(var f=a.f+1;f<=e;f++){a.l[f]=d={};d.ca=f;d.name=s;d.qb=s;d.Ka=0;d.origin=0;d.rc=0;if(c!=s)switch(c.reason){case zb:d.Ka=c.L.Ka;d.origin=Eb;break;case Ub:d.Ka=c.L.Ka,d.origin=Vb}d.type=Wb;d.c=d.d=0;d.j=s;d.ka=1;d.m=E;d.bind=0;d.q=
d.H=0;d.cc=d.mc=0;d.Sa=0}a.f=e;a.valid=0;c!=s&&0!=c.reason&&(c.pe=1);return e-b+1},nc=exports.glp_add_cols=function(a,b){var c=a.T;c!=s&&0!=c.reason&&y("glp_add_cols: operation not allowed");1>b&&y("glp_add_cols: ncs = "+b+"; invalid number of columns");b>1E8-a.h&&y("glp_add_cols: ncs = "+b+"; too many columns");var d=a.h+b;if(a.I<d){for(;a.I<d;)a.I+=a.I;a.e.length=1+a.I}for(var e=a.h+1;e<=d;e++)a.e[e]=c={},c.A=e,c.name=s,c.qb=s,c.Da=dc,c.type=G,c.c=c.d=0,c.t=0,c.j=s,c.ta=1,c.m=mc,c.bind=0,c.q=c.H=
0,c.cc=c.mc=0,c.Sa=0;a.h=d;return d-b+1},oc=exports.glp_set_row_name=function(a,b,c){1<=b&&b<=a.f||y("glp_set_row_name: i = "+b+"; row number out of range");b=a.l[b];b.name!=s&&(delete a.ec[b.name],b.name=s);c!=s&&(b.name=c,a.ec[b.name]=b)},vc=exports.glp_set_col_name=function(a,b,c){var d=a.T;d!=s&&0!=d.reason&&y("glp_set_col_name: operation not allowed");1<=b&&b<=a.h||y("glp_set_col_name: j = "+b+"; column number out of range");b=a.e[b];b.name!=s&&(delete a.Lc[b.name],b.name=s);c!=s&&(b.name=c,
a.Lc[b.name]=b)},Fc=exports.glp_set_row_bnds=function(a,b,c,d,e){1<=b&&b<=a.f||y("glp_set_row_bnds: i = "+b+"; row number out of range");a=a.l[b];a.type=c;switch(c){case Wb:a.c=a.d=0;a.m!=E&&(a.m=wc);break;case xc:a.c=d;a.d=0;a.m!=E&&(a.m=J);break;case yc:a.c=0;a.d=e;a.m!=E&&(a.m=Ec);break;case R:a.c=d;a.d=e;a.m==E||(a.m==J||a.m==Ec)||(a.m=Math.abs(d)<=Math.abs(e)?J:Ec);break;case G:a.c=a.d=d;a.m!=E&&(a.m=mc);break;default:y("glp_set_row_bnds: i = "+b+"; type = "+c+"; invalid row type")}},Gc=exports.glp_set_col_bnds=
function(a,b,c,d,e){1<=b&&b<=a.h||y("glp_set_col_bnds: j = "+b+"; column number out of range");a=a.e[b];a.type=c;switch(c){case Wb:a.c=a.d=0;a.m!=E&&(a.m=wc);break;case xc:a.c=d;a.d=0;a.m!=E&&(a.m=J);break;case yc:a.c=0;a.d=e;a.m!=E&&(a.m=Ec);break;case R:a.c=d;a.d=e;a.m==E||(a.m==J||a.m==Ec)||(a.m=Math.abs(d)<=Math.abs(e)?J:Ec);break;case G:a.c=a.d=d;a.m!=E&&(a.m=mc);break;default:y("glp_set_col_bnds: j = "+b+"; type = "+c+"; invalid column type")}},Lc=exports.glp_set_obj_coef=function(a,b,c){var d=
a.T;d!=s&&0!=d.reason&&y("glp_set_obj_coef: operation not allowed");0<=b&&b<=a.h||y("glp_set_obj_coef: j = "+b+"; column number out of range");0==b?a.fa=c:a.e[b].t=c},Wc=exports.glp_set_mat_row=function(a,b,c,d,e){var f,g,l;1<=b&&b<=a.f||y("glp_set_mat_row: i = "+b+"; row number out of range");for(var j=a.l[b];j.j!=s;)g=j.j,j.j=g.z,f=g.e,g.pa==s?f.j=g.G:g.pa.G=g.G,g.G!=s&&(g.G.pa=g.pa),a.K--,f.m==E&&(a.valid=0);0<=c&&c<=a.h||y("glp_set_mat_row: i = "+b+"; len = "+c+"; invalid row length ");c>5E8-
a.K&&y("glp_set_mat_row: i = "+b+"; len = "+c+"; too many constraint coefficients");for(l=1;l<=c;l++)g=d[l],1<=g&&g<=a.h||y("glp_set_mat_row: i = "+b+"; ind["+l+"] = "+g+"; column index out of range"),f=a.e[g],f.j!=s&&f.j.l.ca==b&&y("glp_set_mat_row: i = "+b+"; ind["+l+"] = "+g+"; duplicate column indices not allowed"),g={},a.K++,g.l=j,g.e=f,g.i=e[l],g.sa=s,g.z=j.j,g.pa=s,g.G=f.j,g.z!=s&&(g.z.sa=g),g.G!=s&&(g.G.pa=g),j.j=f.j=g,f.m==E&&0!=g.i&&(a.valid=0);for(g=j.j;g!=s;g=b)b=g.z,0==g.i&&(g.sa==s?
j.j=b:g.sa.z=b,b!=s&&(b.sa=g.sa),g.e.j=g.G,g.G!=s&&(g.G.pa=s),a.K--)},Xc=exports.glp_set_mat_col=function(a,b,c,d,e){var f=a.T,g,l,j;f!=s&&0!=f.reason&&y("glp_set_mat_col: operation not allowed");1<=b&&b<=a.h||y("glp_set_mat_col: j = "+b+"; column number out of range");for(f=a.e[b];f.j!=s;)l=f.j,f.j=l.G,g=l.l,l.sa==s?g.j=l.z:l.sa.z=l.z,l.z!=s&&(l.z.sa=l.sa),a.K--;0<=c&&c<=a.f||y("glp_set_mat_col: j = "+b+"; len = "+c+"; invalid column length");c>5E8-a.K&&y("glp_set_mat_col: j = "+b+"; len = "+c+"; too many constraint coefficients");
for(j=1;j<=c;j++)l=d[j],1<=l&&l<=a.f||y("glp_set_mat_col: j = "+b+"; ind["+j+"] = "+l+"; row index out of range"),g=a.l[l],g.j!=s&&g.j.e.A==b&&y("glp_set_mat_col: j = "+b+"; ind["+j+"] = "+l+"; duplicate row indices not allowed"),l={},a.K++,l.l=g,l.e=f,l.i=e[j],l.sa=s,l.z=g.j,l.pa=s,l.G=f.j,l.z!=s&&(l.z.sa=l),l.G!=s&&(l.G.pa=l),g.j=f.j=l;for(l=f.j;l!=s;l=b)b=l.G,0==l.i&&(l.l.j=l.z,l.z!=s&&(l.z.sa=s),l.pa==s?f.j=b:l.pa.G=b,b!=s&&(b.pa=l.pa),a.K--);f.m==E&&(a.valid=0)};
exports.glp_load_matrix=function(a,b,c,d,e){var f=a.T,g,l,j,k;f!=s&&0!=f.reason&&y("glp_load_matrix: operation not allowed");for(j=1;j<=a.f;j++)for(f=a.l[j];f.j!=s;)l=f.j,f.j=l.z,a.K--;for(l=1;l<=a.h;l++)a.e[l].j=s;0>b&&y("glp_load_matrix: ne = "+b+"; invalid number of constraint coefficients");5E8<b&&y("glp_load_matrix: ne = "+b+"; too many constraint coefficients");for(k=1;k<=b;k++)j=c[k],l=d[k],1<=j&&j<=a.f||y("glp_load_matrix: ia["+k+"] = "+j+"; row index out of range"),f=a.l[j],1<=l&&l<=a.h||
y("glp_load_matrix: ja["+k+"] = "+l+"; column index out of range"),g=a.e[l],l={},a.K++,l.l=f,l.e=g,l.i=e[k],l.sa=s,l.z=f.j,l.z!=s&&(l.z.sa=l),f.j=l;for(j=1;j<=a.f;j++)for(l=a.l[j].j;l!=s;l=l.z){g=l.e;if(g.j!=s&&g.j.l.ca==j){for(k=1;k<=b&&!(c[k]==j&&d[k]==g.A);k++);y("glp_load_mat: ia["+k+"] = "+j+"; ja["+k+"] = "+g.A+"; duplicate indices not allowed")}l.pa=s;l.G=g.j;l.G!=s&&(l.G.pa=l);g.j=l}for(j=1;j<=a.f;j++){f=a.l[j];for(l=f.j;l!=s;l=b)b=l.z,0==l.i&&(l.sa==s?f.j=b:l.sa.z=b,b!=s&&(b.sa=l.sa),l.pa==
s?l.e.j=l.G:l.pa.G=l.G,l.G!=s&&(l.G.pa=l.pa),a.K--)}a.valid=0};
exports.glp_check_dup=function(a,b,c,d,e){var f,g,l,j,k;0>a&&y("glp_check_dup: m = %d; invalid parameter");0>b&&y("glp_check_dup: n = %d; invalid parameter");0>c&&y("glp_check_dup: ne = %d; invalid parameter");0<c&&d==s&&y("glp_check_dup: ia = "+d+"; invalid parameter");0<c&&e==s&&y("glp_check_dup: ja = "+e+"; invalid parameter");for(l=1;l<=c;l++)if(f=d[l],g=e[l],!(1<=f&&f<=a&&1<=g&&g<=b))return a=-l;if(0==a||0==b)return 0;j=new Int32Array(1+a);k=new Int32Array(1+c);b=new Int8Array(1+b);for(l=1;l<=
c;l++)f=d[l],k[l]=j[f],j[f]=l;for(f=1;f<=a;f++){for(l=j[f];0!=l;l=k[l]){g=e[l];if(b[g]){for(l=1;l<=c&&!(d[l]==f&&e[l]==g);l++);for(l++;l<=c&&!(d[l]==f&&e[l]==g);l++);return a=+l}b[g]=1}for(l=j[f];0!=l;l=k[l])b[e[l]]=0}return 0};
var Yc=exports.glp_sort_matrix=function(a){var b,c,d;(a==s||3621377730!=a.Dd)&&y("glp_sort_matrix: P = "+a+"; invalid problem object");for(c=a.f;1<=c;c--)a.l[c].j=s;for(d=a.h;1<=d;d--)for(b=a.e[d].j;b!=s;b=b.G)c=b.l.ca,b.sa=s,b.z=a.l[c].j,b.z!=s&&(b.z.sa=b),a.l[c].j=b;for(d=a.h;1<=d;d--)a.e[d].j=s;for(c=a.f;1<=c;c--)for(b=a.l[c].j;b!=s;b=b.z)d=b.e.A,b.pa=s,b.G=a.e[d].j,b.G!=s&&(b.G.pa=b),a.e[d].j=b},Zc=exports.glp_del_rows=function(a,b,c){var d=a.T,e,f,g;1<=b&&b<=a.f||y("glp_del_rows: nrs = "+b+"; invalid number of rows");
for(g=1;g<=b;g++)f=c[g],1<=f&&f<=a.f||y("glp_del_rows: num["+g+"] = "+f+"; row number out of range"),e=a.l[f],d!=s&&0!=d.reason&&(d.reason==zb||d.reason==Ub||y("glp_del_rows: operation not allowed"),e.Ka!=d.L.Ka&&y("glp_del_rows: num["+g+"] = "+f+"; invalid attempt to delete row created not in current subproblem"),e.m!=E&&y("glp_del_rows: num["+g+"] = "+f+"; invalid attempt to delete active row (constraint)"),d.tf=1),0==e.ca&&y("glp_del_rows: num["+g+"] = "+f+"; duplicate row numbers not allowed"),
oc(a,f,s),Wc(a,f,0,s,s),e.ca=0;b=0;for(f=1;f<=a.f;f++)e=a.l[f],0!=e.ca&&(e.ca=++b,a.l[e.ca]=e);a.f=b;a.valid=0};
exports.glp_del_cols=function(a,b,c){var d=a.T,e,f;d!=s&&0!=d.reason&&y("glp_del_cols: operation not allowed");1<=b&&b<=a.h||y("glp_del_cols: ncs = "+b+"; invalid number of columns");for(f=1;f<=b;f++)d=c[f],1<=d&&d<=a.h||y("glp_del_cols: num["+f+"] = "+d+"; column number out of range"),e=a.e[d],0==e.A&&y("glp_del_cols: num["+f+"] = "+d+"; duplicate column numbers not allowed"),vc(a,d,s),Xc(a,d,0,s,s),e.A=0,e.m==E&&(a.valid=0);b=0;for(d=1;d<=a.h;d++)e=a.e[d],0!=e.A&&(e.A=++b,a.e[e.A]=e);a.h=b;if(a.valid){c=
a.f;e=a.head;for(d=1;d<=b;d++)f=a.e[d].bind,0!=f&&(e[f]=c+d)}};
var Ad=exports.glp_copy_prob=function(a,b,c){var d=a.T,e={},f,g,l,j;d!=s&&0!=d.reason&&y("glp_copy_prob: operation not allowed");a==b&&y("glp_copy_prob: copying problem object to itself not allowed");c==nd||c==od||y("glp_copy_prob: names = "+c+"; invalid parameter");pd(a);c&&b.name!=s&&pb(a,b.name);c&&b.eb!=s&&qb(a,b.eb);a.dir=b.dir;a.fa=b.fa;0<b.f&&cc(a,b.f);0<b.h&&nc(a,b.h);qd(b,e);rd(a,e);a.la=b.la;a.qa=b.qa;a.Z=b.Z;a.some=b.some;a.df=b.df;a.ae=b.ae;a.xa=b.xa;a.ra=b.ra;for(f=1;f<=b.f;f++)d=a.l[f],
e=b.l[f],c&&e.name!=s&&oc(a,f,e.name),d.type=e.type,d.c=e.c,d.d=e.d,d.ka=e.ka,d.m=e.m,d.q=e.q,d.H=e.H,d.cc=e.cc,d.mc=e.mc,d.Sa=e.Sa;l=new Int32Array(1+b.f);j=new Float64Array(1+b.f);for(f=1;f<=b.h;f++)d=a.e[f],e=b.e[f],c&&e.name!=s&&vc(a,f,e.name),d.Da=e.Da,d.type=e.type,d.c=e.c,d.d=e.d,d.t=e.t,g=sd(b,f,l,j),Xc(a,f,g,l,j),d.ta=e.ta,d.m=e.m,d.q=e.q,d.H=e.H,d.cc=e.cc,d.mc=e.mc,d.Sa=e.Sa},pd=exports.glp_erase_prob=function(a){var b=a.T;b!=s&&0!=b.reason&&y("glp_erase_prob: operation not allowed");a.Dd=
1061109567;a.ke=s;a.l=s;a.e=s;a.ec=s;a.Lc=s;a.head=s;a.Qd=s;a.S=s;Qa(a)};exports.glp_get_prob_name=function(a){return a.name};
var Bd=exports.glp_get_obj_name=function(a){return a.eb},Gd=exports.glp_get_obj_dir=function(a){return a.dir},Md=exports.glp_get_num_rows=function(a){return a.f},Nd=exports.glp_get_num_cols=function(a){return a.h},Od=exports.glp_get_row_name=function(a,b){1<=b&&b<=a.f||y("glp_get_row_name: i = "+b+"; row number out of range");return a.l[b].name},de=exports.glp_get_col_name=function(a,b){1<=b&&b<=a.h||y("glp_get_col_name: j = "+b+"; column number out of range");return a.e[b].name},ee=exports.glp_get_row_type=
function(a,b){1<=b&&b<=a.f||y("glp_get_row_type: i = "+b+"; row number out of range");return a.l[b].type},ue=exports.glp_get_row_lb=function(a,b){var c;1<=b&&b<=a.f||y("glp_get_row_lb: i = "+b+"; row number out of range");switch(a.l[b].type){case Wb:case yc:c=-u;break;case xc:case R:case G:c=a.l[b].c}return c},ve=exports.glp_get_row_ub=function(a,b){var c;1<=b&&b<=a.f||y("glp_get_row_ub: i = "+b+"; row number out of range");switch(a.l[b].type){case Wb:case xc:c=+u;break;case yc:case R:case G:c=a.l[b].d}return c},
we=exports.glp_get_col_type=function(a,b){1<=b&&b<=a.h||y("glp_get_col_type: j = "+b+"; column number out of range");return a.e[b].type},xe=exports.glp_get_col_lb=function(a,b){var c;1<=b&&b<=a.h||y("glp_get_col_lb: j = "+b+"; column number out of range");switch(a.e[b].type){case Wb:case yc:c=-u;break;case xc:case R:case G:c=a.e[b].c}return c},ye=exports.glp_get_col_ub=function(a,b){var c;1<=b&&b<=a.h||y("glp_get_col_ub: j = "+b+"; column number out of range");switch(a.e[b].type){case Wb:case xc:c=
+u;break;case yc:case R:case G:c=a.e[b].d}return c};exports.glp_get_obj_coef=function(a,b){0<=b&&b<=a.h||y("glp_get_obj_coef: j = "+b+"; column number out of range");return 0==b?a.fa:a.e[b].t};exports.glp_get_num_nz=function(a){return a.K};
var ze=exports.glp_get_mat_row=function(a,b,c,d){var e;1<=b&&b<=a.f||y("glp_get_mat_row: i = "+b+"; row number out of range");e=0;for(a=a.l[b].j;a!=s;a=a.z)e++,c!=s&&(c[e]=a.e.A),d!=s&&(d[e]=a.i);return e},sd=exports.glp_get_mat_col=function(a,b,c,d){var e;1<=b&&b<=a.h||y("glp_get_mat_col: j = "+b+"; column number out of range");e=0;for(a=a.e[b].j;a!=s;a=a.G)e++,c!=s&&(c[e]=a.l.ca),d!=s&&(d[e]=a.i);return e},Ae=exports.glp_create_index=function(a){var b,c;if(a.ec==s){a.ec={};for(c=1;c<=a.f;c++)b=
a.l[c],b.name!=s&&(a.ec[b.name]=b)}if(a.Lc==s){a.Lc={};for(c=1;c<=a.h;c++)b=a.e[c],b.name!=s&&(a.Lc[b.name]=b)}},Be=exports.glp_find_row=function(a,b){var c=0;a.ec==s&&y("glp_find_row: row name index does not exist");var d=a.ec[b];d&&(c=d.ca);return c},Oe=exports.glp_find_col=function(a,b){var c=0;a.Lc==s&&y("glp_find_col: column name index does not exist");var d=a.Lc[b];d&&(c=d.A);return c},Pe=exports.glp_delete_index=function(a){a.ec=s;a.ec=s},Qe=exports.glp_set_rii=function(a,b,c){1<=b&&b<=a.f||
y("glp_set_rii: i = "+b+"; row number out of range");0>=c&&y("glp_set_rii: i = "+b+"; rii = "+c+"; invalid scale factor");if(a.valid&&a.l[b].ka!=c)for(var d=a.l[b].j;d!=s;d=d.z)if(d.e.m==E){a.valid=0;break}a.l[b].ka=c},Re=exports.glp_set_sjj=function(a,b,c){1<=b&&b<=a.h||y("glp_set_sjj: j = "+b+"; column number out of range");0>=c&&y("glp_set_sjj: j = "+b+"; sjj = "+c+"; invalid scale factor");a.valid&&(a.e[b].ta!=c&&a.e[b].m==E)&&(a.valid=0);a.e[b].ta=c},gf=exports.glp_get_rii=function(a,b){1<=b&&
b<=a.f||y("glp_get_rii: i = "+b+"; row number out of range");return a.l[b].ka},hf=exports.glp_get_sjj=function(a,b){1<=b&&b<=a.h||y("glp_get_sjj: j = "+b+"; column number out of range");return a.e[b].ta},jf=exports.glp_unscale_prob=function(a){var b=Md(a),c=Nd(a),d;for(d=1;d<=b;d++)Qe(a,d,1);for(b=1;b<=c;b++)Re(a,b,1)},kf=exports.glp_set_row_stat=function(a,b,c){1<=b&&b<=a.f||y("glp_set_row_stat: i = "+b+"; row number out of range");c==E||(c==J||c==Ec||c==wc||c==mc)||y("glp_set_row_stat: i = "+b+
"; stat = "+c+"; invalid status");b=a.l[b];if(c!=E)switch(b.type){case Wb:c=wc;break;case xc:c=J;break;case yc:c=Ec;break;case R:c!=Ec&&(c=J);break;case G:c=mc}if(b.m==E&&c!=E||b.m!=E&&c==E)a.valid=0;b.m=c},lf=exports.glp_set_col_stat=function(a,b,c){1<=b&&b<=a.h||y("glp_set_col_stat: j = "+b+"; column number out of range");c==E||(c==J||c==Ec||c==wc||c==mc)||y("glp_set_col_stat: j = "+b+"; stat = "+c+"; invalid status");b=a.e[b];if(c!=E)switch(b.type){case Wb:c=wc;break;case xc:c=J;break;case yc:c=
Ec;break;case R:c!=Ec&&(c=J);break;case G:c=mc}if(b.m==E&&c!=E||b.m!=E&&c==E)a.valid=0;b.m=c},mf=exports.glp_std_basis=function(a){var b;for(b=1;b<=a.f;b++)kf(a,b,E);for(b=1;b<=a.h;b++){var c=a.e[b];c.type==R&&Math.abs(c.c)>Math.abs(c.d)?lf(a,b,Ec):lf(a,b,J)}},Fg=exports.glp_simplex=function(a,b){function c(a,b){var c;if(!nf(a)&&(c=of(a),0!=c&&(c==pf?b.n>=qf&&B("glp_simplex: initial basis is invalid"):c==Bf?b.n>=qf&&B("glp_simplex: initial basis is singular"):c==Cf&&b.n>=qf&&B("glp_simplex: initial basis is ill-conditioned")),
0!=c))return c;b.cb==Df?c=Ef(a,b):b.cb==Ff?(c=Gf(a,b),c==Hf&&a.valid&&(c=Ef(a,b))):b.cb==If&&(c=Gf(a,b));return c}function d(a,b){function d(){Jf(e,f);f=s;Wf(e,a);return k=0}var e,f=s,g={},k;b.n>=Xf&&B("Preprocessing...");e=Yf();Zf(e,a,$f);k=ag(e,0);0!=k&&(k==bg?b.n>=Xf&&B("PROBLEM HAS NO PRIMAL FEASIBLE SOLUTION"):k==cg&&b.n>=Xf&&B("PROBLEM HAS NO DUAL FEASIBLE SOLUTION"));if(0!=k)return k;f=lb();dg(e,f);if(0==f.f&&0==f.h)return f.la=f.qa=fg,f.Z=f.fa,b.n>=pg&&0==b.fb&&B(a.X+": obj = "+f.Z+"  infeas = 0.0"),
b.n>=Xf&&B("OPTIMAL SOLUTION FOUND BY LP PREPROCESSOR"),d();b.n>=Xf&&B(f.f+" row"+(1==f.f?"":"s")+", "+f.h+" column"+(1==f.h?"":"s")+", "+f.K+" non-zero"+(1==f.K?"":"s")+"");qd(a,g);rd(f,g);var g=ya,j=g.Eb;g.Eb=!j||b.n<Xf?od:nd;qg(f,vg);g.Eb=j;g=ya;j=g.Eb;g.Eb=!j||b.n<Xf?od:nd;wg(f);g.Eb=j;f.X=a.X;k=c(f,b);a.X=f.X;return!(0==k&&f.la==fg&&f.qa==fg)?(b.n>=qf&&B("glp_simplex: unable to recover undefined or non-optimal solution"),0==k&&(f.la==xg?k=bg:f.qa==xg&&(k=cg)),k):d()}var e={};(a==s||3621377730!=
a.Dd)&&y("glp_simplex: P = "+a+"; invalid problem object");a.T!=s&&0!=a.T.reason&&y("glp_simplex: operation not allowed");b==s&&(b=e,glp_init_smcp(b));b.n==yg||(b.n==qf||b.n==pg||b.n==Xf||b.n==zg)||y("glp_simplex: msg_lev = "+b.n+"; invalid parameter");b.cb==Df||(b.cb==Ff||b.cb==If)||y("glp_simplex: meth = "+b.cb+"; invalid parameter");b.fd==Ag||b.fd==Bg||y("glp_simplex: pricing = "+b.fd+"; invalid parameter");b.ne==Cg||b.ne==Dg||y("glp_simplex: r_test = "+b.ne+"; invalid parameter");0<b.Fb&&1>b.Fb||
y("glp_simplex: tol_bnd = "+b.Fb+"; invalid parameter");0<b.sb&&1>b.sb||y("glp_simplex: tol_dj = "+b.sb+"; invalid parameter");0<b.xe&&1>b.xe||y("glp_simplex: tol_piv = "+b.xe+"; invalid parameter");0>b.pc&&y("glp_simplex: it_lim = "+b.pc+"; invalid parameter");0>b.rb&&y("glp_simplex: tm_lim = "+b.rb+"; invalid parameter");1>b.ac&&y("glp_simplex: out_frq = "+b.ac+"; invalid parameter");0>b.fb&&y("glp_simplex: out_dly = "+b.fb+"; invalid parameter");b.zc==nd||b.zc==od||y("glp_simplex: presolve = "+
b.zc+"; invalid parameter");a.la=a.qa=db;a.Z=0;a.some=0;for(e=1;e<=a.f;e++){var f=a.l[e];if(f.type==R&&f.c>=f.d)return b.n>=qf&&B("glp_simplex: row "+e+": lb = "+f.c+", ub = "+f.d+"; incorrect bounds"),e=Eg}for(e=1;e<=a.h;e++)if(f=a.e[e],f.type==R&&f.c>=f.d)return b.n>=qf&&B("glp_simplex: column "+e+": lb = "+f.c+", ub = "+f.d+"; incorrect bounds"),e=Eg;b.n>=Xf&&(B("GLPK Simplex Optimizer, v"+Da()+""),B(a.f+" row"+(1==a.f?"":"s")+", "+a.h+" column"+(1==a.h?"":"s")+", "+a.K+" non-zero"+(1==a.K?"":
"s")+""));if(0==a.K){var e=b,f=function(){j.m=J;j.q=j.c},g=function(){j.m=Ec;j.q=j.d},l,j,k,m,n;a.valid=0;a.la=a.qa=fg;a.Z=a.fa;m=n=a.some=0;for(k=1;k<=a.f;k++){l=a.l[k];l.m=E;l.q=l.H=0;if(l.type==xc||l.type==R||l.type==G)l.c>+e.Fb&&(a.la=xg,0==a.some&&e.cb!=Df&&(a.some=k)),m<+l.c&&(m=+l.c);if(l.type==yc||l.type==R||l.type==G)l.d<-e.Fb&&(a.la=xg,0==a.some&&e.cb!=Df&&(a.some=k)),m<-l.d&&(m=-l.d)}for(l=k=1;l<=a.h;l++)j=a.e[l],k<Math.abs(j.t)&&(k=Math.abs(j.t));k=(a.dir==Va?1:-1)/k;for(l=1;l<=a.h;l++){j=
a.e[l];j.type==Wb?(j.m=wc,j.q=0):j.type==xc?f():j.type==yc?g():j.type==R?0<k*j.t?f():0>k*j.t?g():Math.abs(j.c)<=Math.abs(j.d)?f():g():j.type==G&&(j.m=mc,j.q=j.c);j.H=j.t;a.Z+=j.t*j.q;if(j.type==Wb||j.type==xc)k*j.H<-e.sb&&(a.qa=xg,0==a.some&&e.cb==Df&&(a.some=a.f+l)),n<-k*j.H&&(n=-k*j.H);if(j.type==Wb||j.type==yc)k*j.H>+e.sb&&(a.qa=xg,0==a.some&&e.cb==Df&&(a.some=a.f+l)),n<+k*j.H&&(n=+k*j.H)}e.n>=pg&&0==e.fb&&B("~"+a.X+": obj = "+a.Z+"  infeas = "+(e.cb==Df?m:n)+"");e.n>=Xf&&0==e.fb&&(a.la==fg&&a.qa==
fg?B("OPTIMAL SOLUTION FOUND"):a.la==xg?B("PROBLEM HAS NO FEASIBLE SOLUTION"):e.cb==Df?B("PROBLEM HAS UNBOUNDED SOLUTION"):B("PROBLEM HAS NO DUAL FEASIBLE SOLUTION"));e=0}else e=b.zc?d(a,b):c(a,b);return e},Gg=exports.SMCP=function(a){a=a||{};this.n=a.msg_lev||Xf;this.cb=a.meth||Df;this.fd=a.pricing||Bg;this.ne=a.r_test||Dg;this.Fb=a.tol_bnd||1E-7;this.sb=a.tol_dj||1E-7;this.xe=a.tol_piv||1E-10;this.hf=a.obj_ll||-u;this.jf=a.obj_ul||+u;this.pc=a.it_lim||2147483647;this.rb=a.tm_lim||2147483647;this.ac=
a.out_frq||500;this.fb=a.out_dly||0;this.zc=a.presolve||od},Lg=exports.glp_get_status=function(a){var b;b=Hg(a);switch(b){case fg:switch(Ig(a)){case fg:b=Jg;break;case xg:b=Kg}}return b},Hg=exports.glp_get_prim_stat=function(a){return a.la},Ig=exports.glp_get_dual_stat=function(a){return a.qa},Mg=exports.glp_get_obj_val=function(a){return a.Z},ah=exports.glp_get_row_stat=function(a,b){1<=b&&b<=a.f||y("glp_get_row_stat: i = "+b+"; row number out of range");return a.l[b].m},bh=exports.glp_get_row_prim=
function(a,b){1<=b&&b<=a.f||y("glp_get_row_prim: i = "+b+"; row number out of range");return a.l[b].q},ch=exports.glp_get_row_dual=function(a,b){1<=b&&b<=a.f||y("glp_get_row_dual: i = "+b+"; row number out of range");return a.l[b].H},dh=exports.glp_get_col_stat=function(a,b){1<=b&&b<=a.h||y("glp_get_col_stat: j = "+b+"; column number out of range");return a.e[b].m},eh=exports.glp_get_col_prim=function(a,b){1<=b&&b<=a.h||y("glp_get_col_prim: j = "+b+"; column number out of range");return a.e[b].q},
fh=exports.glp_get_col_dual=function(a,b){1<=b&&b<=a.h||y("glp_get_col_dual: j = "+b+"; column number out of range");return a.e[b].H};exports.glp_get_unbnd_ray=function(a){var b=a.some;b>a.f+a.h&&(b=0);return b};
var ih=exports.glp_set_col_kind=function(a,b,c){1<=b&&b<=a.h||y("glp_set_col_kind: j = "+b+"; column number out of range");var d=a.e[b];switch(c){case dc:d.Da=dc;break;case gh:d.Da=gh;break;case hh:d.Da=gh;d.type==R&&0==d.c&&1==d.d||Gc(a,b,R,0,1);break;default:y("glp_set_col_kind: j = "+b+"; kind = "+c+"; invalid column kind")}},jh=exports.glp_get_col_kind=function(a,b){1<=b&&b<=a.h||y("glp_get_col_kind: j = "+b+"; column number out of range");var c=a.e[b],d=c.Da;switch(d){case gh:c.type==R&&(0==
c.c&&1==c.d)&&(d=hh)}return d},kh=exports.glp_get_num_int=function(a){for(var b,c=0,d=1;d<=a.h;d++)b=a.e[d],b.Da==gh&&c++;return c},lh=exports.glp_get_num_bin=function(a){for(var b,c=0,d=1;d<=a.h;d++)b=a.e[d],b.Da==gh&&(b.type==R&&0==b.c&&1==b.d)&&c++;return c};
exports.glp_intopt=function(a,b){function c(a,b){var c;if(Lg(a)!=Jg)return b.n>=qf&&B("glp_intopt: optimal basis to initial LP relaxation not provided"),c=mh;b.n>=Xf&&B("Integer optimization begins...");var d=a.f,e=a.h,f,p,w;a.T=f={};f.h=e;f.xc=d;f.$b=new Int8Array(1+d+e);f.bd=new Float64Array(1+d+e);f.cd=new Float64Array(1+d+e);f.mf=new Int8Array(1+d+e);f.lf=new Float64Array(1+d+e);f.kf=new Float64Array(1+d+e);for(p=1;p<=d;p++){var r=a.l[p];f.$b[p]=r.type;f.bd[p]=r.c;f.cd[p]=r.d;f.mf[p]=r.m;f.lf[p]=
r.q;f.kf[p]=r.H}for(w=1;w<=e;w++){var v=a.e[w];f.$b[d+w]=v.type;f.bd[d+w]=v.c;f.cd[d+w]=v.d;f.mf[d+w]=v.m;f.lf[d+w]=v.q;f.kf[d+w]=v.H}f.ih=a.Z;f.fe=0;f.Sc=0;f.wa=s;f.head=f.Xa=s;f.Pd=f.Zf=f.Jg=0;f.Ig=0;f.se=s;f.qe=f.te=s;f.re=s;f.L=s;f.w=a;f.ad=new Int8Array(1+e);f.Fg=f.Gg=0;f.qf=s;f.of=f.rf=s;f.pf=s;var C={size:0};C.head=C.Xa=s;C.fh=0;C.L=s;f.Bd=C;f.Xf=s;f.Ne=s;f.Fd=s;f.Bg=new Int32Array(1+e);f.Tg=new Float64Array(1+e);f.o=b;f.gc=ra();f.Lg=0;f.ph=0;f.reason=0;f.pe=0;f.tf=0;f.Tc=0;f.Jf=0;f.ud=0;f.gf=
0;f.stop=0;nh(f,s);a:{for(var q=function(a,b){var c,d,e,f;d=a.w.xa==fg?String(a.w.ra):"not found yet";c=oh(a);0==c?e="tree is empty":(c=a.wa[c].qb.bound,e=c==-u?"-inf":c==+u?"+inf":c);a.w.dir==Va?f=">=":a.w.dir==ub&&(f="<=");c=ph(a);B("+"+a.w.X+": "+(b?">>>>>":"mip =")+" "+d+" "+f+" "+e+" "+(0==c?"  0.0%":0.0010>c?" < 0.1%":9.999>=c?"  "+Number(100*c).toFixed(1)+"%":"")+" ("+a.Pd+"; "+(a.Jg-a.Zf)+")");a.Lg=ra()},z=function(a,b){return qh(a,a.wa[b].qb.bound)},D=function(a){var b=a.w,c,d=0,e=0,f=0,
g=0,k=0;for(c=b.f;0<c;c--){var j=b.l[c];j.origin==Vb&&(j.rc==rh?d++:j.rc==sh?e++:j.rc==th?f++:j.rc==uh?g++:k++)}0<d+e+f+g+k&&(B("Cuts on level "+a.L.Ka+":"),0<d&&B(" gmi = "+d+";"),0<e&&B(" mir = "+e+";"),0<f&&B(" cov = "+f+";"),0<g&&B(" clq = "+g+";"),0<k&&B(" app = "+k+";"),B(""))},H,O,I,K,t,F=0,x=f.gc,M=0;;){var L=s;switch(M){case 0:if(f.head==s){f.o.n>=zg&&B("Active list is empty!");t=0;L=3;break}if(f.o.ob!=s&&(f.reason=yh,f.o.ob(f,f.o.Uc),f.reason=0,f.stop)){t=zh;L=3;break}if(0==f.gf){var T;
if(1==f.Pd)T=f.head.r;else{var A;if(0!=f.ud)A=f.ud;else{var N=h;if(f.o.kc==Ah)N=f.Xa.r;else if(f.o.kc==Bh)N=f.head.r;else if(f.o.kc==Ch){var P=h,za=s,ua=h,va=h;switch(f.w.dir){case Va:ua=+u;for(P=f.head;P!=s;P=P.next)ua>P.bound&&(ua=P.bound);va=0.0010*(1+Math.abs(ua));for(P=f.head;P!=s;P=P.next)if(P.bound<=ua+va&&(za==s||za.P.Zc>P.P.Zc))za=P;break;case ub:ua=-u;for(P=f.head;P!=s;P=P.next)ua<P.bound&&(ua=P.bound);va=0.0010*(1+Math.abs(ua));for(P=f.head;P!=s;P=P.next)if(P.bound>=ua-va&&(za==s||za.sc<
P.sc))za=P}N=za.r}else if(f.o.kc==Dh){var ka=h;if(f.w.xa==db){for(var ec=h,Ce=h,Se=h,Ce=0,Se=u,ec=f.head;ec!=s;ec=ec.next)Se>ec.P.Zc&&(Ce=ec.r,Se=ec.P.Zc);ka=Ce}else{for(var Te=h,wb=h,Ja=h,td=h,Pd=h,Hc=h,Te=f.wa[1].qb,Pd=(f.w.ra-Te.bound)/Te.Zc,Ja=0,td=u,wb=f.head;wb!=s;wb=wb.next)Hc=wb.P.bound+Pd*wb.P.Zc,f.w.dir==ub&&(Hc=-Hc),td>Hc&&(Ja=wb.r,td=Hc);ka=Ja}N=ka}A=N}T=A}f.gf=T}var ha=f,ba=ha.w,ga=h,Nb=h,eb=h,V=h,Ab=h,ca=h,ga=ha.wa[f.gf].qb;ha.L=ga;Nb=ha.wa[1].qb;if(ga!=Nb){for(ga.ha=s;ga!=s;ga=ga.P)ga.P!=
s&&(ga.P.ha=ga);for(ga=Nb;ga!=s;ga=ga.ha){var Xb=ba.f,Ob=ba.h;if(ga.ha==s){var wa,Fa;ha.Fg=Xb;if(ha.Gg<Xb+Ob){var zc=Xb+Ob+100;ha.Gg=zc;ha.qf=new Int8Array(1+zc);ha.of=new Float64Array(1+zc);ha.rf=new Float64Array(1+zc);ha.pf=new Int8Array(1+zc)}for(wa=1;wa<=Xb;wa++){var Fb=ba.l[wa];ha.qf[wa]=Fb.type;ha.of[wa]=Fb.c;ha.rf[wa]=Fb.d;ha.pf[wa]=Fb.m}for(Fa=1;Fa<=Ob;Fa++){var $c=ba.e[Fa];ha.qf[ba.f+Fa]=$c.type;ha.of[ba.f+Fa]=$c.c;ha.rf[ba.f+Fa]=$c.d;ha.pf[ba.f+Fa]=$c.m}}for(eb=ga.Ma;eb!=s;eb=eb.next)eb.qc<=
Xb?Fc(ba,eb.qc,eb.type,eb.c,eb.d):Gc(ba,eb.qc-Xb,eb.type,eb.c,eb.d);for(Ab=ga.Ac;Ab!=s;Ab=Ab.next)Ab.qc<=Xb?kf(ba,Ab.qc,Ab.m):lf(ba,Ab.qc-Xb,Ab.m);if(ga.dc!=s){var Ic,De,ad;De=new Int32Array(1+Ob);ad=new Float64Array(1+Ob);for(V=ga.dc;V!=s;V=V.next){wa=cc(ba,1);oc(ba,wa,V.name);ba.l[wa].Ka=ga.Ka;ba.l[wa].origin=V.origin;ba.l[wa].rc=V.rc;Fc(ba,wa,V.type,V.c,V.d);Ic=0;for(ca=V.j;ca!=s;ca=ca.next)Ic++,De[Ic]=ca.A,ad[Ic]=ca.i;Wc(ba,wa,Ic,De,ad);Qe(ba,wa,V.ka);kf(ba,wa,V.m)}}}for(ga=ha.L;ga.Ma!=s;)eb=
ga.Ma,ga.Ma=eb.next;for(;ga.Ac!=s;)Ab=ga.Ac,ga.Ac=Ab.next;for(;ga.dc!=s;){V=ga.dc;for(ga.dc=V.next;V.j!=s;)ca=V.j,V.j=ca.next}}f.gf=f.ud=0;f.L.P!=s&&f.L.P.r!=F&&(F=0);H=f.L.r;f.o.n>=zg&&(B("------------------------------------------------------------------------"),B("Processing node "+H+" at level "+f.L.Ka+""));if(1==H){f.o.Ad==nd&&f.o.n>=Xf&&B("Gomory's cuts enabled");if(f.o.Ed==nd){f.o.n>=Xf&&B("MIR cuts enabled");var fe=f,bd=f,ab=bd.w,fa=ab.f,qa=ab.h,Q=h;Eh&&B("ios_mir_init: warning: debug mode enabled");
Q={};Q.f=fa;Q.h=qa;Q.Db=new Int8Array(1+fa);Q.ab=new Int8Array(1+fa+qa);Q.c=new Float64Array(1+fa+qa);Q.Xb=new Int32Array(1+fa+qa);Q.d=new Float64Array(1+fa+qa);Q.yb=new Int32Array(1+fa+qa);Q.x=new Float64Array(1+fa+qa);Q.Ef=new Int32Array(1+Fh);Q.Ya=Gh(fa+qa);Q.lb=new Int8Array(1+fa+qa);Q.ma=Gh(fa+qa);Q.D=Gh(fa+qa);for(var Qd=bd.w,Ng=Q.f,Wa=h,Wa=1;Wa<=Ng;Wa++){var Jc=Qd.l[Wa];Q.Db[Wa]=0;Q.ab[Wa]=0;switch(Jc.type){case Wb:Q.c[Wa]=-u;Q.d[Wa]=+u;break;case xc:Q.c[Wa]=Jc.c;Q.d[Wa]=+u;break;case yc:Q.c[Wa]=
-u;Q.d[Wa]=Jc.d;break;case R:Q.c[Wa]=Jc.c;Q.d[Wa]=Jc.d;break;case G:Q.c[Wa]=Q.d[Wa]=Jc.c}Q.Xb[Wa]=Q.yb[Wa]=0}for(var Yb=bd.w,eg=Q.f,ge=Q.h,Xa=h,Xa=eg+1;Xa<=eg+ge;Xa++){var Ha=Yb.e[Xa-eg];switch(Ha.Da){case dc:Q.ab[Xa]=0;break;case gh:Q.ab[Xa]=1}switch(Ha.type){case Wb:Q.c[Xa]=-u;Q.d[Xa]=+u;break;case xc:Q.c[Xa]=Ha.c;Q.d[Xa]=+u;break;case yc:Q.c[Xa]=-u;Q.d[Xa]=Ha.d;break;case R:Q.c[Xa]=Ha.c;Q.d[Xa]=Ha.d;break;case G:Q.c[Xa]=Q.d[Xa]=Ha.c}Q.Xb[Xa]=Q.yb[Xa]=0}for(var he=bd.w,xa=Q.f,bb=h,Gb=h,rb=h,pc=
h,Ac=h,qc=h,Gb=1;Gb<=xa;Gb++)if(0==Q.c[Gb]&&Q.d[Gb]==+u||Q.c[Gb]==-u&&0==Q.d[Gb])if(bb=he.l[Gb].j,bb!=s&&(rb=xa+bb.e.A,Ac=bb.i,bb=bb.z,bb!=s&&(pc=xa+bb.e.A,qc=bb.i,bb.z==s))){if(Q.ab[rb]||!Q.ab[pc])if(Q.ab[rb]&&!Q.ab[pc])pc=rb,qc=Ac,rb=xa+bb.e.A,Ac=bb.i;else continue;Q.c[pc]==-u||(Q.d[pc]==+u||Q.c[pc]==Q.d[pc])||(0==Q.d[Gb]&&(Ac=-Ac,qc=-qc),0<Ac?0==Q.Xb[rb]&&(Q.c[rb]=-qc/Ac,Q.Xb[rb]=pc,Q.Db[Gb]=1):0==Q.yb[rb]&&(Q.d[rb]=-qc/Ac,Q.yb[rb]=pc,Q.Db[Gb]=1))}for(var Bb=bd.w,Ue=Q.f,fb=h,Ba=h,Pb=h,Rd=h,Ba=
1;Ba<=Ue;Ba++)if(Q.c[Ba]==-u&&Q.d[Ba]==+u)Q.Db[Ba]=1;else{Rd=0;for(fb=Bb.l[Ba].j;fb!=s;fb=fb.z){Pb=Ue+fb.e.A;if(Q.c[Pb]==-u&&Q.d[Pb]==+u){Q.Db[Ba]=1;break}if(Q.ab[Pb]&&Q.c[Pb]==-u||Q.ab[Pb]&&Q.d[Pb]==+u){Q.Db[Ba]=1;break}0==Q.Xb[Pb]&&0==Q.yb[Pb]&&Q.c[Pb]==Q.d[Pb]||Rd++}0==Rd&&(Q.Db[Ba]=1)}fe.Xf=Q}f.o.xd==nd&&f.o.n>=Xf&&B("Cover cuts enabled");f.o.vd==nd&&(f.o.n>=Xf&&B("Clique cuts enabled"),f.Ne=Hh(f))}case 1:(f.o.n>=zg||f.o.n>=pg&&f.o.ac-1<=1E3*sa(f.Lg))&&q(f,0);f.o.n>=Xf&&60<=sa(x)&&(B("Time used: "+
sa(f.gc)+" secs"),x=ra());if(0<f.o.ce&&ph(f)<=f.o.ce){f.o.n>=zg&&B("Relative gap tolerance reached; search terminated ");t=Ih;L=3;break}if(2147483647>f.o.rb&&f.o.rb-1<=1E3*sa(f.gc)){f.o.n>=zg&&B("Time limit exhausted; search terminated");t=Jh;L=3;break}if(f.o.ob!=s&&(f.reason=Kh,f.o.ob(f,f.o.Uc),f.reason=0,f.stop)){t=zh;L=3;break}if(f.o.ed!=Lh)if(f.o.ed==Mh){if(0==f.L.Ka&&Nh(f,100)){L=2;break}}else if(f.o.ed==Oh&&Nh(f,0==f.L.Ka?100:10)){L=2;break}if(!z(f,H)){B("*** not tested yet ***");L=2;break}f.o.n>=
zg&&B("Solving LP relaxation...");var Bc=f,mb=Bc.w,Kc=h,Hb=new Gg;switch(Bc.o.n){case yg:Hb.n=yg;break;case qf:Hb.n=qf;break;case pg:case Xf:Hb.n=pg;break;case zg:Hb.n=Xf}Hb.cb=Ff;Hb.fb=Bc.o.n<zg?Bc.o.fb:0;if(mb.xa==fg)switch(Bc.w.dir){case Va:Hb.jf=mb.ra;break;case ub:Hb.hf=mb.ra}Kc=Fg(mb,Hb);Bc.L.eg++;t=Kc;if(!(0==t||t==Ph||t==Qh)){f.o.n>=qf&&B("ios_driver: unable to solve current LP relaxation; glp_simplex returned "+t+"");t=Hf;L=3;break}I=f.w.la;K=f.w.qa;if(I==fg&&K==fg)f.o.n>=zg&&B("Found optimal solution to LP relaxation");
else if(K==xg){f.o.n>=qf&&B("ios_driver: current LP relaxation has no dual feasible solution");t=Hf;L=3;break}else if(I==Rh&&K==fg){f.o.n>=zg&&B("LP relaxation has no solution better than incumbent objective value");L=2;break}else if(I==xg){f.o.n>=zg&&B("LP relaxation has no feasible solution");L=2;break}var rc=f.L.sc=f.w.Z,rc=Sh(f,rc);f.w.dir==Va?f.L.bound<rc&&(f.L.bound=rc):f.w.dir==ub&&f.L.bound>rc&&(f.L.bound=rc);f.o.n>=zg&&B("Local bound is "+rc+"");if(!z(f,H)){f.o.n>=zg&&B("Current branch is hopeless and can be pruned");
L=2;break}if(f.o.ob!=s){f.reason=zb;f.o.ob(f,f.o.Uc);f.reason=0;if(f.stop){t=zh;L=3;break}if(f.pe){f.pe=f.tf=0;L=1;break}f.tf&&(f.tf=0,of(f.w))}for(var la=f,Ee=la.w,Mc=h,gb=h,da=0,Nc=h,Fe=h,hb=h,cb=h,Ta=h,Ib=0,Mc=1;Mc<=Ee.h;Mc++){var Ya=Ee.e[Mc];la.ad[Mc]=0;if(Ya.Da==gh&&Ya.m==E){gb=Ya.type;Nc=Ya.c;Fe=Ya.d;hb=Ya.q;if(gb==xc||gb==R||gb==G){cb=Nc-la.o.Tb;Ta=Nc+la.o.Tb;if(cb<=hb&&hb<=Ta)continue;if(hb<Nc)continue}if(gb==yc||gb==R||gb==G){cb=Fe-la.o.Tb;Ta=Fe+la.o.Tb;if(cb<=hb&&hb<=Ta)continue;if(hb>Fe)continue}cb=
Math.floor(hb+0.5)-la.o.Tb;Ta=Math.floor(hb+0.5)+la.o.Tb;cb<=hb&&hb<=Ta||(la.ad[Mc]=1,da++,cb=hb-Math.floor(hb),Ta=Math.ceil(hb)-hb,Ib+=cb<=Ta?cb:Ta)}}la.L.Ag=da;la.L.Zc=Ib;la.o.n>=zg&&(0==da?B("There are no fractional columns"):1==da?B("There is one fractional column, integer infeasibility is "+Ib+""):B("There are "+da+" fractional columns, integer infeasibility is "+Ib+""));if(0==f.L.Ag){f.o.n>=zg&&B("New integer feasible solution found");f.o.n>=Xf&&D(f);var fc=f,gc=fc.w,ud=h,Sd=h;gc.xa=fg;gc.ra=
gc.Z;for(ud=1;ud<=gc.f;ud++){var hc=gc.l[ud];hc.Sa=hc.q}for(Sd=1;Sd<=gc.h;Sd++){var Td=gc.e[Sd];Td.Da==dc?Td.Sa=Td.q:Td.Da==gh&&(Td.Sa=Math.floor(Td.q+0.5))}fc.ph++;f.o.n>=pg&&q(f,1);if(f.o.ob!=s&&(f.reason=Th,f.o.ob(f,f.o.Uc),f.reason=0,f.stop)){t=zh;L=3;break}L=2;break}if(f.w.xa==fg){for(var Na=f,Qb=Na.w,Za=h,Zb=h,Cd=0,sc=h,Dd=h,ie=h,ic=h,sc=Qb.Z,Za=1;Za<=Qb.h;Za++){var Cc=Qb.e[Za];if(Cc.Da==gh)switch(Dd=Cc.c,ie=Cc.d,Zb=Cc.m,ic=Cc.H,Qb.dir){case Va:Zb==J?(0>ic&&(ic=0),sc+ic>=Qb.ra&&(Gc(Qb,Za,G,
Dd,Dd),Cd++)):Zb==Ec&&(0<ic&&(ic=0),sc-ic>=Qb.ra&&(Gc(Qb,Za,G,ie,ie),Cd++));break;case ub:Zb==J?(0<ic&&(ic=0),sc+ic<=Qb.ra&&(Gc(Qb,Za,G,Dd,Dd),Cd++)):Zb==Ec&&(0>ic&&(ic=0),sc-ic<=Qb.ra&&(Gc(Qb,Za,G,ie,ie),Cd++))}}Na.o.n>=zg&&0!=Cd&&(1==Cd?B("One column has been fixed by reduced cost"):B(Cd+" columns have been fixed by reduced costs"))}if(f.o.ob!=s){f.reason=Uh;f.o.ob(f,f.o.Uc);f.reason=0;if(f.stop){t=zh;L=3;break}if(!z(f,H)){f.o.n>=zg&&B("Current branch became hopeless and can be pruned");L=2;break}}if(f.o.Xe&&
(f.reason=Uh,Vh(f),f.reason=0,!z(f,H))){f.o.n>=zg&&B("Current branch became hopeless and can be pruned");L=2;break}if(f.o.ob!=s&&(f.reason=Ub,f.o.ob(f,f.o.Uc),f.reason=0,f.stop)){t=zh;L=3;break}if(0==f.L.Ka||0==F){f.reason=Ub;var Ra=f;if(Ra.o.Ed==nd||Ra.o.Ad==nd||Ra.o.xd==nd||Ra.o.vd==nd){var Ge=h,je=h,cd=h,je=Ra.h;1E3>je&&(je=1E3);cd=0;for(Ge=Ra.xc+1;Ge<=Ra.w.f;Ge++)Ra.w.l[Ge].origin==Vb&&cd++;if(!(cd>=je)){Ra.o.Ad==nd&&5>Ra.L.Rd&&Wh(Ra);Ra.o.Ed==nd&&Xh(Ra,Ra.Xf);if(Ra.o.xd==nd){var ib=Ra,jb=ib.w,
Oc=Md(jb),dd=Nd(jb),xb=h,jc=h,kc=h,Ed=h,Pc=h,Lb=h,Ve=h,Dc=h,Fd=h;Lg(jb);Lb=new Int32Array(1+dd);Dc=new Float64Array(1+dd);Fd=new Float64Array(1+dd);for(xb=1;xb<=Oc;xb++)for(Ed=1;2>=Ed;Ed++){kc=ee(jb,xb)-Wb+Yh;if(1==Ed){if(!(kc==Zh||kc==$h))continue;Pc=ze(jb,xb,Lb,Dc);Dc[0]=ai(jb,xb)}else{if(!(kc==bi||kc==$h))continue;Pc=ze(jb,xb,Lb,Dc);for(jc=1;jc<=Pc;jc++)Dc[jc]=-Dc[jc];Dc[0]=-ci(jb,xb)}b:{for(var nb=jb,Ka=Pc,yb=Lb,ea=Dc,kb=Fd,ob=s,sb=s,Ua=Array(5),Sa=h,U=h,Jb=h,ed=h,fd=h,Cb=h,ke=h,Ud=h,Vd=h,ed=
0,U=1;U<=Ka;U++)Sa=yb[U],we(nb,Sa)-Wb+Yh==di?ea[0]-=ea[U]*ei(nb,Sa):(ed++,yb[ed]=yb[U],ea[ed]=ea[U]);Ka=ed;Jb=0;for(U=1;U<=Ka;U++)if(Sa=yb[U],(jh(nb,Sa)==dc?ji:ki)==ki&&we(nb,Sa)-Wb+Yh==$h&&0==ei(nb,Sa)&&1==li(nb,Sa)){var Og,vh;Jb++;Og=yb[Jb];vh=ea[Jb];yb[Jb]=yb[U];ea[Jb]=ea[U];yb[U]=Og;ea[U]=vh}if(2>Jb)Pc=0;else{Cb=ke=0;for(U=Jb+1;U<=Ka;U++){Sa=yb[U];if(we(nb,Sa)-Wb+Yh!=$h){Pc=0;break b}0<ea[U]?(Cb+=ea[U]*ei(nb,Sa),ke+=ea[U]*li(nb,Sa)):(Cb+=ea[U]*li(nb,Sa),ke+=ea[U]*ei(nb,Sa))}Ud=ke-Cb;Vd=0;for(U=
Jb+1;U<=Ka;U++)Sa=yb[U],Vd+=ea[U]*eh(nb,Sa);Vd-=Cb;0>Vd&&(Vd=0);Vd>Ud&&(Vd=Ud);ea[0]-=Cb;for(U=1;U<=Jb;U++)Sa=yb[U],kb[U]=eh(nb,Sa),0>kb[U]&&(kb[U]=0),1<kb[U]&&(kb[U]=1);for(U=1;U<=Jb;U++)0>ea[U]&&(yb[U]=-yb[U],ea[U]=-ea[U],ea[0]+=ea[U],kb[U]=1-kb[U]);for(var gd=Jb,Kb=ea[0],hd=Vd,rf=h,rf=1;rf<=gd;rf++);for(rf=1;rf<=gd;rf++);var gg=h;c:{for(var Hd=h,tc=h,We=0,hg=0,wh=h,He=h,ig=0.0010,wh=0.0010*(1+Math.abs(Kb)),Hd=1;Hd<=gd;Hd++)for(tc=Hd+1;tc<=gd;tc++){We++;if(1E3<We){gg=hg;break c}ea[Hd]+ea[tc]+hd>
Kb+wh&&(He=ea[Hd]+ea[tc]-Kb,ob=1/(He+Ud),sb=2-ob*He,He=kb[Hd]+kb[tc]+ob*hd-sb,ig<He&&(ig=He,Ua[1]=Hd,Ua[2]=tc,hg=1))}gg=hg}var Pg=h;if(gg)Pg=2;else{var Qg=h;c:{for(var Id=h,Rb=h,Qc=h,le=0,Rg=0,jg=h,Rc=h,Kf=0.0010,jg=0.0010*(1+Math.abs(Kb)),Id=1;Id<=gd;Id++)for(Rb=Id+1;Rb<=gd;Rb++)for(Qc=Rb+1;Qc<=gd;Qc++){le++;if(1E3<le){Qg=Rg;break c}ea[Id]+ea[Rb]+ea[Qc]+hd>Kb+jg&&(Rc=ea[Id]+ea[Rb]+ea[Qc]-Kb,ob=1/(Rc+Ud),sb=3-ob*Rc,Rc=kb[Id]+kb[Rb]+kb[Qc]+ob*hd-sb,Kf<Rc&&(Kf=Rc,Ua[1]=Id,Ua[2]=Rb,Ua[3]=Qc,Rg=1))}Qg=
Rg}var kg=h;if(Qg)kg=3;else{var lg=h;c:{for(var Xe=h,Ye=h,Jd=h,vd=h,id=0,Ie=0,sf=h,wd=h,Lf=0.0010,sf=0.0010*(1+Math.abs(Kb)),Xe=1;Xe<=gd;Xe++)for(Ye=Xe+1;Ye<=gd;Ye++)for(Jd=Ye+1;Jd<=gd;Jd++)for(vd=Jd+1;vd<=gd;vd++){id++;if(1E3<id){lg=Ie;break c}ea[Xe]+ea[Ye]+ea[Jd]+ea[vd]+hd>Kb+sf&&(wd=ea[Xe]+ea[Ye]+ea[Jd]+ea[vd]-Kb,ob=1/(wd+Ud),sb=4-ob*wd,wd=kb[Xe]+kb[Ye]+kb[Jd]+kb[vd]+ob*hd-sb,Lf<wd&&(Lf=wd,Ua[1]=Xe,Ua[2]=Ye,Ua[3]=Jd,Ua[4]=vd,Ie=1))}lg=Ie}kg=lg?4:0}Pg=kg}fd=Pg;if(0==fd)Pc=0;else{yb[0]=0;ea[0]=sb;
for(Sa=1;Sa<=fd;Sa++)Ua[Sa]=yb[Ua[Sa]];for(U=1;U<=fd;U++)0<Ua[U]?(yb[U]=+Ua[U],ea[U]=1):(yb[U]=-Ua[U],ea[U]=-1,ea[0]-=1);for(U=Jb+1;U<=Ka;U++)fd++,yb[fd]=yb[U],ea[fd]=ob*ea[U];ea[0]+=ob*Cb;Pc=Ka=fd}}}if(0!=Pc){var Sg=jb,Ze=Pc,Tg=Lb,Ug=Dc,mg=Nd(Sg),$e=h,af=h,ng=0;0>Ze&&y("lpx_eval_row: len = "+Ze+"; invalid row length");for(af=1;af<=Ze;af++)$e=Tg[af],1<=$e&&$e<=mg||y("lpx_eval_row: j = "+$e+"; column number out of range"),ng+=Ug[af]*eh(Sg,$e);Ve=ng-Dc[0];0.0010>Ve||mi(ib,th,Pc,Lb,Dc,yc,Dc[0])}}}Ra.o.vd==
nd&&Ra.Ne!=s&&(0==Ra.L.Ka&&50>Ra.L.Rd||0<Ra.L.Ka&&5>Ra.L.Rd)&&ni(Ra,Ra.Ne)}}f.reason=0}0<f.Bd.size&&(f.reason=Ub,oi(f),f.reason=0);pi(f.Bd);if(f.pe){f.pe=0;f.L.Rd++;L=1;break}for(var Wd=f,Je=h,tf=0,bf=s,Je=Wd.xc+1;Je<=Wd.w.f;Je++)Wd.w.l[Je].origin==Vb&&(Wd.w.l[Je].Ka==Wd.L.Ka&&Wd.w.l[Je].m==E)&&(bf==s&&(bf=new Int32Array(1+Wd.w.f)),bf[++tf]=Je);0<tf&&(Zc(Wd.w,tf,bf),of(Wd.w));f.o.n>=Xf&&0==f.L.Ka&&D(f);if(f.Fd!=s){var xd=h,me=h,og=h,Mb=h,yd=f.Fd;f.L.P!=s&&(xd=f.L.P.Tc,me=f.w.e[xd].q-f.L.P.tg,og=f.w.Z-
f.L.P.sc,Mb=Math.abs(og/me),0>me?(yd.yd[xd]++,yd.Ud[xd]+=Mb):(yd.Id[xd]++,yd.ye[xd]+=Mb))}if(f.o.ob!=s&&(f.reason=qi,f.o.ob(f,f.o.Uc),f.reason=0,f.stop)){t=zh;L=3;break}if(0==f.Tc){var Ke=f,$a=f,Xd=function(a){f.Jf=a},lc=h;if($a.o.Ib==ri){for(var Ia=h,ne=h,Ia=1;Ia<=$a.h&&!$a.ad[Ia];Ia++);ne=eh($a.w,Ia);Xd(ne-Math.floor(ne)<Math.ceil(ne)-ne?si:ti);lc=Ia}else if($a.o.Ib==ui){for(var Mf=h,Nf=h,Mf=$a.h;1<=Mf&&!$a.ad[Mf];Mf--);Nf=eh($a.w,Mf);Xd(Nf-Math.floor(Nf)<Math.ceil(Nf)-Nf?si:ti);lc=Mf}else if($a.o.Ib==
vi)lc=wi($a,Xd);else if($a.o.Ib==xi){var Sc=$a.w,uf=Sc.f,vf=Sc.h,wf=$a.ad,Sb=h,Oa=h,Tc=h,uc=h,jd=h,Yd=h,Vg=h,Zd=h,Tb=h,$d=h,$b=h,oe=h,cf=h,Uc=h,Of=h,xf=h,kd=h,ld=h,rg=h,zd=h,pe=h;Lg(Sc);Tb=new Int32Array(1+vf);pe=new Float64Array(1+vf);Oa=0;zd=-1;for(Sb=1;Sb<=vf;Sb++)if(wf[Sb]){$d=eh(Sc,Sb);Vg=yi(Sc,uf+Sb,Tb,pe);for(Yd=-1;1>=Yd;Yd+=2){Tc=zi(Sc,Vg,Tb,pe,Yd,1E-9);0!=Tc&&(Tc=Tb[Tc]);if(0==Tc)Of=$a.w.dir==Va?+u:-u;else{for(uc=1;uc<=Vg&&Tb[uc]!=Tc;uc++);oe=pe[uc];cf=(0>Yd?Math.floor($d):Math.ceil($d))-
$d;Uc=cf/oe;Tc>uf&&jh(Sc,Tc-uf)!=dc&&0.0010<Math.abs(Uc-Math.floor(Uc+0.5))&&(Uc=0<Uc?Math.ceil(Uc):Math.floor(Uc));Tc<=uf?(Zd=ah(Sc,Tc),$b=ch(Sc,Tc)):(Zd=dh(Sc,Tc-uf),$b=fh(Sc,Tc-uf));switch($a.w.dir){case Va:if(Zd==J&&0>$b||Zd==Ec&&0<$b||Zd==wc)$b=0;break;case ub:if(Zd==J&&0<$b||Zd==Ec&&0>$b||Zd==wc)$b=0}Of=$b*Uc}0>Yd?xf=Of:kd=Of}if(zd<Math.abs(xf)||zd<Math.abs(kd))if(Oa=Sb,Math.abs(xf)<Math.abs(kd)?(jd=si,zd=Math.abs(kd)):(jd=ti,zd=Math.abs(xf)),ld=xf,rg=kd,zd==u)break}zd<1E-6*(1+0.0010*Math.abs(Sc.Z))?
Oa=wi($a,Xd):($a.o.n>=zg&&(B("branch_drtom: column "+Oa+" chosen to branch on"),Math.abs(ld)==u?B("branch_drtom: down-branch is infeasible"):B("branch_drtom: down-branch bound is "+(Mg(Sc)+ld)+""),Math.abs(rg)==u?B("branch_drtom: up-branch   is infeasible"):B("branch_drtom: up-branch   bound is "+(Mg(Sc)+rg)+"")),Xd(jd));lc=Oa}else $a.o.Ib==Ai&&(lc=Bi($a,Xd));Ke.Tc=lc}O=f.L.r;var oa=f,ac=f.Tc,Pf=f.Jf,Db=oa.w,tb=h,sg=Db.f,Qf=h,Kd=h,Ld=h,Rf=h,yf=h,fi=h,qe=h,re=Array(3),Sf=h,ae=h,zf=h,Vc=h,df=h,Tf=s,
Wg=s,Le=h,Me=h,Qf=Db.e[ac].type,Sf=Db.e[ac].c,ae=Db.e[ac].d,zf=Db.e[ac].q,Vc=Math.floor(zf),df=Math.ceil(zf);switch(Qf){case Wb:Kd=yc;Ld=xc;break;case xc:Kd=Sf==Vc?G:R;Ld=xc;break;case yc:Kd=yc;Ld=df==ae?G:R;break;case R:Kd=Sf==Vc?G:R,Ld=df==ae?G:R}var bc=oa.w,tg=bc.f,se=h,te=h,be=h,Xg=h,Uf=h,gi=h,xh=h,ef=h,ug=h,hi=h,Yg=oa.Bg,Zg=oa.Tg,Af=h,$g=h;Lg(bc);nf(bc);xh=bc.e[ac].q;se=yi(bc,tg+ac,Yg,Zg);for(te=-1;1>=te;te+=2){var ck=Yg,Ti=zi(bc,se,ck,Zg,te,1E-9),be=0==Ti?0:ck[Ti];if(0==be)bc.dir==Va?0>te?Af=
+u:$g=+u:bc.dir==ub&&(0>te?Af=-u:$g=-u);else{for(Xg=1;Xg<=se&&Yg[Xg]!=be;Xg++);gi=Zg[Xg];be<=tg?(Uf=bc.l[be].m,ef=bc.l[be].H):(Uf=bc.e[be-tg].m,ef=bc.e[be-tg].H);if(bc.dir==Va){if(Uf==J&&0>ef||Uf==Ec&&0<ef||Uf==wc)ef=0}else if(bc.dir==ub&&(Uf==J&&0<ef||Uf==Ec&&0>ef||Uf==wc))ef=0;ug=(0>te?Math.floor(xh):Math.ceil(xh))-xh;ug/=gi;hi=ef*ug;0>te?Af=bc.Z+hi:$g=bc.Z+hi}}var Sq=$g,Tf=Af,Wg=Sq,Le=Sh(oa,Tf),Me=Sh(oa,Wg),Rf=!qh(oa,Le),yf=!qh(oa,Me);if(Rf&&yf)oa.o.n>=zg&&B("Both down- and up-branches are hopeless"),
qe=2;else if(yf)oa.o.n>=zg&&B("Up-branch is hopeless"),Gc(Db,ac,Kd,Sf,Vc),oa.L.sc=Tf,Db.dir==Va?oa.L.bound<Le&&(oa.L.bound=Le):Db.dir==ub&&oa.L.bound>Le&&(oa.L.bound=Le),qe=1;else if(Rf)oa.o.n>=zg&&B("Down-branch is hopeless"),Gc(Db,ac,Ld,df,ae),oa.L.sc=Wg,Db.dir==Va?oa.L.bound<Me&&(oa.L.bound=Me):Db.dir==ub&&oa.L.bound>Me&&(oa.L.bound=Me),qe=1;else{oa.o.n>=zg&&B("Branching on column "+ac+", primal value is "+zf+"");fi=oa.L.r;oa.L.Tc=ac;oa.L.tg=zf;Ci(oa);var ff=h,dk=h,ff=oa.wa[fi].qb;ff.aa==s?oa.head=
ff.next:ff.aa.next=ff.next;ff.next==s?oa.Xa=ff.aa:ff.next.aa=ff.aa;ff.aa=ff.next=s;oa.Pd--;for(dk=1;2>=dk;dk++)re[dk]=nh(oa,ff).r;oa.o.n>=zg&&B("Node "+re[1]+" begins down branch, node "+re[2]+" begins up branch ");tb=oa.wa[re[1]].qb;tb.Ma={};tb.Ma.qc=sg+ac;tb.Ma.type=Kd;tb.Ma.c=Sf;tb.Ma.d=Vc;tb.Ma.next=s;tb.sc=Tf;Db.dir==Va?tb.bound<Le&&(tb.bound=Le):Db.dir==ub&&tb.bound>Le&&(tb.bound=Le);tb=oa.wa[re[2]].qb;tb.Ma={};tb.Ma.qc=sg+ac;tb.Ma.type=Ld;tb.Ma.c=df;tb.Ma.d=ae;tb.Ma.next=s;tb.sc=Wg;Db.dir==
Va?tb.bound<Me&&(tb.bound=Me):Db.dir==ub&&tb.bound>Me&&(tb.bound=Me);Pf==Di?oa.ud=0:Pf==si?oa.ud=re[1]:Pf==ti&&(oa.ud=re[2]);qe=0}t=qe;f.Tc=f.Jf=0;if(0==t){F=O;L=0;break}else if(1==t){f.L.eg=f.L.Rd=0;L=1;break}else if(2==t){L=2;break}case 2:f.o.n>=zg&&B("Node "+H+" fathomed");Ci(f);Ei(f,H);if(f.w.xa==fg){for(var ek=f,ii=h,qo=h,fk=0,ii=ek.head;ii!=s;ii=qo)qo=ii.next,z(ek,ii.r)||(Ei(ek,ii.r),fk++);ek.o.n>=zg&&(1==fk?B("One hopeless branch has been pruned"):1<fk&&B(fk+" hopeless branches have been pruned"))}L=
F=0;break;case 3:f.o.n>=pg&&q(f,0);f.Xf=s;f.Ne=s;c=t;break a}if(L==s)break;M=L}c=h}var ce=f.w,md,Ne,Vf=ce.f,Uq=ce.h;if(Vf!=f.xc){var gk,Ml;gk=Vf-f.xc;Ml=new Int32Array(1+gk);for(md=1;md<=gk;md++)Ml[md]=f.xc+md;Zc(ce,gk,Ml)}Vf=f.xc;for(md=1;md<=Vf;md++)Fc(ce,md,f.$b[md],f.bd[md],f.cd[md]),kf(ce,md,f.mf[md]),ce.l[md].q=f.lf[md],ce.l[md].H=f.kf[md];for(Ne=1;Ne<=Uq;Ne++)Gc(ce,Ne,f.$b[Vf+Ne],f.bd[Vf+Ne],f.cd[Vf+Ne]),lf(ce,Ne,f.mf[Vf+Ne]),ce.e[Ne].q=f.lf[Vf+Ne],ce.e[Ne].H=f.kf[Vf+Ne];ce.la=ce.qa=fg;ce.Z=
f.ih;pi(f.Bd);ce.T=s;0==c?a.xa==fg?(b.n>=Xf&&B("INTEGER OPTIMAL SOLUTION FOUND"),a.xa=Jg):(b.n>=Xf&&B("PROBLEM HAS NO INTEGER FEASIBLE SOLUTION"),a.xa=xg):c==Ih?b.n>=Xf&&B("RELATIVE MIP GAP TOLERANCE REACHED; SEARCH TERMINATED"):c==Jh?b.n>=Xf&&B("TIME LIMIT EXCEEDED; SEARCH TERMINATED"):c==Hf?b.n>=qf&&B("glp_intopt: cannot solve current LP relaxation"):c==zh&&b.n>=Xf&&B("SEARCH TERMINATED BY APPLICATION");return c}function d(a,b){function d(){Jf(n,p);p=s;Wf(n,a);return r}var e=ya,f=e.Eb,n,p=s,w={},
r;b.n>=Xf&&B("Preprocessing...");n=Yf();Zf(n,a,Fi);e.Eb=!f||b.n<Xf?od:nd;var v=n,C,q,z,D,H;q=ag(v,1);if(0==q){if(b.sd){var O,I,K,t,F,x;C=H=F=x=0;for(z=v.td;z!=s;z=z.aa)if(z.Ra&&z.c!=z.d&&!(0==z.c&&1==z.d))if(-1E6>z.c||1E6<z.d||4095<z.d-z.c)C++;else if(H++,0!=z.c&&Gi(v,z),I=z.d|0,1!=I){D=2;for(O=4;I>=O;)D++,O+=O;F+=D;q=Hi(v,function(a,b){var c,d,e=a.Pa[b.C];c=1;for(d=2;c<b.h;c++,d+=d)e+=d*a.Pa[b.A+(c-1)];a.Pa[b.C]=e;return 0});q.C=z.A;q.A=0;q.h=D;I<O-1?(O=Ii(v),x++,O.c=-u,O.d=I):O=s;z.d=1;O!=s&&Ji(O,
z,1);t=1;for(O=2;t<D;t++,O+=O){I=Ki(v);I.Ra=1;I.c=0;I.d=1;I.t=O*z.t;0==q.A&&(q.A=I.A);for(K=z.j;K!=s;K=K.G)Ji(K.l,I,O*K.i)}}0<H&&B(H+" integer variable(s) were replaced by "+F+" binary ones");0<x&&B(x+" row(s) were added due to binarization");0<C&&B("Binarization failed for "+C+" integer variable(s)")}H=0;for(C=v.Pc;C!=s;C=q)if(q=C.aa,!(C.c==-u&&C.d==+u)&&C.c!=C.d&&!(C.j==s||C.j.z==s)){for(D=C.j;D!=s&&!(z=D.e,!z.Ra||!(0==z.c&&1==z.d));D=D.z);D==s&&(H+=Li(v,C))}0<H&&B(H+" hidden packing inequaliti(es) were detected");
H=0;for(C=v.Pc;C!=s;C=q)if(q=C.aa,!(C.c==-u&&C.d==+u)&&C.c!=C.d&&!(C.j==s||C.j.z==s||C.j.z.z==s)){for(D=C.j;D!=s&&!(z=D.e,!z.Ra||!(0==z.c&&1==z.d));D=D.z);D==s&&(H+=Mi(v,C))}0<H&&B(H+" hidden covering inequaliti(es) were detected");H=0;for(C=v.Pc;C!=s;C=q)if(q=C.aa,C.c!=C.d){z=H;D=v;H=x=x=K=I=h;F=Array(2);O=h;for(H=F[0]=F[1]=0;1>=H;H++){if(0==H){if(C.c==-u)continue;x=Ni(C,1);O=+C.c}else{if(C.d==+u)continue;x=Ni(C,-1);O=-C.d}I=F;K=H;b:{t=O;for(var M=h,L=0,T=h,A=h,N=h,T=0,M=x;M!=s;M=M.next)if(0<M.da){if(M.ic.c==
-u){t=L;break b}T+=M.da*M.ic.c}else{if(M.ic.d==+u){t=L;break b}T+=M.da*M.ic.d}for(M=x;M!=s;M=M.next)M.ic.Ra&&(0==M.ic.c&&1==M.ic.d)&&(0<M.da?(A=T,t-M.da<A&&A<t&&(N=t-A,0.0010<=N&&M.da-N>=0.01*(1+M.da)&&(M.da=N,L++))):(A=T-M.da,t<A&&A<t-M.da&&(N=M.da+(A-t),-0.0010>=N&&N-M.da>=0.01*(1-M.da)&&(M.da=N,T+=A-t,t=A,L++))));O=t;t=L}I[K]=t;if(0<F[H]){if(C.c==-u||C.d==+u)I=s;else{I=Ii(D);0==H?(I.c=-u,I.d=C.d):(I.c=C.c,I.d=+u);for(K=C.j;K!=s;K=K.z)Ji(I,K.e,K.i)}Oi(C);C.c=O;for(C.d=+u;x!=s;x=x.next)Ji(C,x.ic,
x.da);I!=s&&(C=I)}}H=z+(F[0]+F[1])}0<H&&B(H+" constraint coefficient(s) were reduced");q=0}r=q;e.Eb=f;0!=r&&(r==bg?b.n>=Xf&&B("PROBLEM HAS NO PRIMAL FEASIBLE SOLUTION"):r==cg&&b.n>=Xf&&B("LP RELAXATION HAS NO DUAL FEASIBLE SOLUTION"));if(0!=r)return r;p=lb();dg(n,p);if(0==p.f&&0==p.h)return p.xa=Jg,p.ra=p.fa,b.n>=Xf&&(B("Objective value = "+p.ra+""),B("INTEGER OPTIMAL SOLUTION FOUND BY MIP PREPROCESSOR")),d();b.n>=Xf&&(v=kh(p),q=lh(p),B(p.f+" row"+(1==p.f?"":"s")+", "+p.h+" column"+(1==p.h?"":"s")+
", "+p.K+" non-zero"+(1==p.K?"":"s")+""),B(v+" integer variable"+(1==v?"":"s")+", "+(0==q?"none of":1==v&&1==q?"":1==q?"one of":q==v?"all of":q+" of")+" which "+(1==q?"is":"are")+" binary"));qd(a,w);rd(p,w);e.Eb=!f||b.n<Xf?od:nd;qg(p,Pi|Qi|Ri|Si);e.Eb=f;e.Eb=!f||b.n<Xf?od:nd;wg(p);e.Eb=f;b.n>=Xf&&B("Solving LP relaxation...");e=new Gg;e.n=b.n;p.X=a.X;r=Fg(p,e);a.X=p.X;if(0!=r)return b.n>=qf&&B("glp_intopt: cannot solve LP relaxation"),r=Hf;r=Lg(p);r==Jg?r=0:r==xg?r=bg:r==Kg&&(r=cg);if(0!=r)return r;
p.X=a.X;r=c(p,b);a.X=p.X;return!(p.xa==Jg||p.xa==fg)?(a.xa=p.xa,r):d()}var e,f;(a==s||3621377730!=a.Dd)&&y("glp_intopt: P = "+a+"; invalid problem object");a.T!=s&&y("glp_intopt: operation not allowed");b==s&&(b=new Ui);b.n==yg||(b.n==qf||b.n==pg||b.n==Xf||b.n==zg)||y("glp_intopt: msg_lev = "+b.n+"; invalid parameter");b.Ib==ri||(b.Ib==ui||b.Ib==vi||b.Ib==xi||b.Ib==Ai)||y("glp_intopt: br_tech = "+b.Ib+"; invalid parameter");b.kc==Ah||(b.kc==Bh||b.kc==Ch||b.kc==Dh)||y("glp_intopt: bt_tech = "+b.kc+
"; invalid parameter");0<b.Tb&&1>b.Tb||y("glp_intopt: tol_int = "+b.Tb+"; invalid parameter");0<b.we&&1>b.we||y("glp_intopt: tol_obj = "+b.we+"; invalid parameter");0>b.rb&&y("glp_intopt: tm_lim = "+b.rb+"; invalid parameter");0>b.ac&&y("glp_intopt: out_frq = "+b.ac+"; invalid parameter");0>b.fb&&y("glp_intopt: out_dly = "+b.fb+"; invalid parameter");0<=b.Me&&256>=b.Me||y("glp_intopt: cb_size = "+b.Me+"; invalid parameter");b.ed==Lh||(b.ed==Mh||b.ed==Oh)||y("glp_intopt: pp_tech = "+b.ed+"; invalid parameter");
0>b.ce&&y("glp_intopt: mip_gap = "+b.ce+"; invalid parameter");b.Ed==nd||b.Ed==od||y("glp_intopt: mir_cuts = "+b.Ed+"; invalid parameter");b.Ad==nd||b.Ad==od||y("glp_intopt: gmi_cuts = "+b.Ad+"; invalid parameter");b.xd==nd||b.xd==od||y("glp_intopt: cov_cuts = "+b.xd+"; invalid parameter");b.vd==nd||b.vd==od||y("glp_intopt: clq_cuts = "+b.vd+"; invalid parameter");b.zc==nd||b.zc==od||y("glp_intopt: presolve = "+b.zc+"; invalid parameter");b.sd==nd||b.sd==od||y("glp_intopt: binarize = "+b.sd+"; invalid parameter");
b.Xe==nd||b.Xe==od||y("glp_intopt: fp_heur = "+b.Xe+"; invalid parameter");a.xa=db;a.ra=0;for(e=1;e<=a.f;e++)if(f=a.l[e],f.type==R&&f.c>=f.d)return b.n>=qf&&B("glp_intopt: row "+e+": lb = "+f.c+", ub = "+f.d+"; incorrect bounds"),e=Eg;for(e=1;e<=a.h;e++)if(f=a.e[e],f.type==R&&f.c>=f.d)return b.n>=qf&&B("glp_intopt: column "+e+": lb = "+f.c+", ub = "+f.d+"; incorrect bounds"),e=Eg;for(e=1;e<=a.h;e++)if(f=a.e[e],f.Da==gh){if((f.type==xc||f.type==R)&&f.c!=Math.floor(f.c))return b.n>=qf&&B("glp_intopt: integer column "+
e+" has non-integer lower bound "+f.c+""),e=Eg;if((f.type==yc||f.type==R)&&f.d!=Math.floor(f.d))return b.n>=qf&&B("glp_intopt: integer column "+e+" has non-integer upper bound "+f.d+""),e=Eg;if(f.type==G&&f.c!=Math.floor(f.c))return b.n>=qf&&B("glp_intopt: integer column "+e+" has non-integer fixed value "+f.c+""),e=Eg}b.n>=Xf&&(e=kh(a),f=lh(a),B("GLPK Integer Optimizer, v"+Da()+""),B(a.f+" row"+(1==a.f?"":"s")+", "+a.h+" column"+(1==a.h?"":"s")+", "+a.K+" non-zero"+(1==a.K?"":"s")+""),B(e+" integer variable"+
(1==e?"":"s")+", "+(0==f?"none of":1==e&&1==f?"":1==f?"one of":f==e?"all of":f+" of")+" which "+(1==f?"is":"are")+" binary"));return e=b.zc?d(a,b):c(a,b)};
var Ui=exports.IOCP=function(a){a=a||{};this.n=a.msg_lev||Xf;this.Ib=a.br_tech||xi;this.kc=a.bt_tech||Ch;this.Tb=a.tol_int||1E-5;this.we=a.tol_obj||1E-7;this.rb=a.tm_lim||2147483647;this.ac=a.out_frq||5E3;this.fb=a.out_dly||1E4;this.ob=a.cb_func||s;this.Uc=a.cb_info||s;this.Me=a.cb_size||0;this.ed=a.pp_tech||Oh;this.ce=a.mip_gap||0;this.Ed=a.mir_cuts||od;this.Ad=a.gmi_cuts||od;this.xd=a.cov_cuts||od;this.vd=a.clq_cuts||od;this.zc=a.presolve||od;this.sd=a.binarize||od;this.Xe=a.fp_heur||od};
exports.glp_mip_status=function(a){return a.xa};exports.glp_mip_obj_val=function(a){return a.ra};
var Vi=exports.glp_mip_row_val=function(a,b){1<=b&&b<=a.f||y("glp_mip_row_val: i = "+b+"; row number out of range");return a.l[b].Sa},Wi=exports.glp_mip_col_val=function(a,b){1<=b&&b<=a.h||y("glp_mip_col_val: j = "+b+"; column number out of range");return a.e[b].Sa},nf=exports.glp_bf_exists=function(a){return 0==a.f||a.valid},of=exports.glp_factorize=function(a){function b(a,b,c,d){var e=a.f,f;f=a.head[b];if(f<=e)b=1,c[1]=f,d[1]=1;else{b=0;for(a=a.e[f-e].j;a!=s;a=a.G)b++,c[b]=a.l.ca,d[b]=-a.l.ka*
a.i*a.e.ta}return b}var c=a.f,d=a.h,e=a.l,f=a.e,g=a.head,l,j,k;l=a.valid=0;for(j=1;j<=c+d;j++)if(j<=c?(k=e[j].m,e[j].bind=0):(k=f[j-c].m,f[j-c].bind=0),k==E){l++;if(l>c)return a=pf;g[l]=j;j<=c?e[j].bind=l:f[j-c].bind=l}if(l<c)return a=pf;if(0<c){a.S==s&&(a.S={valid:0,type:Xi,gb:s,Za:s,Cd:0,bc:0.1,yc:4,fc:1,Lb:1E-15,tc:1E10,$c:100,hc:1E-6,wc:100,kd:1E3,Bh:-1,hg:0},Yi(a));switch(Zi(a.S,c,b,a)){case $i:return a=Bf;case aj:return a=Cf}a.valid=1}return 0};
exports.glp_bf_updated=function(a){0==a.f||a.valid||y("glp_bf_update: basis factorization does not exist");return 0==a.f?0:a.S.hg};var qd=exports.glp_get_bfcp=function(a,b){var c=a.Qd;if(c==s)b.type=Xi,b.Cd=0,b.bc=0.1,b.yc=4,b.fc=nd,b.Lb=1E-15,b.tc=1E10,b.$c=100,b.hc=1E-6,b.wc=100,b.kd=0;else for(var d in c)b[d]=c[d]};function Yi(a){var b={};qd(a,b);a=a.S;a.type=b.type;a.Cd=b.Cd;a.bc=b.bc;a.yc=b.yc;a.fc=b.fc;a.Lb=b.Lb;a.tc=b.tc;a.$c=b.$c;a.hc=b.hc;a.wc=b.wc;a.kd=b.kd}
var rd=exports.glp_set_bfcp=function(a,b){var c=a.Qd;if(b==s)c!=s&&(a.Qd=s);else{c==s&&(c=a.Qd={});var d=c,e;for(e in b)d[e]=b[e];c.type==Xi||(c.type==bj||c.type==cj)||y("glp_set_bfcp: type = "+c.type+"; invalid parameter");0>c.Cd&&y("glp_set_bfcp: lu_size = "+c.Cd+"; invalid parameter");0<c.bc&&1>c.bc||y("glp_set_bfcp: piv_tol = "+c.bc+"; invalid parameter");1>c.yc&&y("glp_set_bfcp: piv_lim = "+c.yc+"; invalid parameter");c.fc==nd||c.fc==od||y("glp_set_bfcp: suhl = "+c.fc+"; invalid parameter");
0<=c.Lb&&1E-6>=c.Lb||y("glp_set_bfcp: eps_tol = "+c.Lb+"; invalid parameter");1>c.tc&&y("glp_set_bfcp: max_gro = "+c.tc+"; invalid parameter");1<=c.$c&&32767>=c.$c||y("glp_set_bfcp: nfs_max = "+c.$c+"; invalid parameter");0<c.hc&&1>c.hc||y("glp_set_bfcp: upd_tol = "+c.hc+"; invalid parameter");1<=c.wc&&32767>=c.wc||y("glp_set_bfcp: nrs_max = "+c.wc+"; invalid parameter");0>c.kd&&y("glp_set_bfcp: rs_size = "+c.wc+"; invalid parameter");0==c.kd&&(c.kd=20*c.wc)}a.S!=s&&Yi(a)},dj=exports.glp_get_bhead=
function(a,b){0==a.f||a.valid||y("glp_get_bhead: basis factorization does not exist");1<=b&&b<=a.f||y("glp_get_bhead: k = "+b+"; index out of range");return a.head[b]},ej=exports.glp_get_row_bind=function(a,b){0==a.f||a.valid||y("glp_get_row_bind: basis factorization does not exist");1<=b&&b<=a.f||y("glp_get_row_bind: i = "+b+"; row number out of range");return a.l[b].bind},fj=exports.glp_get_col_bind=function(a,b){0==a.f||a.valid||y("glp_get_col_bind: basis factorization does not exist");1<=b&&b<=
a.h||y("glp_get_col_bind: j = "+b+"; column number out of range");return a.e[b].bind},hj=exports.glp_ftran=function(a,b){var c=a.f,d=a.l,e=a.e,f,g;0==c||a.valid||y("glp_ftran: basis factorization does not exist");for(f=1;f<=c;f++)b[f]*=d[f].ka;0<c&&gj(a.S,b);for(f=1;f<=c;f++)g=a.head[f],b[f]=g<=c?b[f]/d[g].ka:b[f]*e[g-c].ta},jj=exports.glp_btran=function(a,b){var c=a.f,d=a.l,e=a.e,f,g;0==c||a.valid||y("glp_btran: basis factorization does not exist");for(f=1;f<=c;f++)g=a.head[f],b[f]=g<=c?b[f]/d[g].ka:
b[f]*e[g-c].ta;0<c&&ij(a.S,b);for(f=1;f<=c;f++)b[f]*=d[f].ka};
exports.glp_warm_up=function(a){var b,c,d,e,f;a.la=a.qa=db;a.Z=0;a.some=0;for(d=1;d<=a.f;d++)b=a.l[d],b.q=b.H=0;for(d=1;d<=a.h;d++)b=a.e[d],b.q=b.H=0;if(!nf(a)&&(e=of(a),0!=e))return e;e=new Float64Array(1+a.f);for(d=1;d<=a.f;d++)b=a.l[d],b.m!=E&&(b.m==J?b.q=b.c:b.m==Ec?b.q=b.d:b.m==wc?b.q=0:b.m==mc&&(b.q=b.c),e[d]-=b.q);for(d=1;d<=a.h;d++)if(b=a.e[d],b.m!=E&&(b.m==J?b.q=b.c:b.m==Ec?b.q=b.d:b.m==wc?b.q=0:b.m==mc&&(b.q=b.c),0!=b.q))for(c=b.j;c!=s;c=c.G)e[c.l.ca]+=c.i*b.q;hj(a,e);a.la=fg;for(d=1;d<=
a.f;d++)if(b=a.l[d],b.m==E){b.q=e[b.bind];c=b.type;if(c==xc||c==R||c==G)f=1E-6+1E-9*Math.abs(b.c),b.q<b.c-f&&(a.la=Rh);if(c==yc||c==R||c==G)f=1E-6+1E-9*Math.abs(b.d),b.q>b.d+f&&(a.la=Rh)}for(d=1;d<=a.h;d++)if(b=a.e[d],b.m==E){b.q=e[b.bind];c=b.type;if(c==xc||c==R||c==G)f=1E-6+1E-9*Math.abs(b.c),b.q<b.c-f&&(a.la=Rh);if(c==yc||c==R||c==G)f=1E-6+1E-9*Math.abs(b.d),b.q>b.d+f&&(a.la=Rh)}a.Z=a.fa;for(d=1;d<=a.h;d++)b=a.e[d],a.Z+=b.t*b.q;for(d=1;d<=a.f;d++)e[d]=0;for(d=1;d<=a.h;d++)b=a.e[d],b.m==E&&(e[b.bind]=
b.t);jj(a,e);a.qa=fg;for(d=1;d<=a.f;d++)if(b=a.l[d],b.m==E)b.H=0;else if(b.H=-e[d],c=b.type,f=a.dir==Va?+b.H:-b.H,(c==Wb||c==xc)&&-1E-5>f||(c==Wb||c==yc)&&1E-5<f)a.qa=Rh;for(d=1;d<=a.h;d++)if(b=a.e[d],b.m==E)b.H=0;else{b.H=b.t;for(c=b.j;c!=s;c=c.G)b.H+=c.i*e[c.l.ca];c=b.type;f=a.dir==Va?+b.H:-b.H;if((c==Wb||c==xc)&&-1E-5>f||(c==Wb||c==yc)&&1E-5<f)a.qa=Rh}return 0};
var yi=exports.glp_eval_tab_row=function(a,b,c,d){var e=a.f,f=a.h,g,l,j,k,m,n,p;0==e||a.valid||y("glp_eval_tab_row: basis factorization does not exist");1<=b&&b<=e+f||y("glp_eval_tab_row: k = "+b+"; variable number out of range");g=b<=e?ej(a,b):fj(a,b-e);0==g&&y("glp_eval_tab_row: k = "+b+"; variable must be basic");n=new Float64Array(1+e);k=new Int32Array(1+e);p=new Float64Array(1+e);n[g]=1;jj(a,n);l=0;for(b=1;b<=e+f;b++){if(b<=e){if(ah(a,b)==E)continue;m=-n[b]}else{if(dh(a,b-e)==E)continue;j=sd(a,
b-e,k,p);m=0;for(g=1;g<=j;g++)m+=n[k[g]]*p[g]}0!=m&&(l++,c[l]=b,d[l]=m)}return l},kj=exports.glp_eval_tab_col=function(a,b,c,d){var e=a.f,f=a.h,g;0==e||a.valid||y("glp_eval_tab_col: basis factorization does not exist");1<=b&&b<=e+f||y("glp_eval_tab_col: k = "+b+"; variable number out of range");(b<=e?ah(a,b):dh(a,b-e))==E&&y("glp_eval_tab_col: k = "+b+"; variable must be non-basic");f=new Float64Array(1+e);if(b<=e)f[b]=-1;else{g=sd(a,b-e,c,d);for(b=1;b<=g;b++)f[c[b]]=d[b]}hj(a,f);g=0;for(b=1;b<=e;b++)0!=
f[b]&&(g++,c[g]=dj(a,b),d[g]=f[b]);return g},lj=exports.glp_transform_row=function(a,b,c,d){var e,f,g,l,j,k,m,n,p,w;nf(a)||y("glp_transform_row: basis factorization does not exist ");f=Md(a);g=Nd(a);n=new Float64Array(1+g);0<=b&&b<=g||y("glp_transform_row: len = "+b+"; invalid row length");for(l=1;l<=b;l++)e=c[l],1<=e&&e<=g||y("glp_transform_row: ind["+l+"] = "+e+"; column index out of range"),0==d[l]&&y("glp_transform_row: val["+l+"] = 0; zero coefficient not allowed"),0!=n[e]&&y("glp_transform_row: ind["+
l+"] = "+e+"; duplicate column indices not allowed"),n[e]=d[l];p=new Float64Array(1+f);for(e=1;e<=f;e++)b=dj(a,e),p[e]=b<=f?0:n[b-f];jj(a,p);b=0;for(e=1;e<=f;e++)ah(a,e)!=E&&(m=-p[e],0!=m&&(b++,c[b]=e,d[b]=m));k=new Int32Array(1+f);w=new Float64Array(1+f);for(e=1;e<=g;e++)if(dh(a,e)!=E){m=n[e];j=sd(a,e,k,w);for(l=1;l<=j;l++)m+=w[l]*p[k[l]];0!=m&&(b++,c[b]=f+e,d[b]=m)}return b};
exports.glp_transform_col=function(a,b,c,d){var e,f,g,l;nf(a)||y("glp_transform_col: basis factorization does not exist ");f=Md(a);l=new Float64Array(1+f);0<=b&&b<=f||y("glp_transform_col: len = "+b+"; invalid column length");for(g=1;g<=b;g++)e=c[g],1<=e&&e<=f||y("glp_transform_col: ind["+g+"] = "+e+"; row index out of range"),0==d[g]&&y("glp_transform_col: val["+g+"] = 0; zero coefficient not allowed"),0!=l[e]&&y("glp_transform_col: ind["+g+"] = "+e+"; duplicate row indices not allowed"),l[e]=d[g];
hj(a,l);b=0;for(e=1;e<=f;e++)0!=l[e]&&(b++,c[b]=dj(a,e),d[b]=l[e]);return b};
var mj=exports.glp_prim_rtest=function(a,b,c,d,e,f){var g,l,j,k,m,n,p,w,r,v,C,q,z;Hg(a)!=fg&&y("glp_prim_rtest: basic solution is not primal feasible ");1==e||-1==e||y("glp_prim_rtest: dir = "+e+"; invalid parameter");0<f&&1>f||y("glp_prim_rtest: eps = "+f+"; invalid parameter");l=Md(a);j=Nd(a);k=0;z=u;w=0;for(m=1;m<=b;m++)if(g=c[m],1<=g&&g<=l+j||y("glp_prim_rtest: ind["+m+"] = "+g+"; variable number out of range"),g<=l?(n=ee(a,g),v=ue(a,g),C=ve(a,g),p=ah(a,g),r=bh(a,g)):(n=we(a,g-l),v=xe(a,g-l),
C=ye(a,g-l),p=dh(a,g-l),r=eh(a,g-l)),p!=E&&y("glp_prim_rtest: ind["+m+"] = "+g+"; non-basic variable not allowed"),g=0<e?+d[m]:-d[m],n!=Wb){if(n==xc){if(g>-f)continue;q=(v-r)/g}else if(n==yc){if(g<+f)continue;q=(C-r)/g}else if(n==R)if(0>g){if(g>-f)continue;q=(v-r)/g}else{if(g<+f)continue;q=(C-r)/g}else if(n==G){if(-f<g&&g<+f)continue;q=0}0>q&&(q=0);if(z>q||z==q&&w<Math.abs(g))k=m,z=q,w=Math.abs(g)}return k},zi=exports.glp_dual_rtest=function(a,b,c,d,e,f){var g,l,j,k,m,n,p,w,r,v,C;Ig(a)!=fg&&y("glp_dual_rtest: basic solution is not dual feasible");
1==e||-1==e||y("glp_dual_rtest: dir = "+e+"; invalid parameter");0<f&&1>f||y("glp_dual_rtest: eps = "+f+"; invalid parameter");l=Md(a);j=Nd(a);r=Gd(a)==Va?1:-1;k=0;C=u;p=0;for(m=1;m<=b;m++){g=c[m];1<=g&&g<=l+j||y("glp_dual_rtest: ind["+m+"] = "+g+"; variable number out of range");g<=l?(n=ah(a,g),w=ch(a,g)):(n=dh(a,g-l),w=fh(a,g-l));n==E&&y("glp_dual_rtest: ind["+m+"] = "+g+"; basic variable not allowed");g=0<e?+d[m]:-d[m];if(n==J){if(g<+f)continue;v=r*w/g}else if(n==Ec){if(g>-f)continue;v=r*w/g}else if(n==
wc){if(-f<g&&g<+f)continue;v=0}else if(n==mc)continue;0>v&&(v=0);if(C>v||C==v&&p<Math.abs(g))k=m,C=v,p=Math.abs(g)}return k};
exports.glp_analyze_bound=function(a,b,c){var d,e,f,g,l,j,k,m,n,p,w,r,v,C;w=r=v=C=s;(a==s||3621377730!=a.Dd)&&y("glp_analyze_bound: P = "+a+"; invalid problem object");e=a.f;f=a.h;a.la==fg&&a.qa==fg||y("glp_analyze_bound: optimal basic solution required");0==e||a.valid||y("glp_analyze_bound: basis factorization required");1<=b&&b<=e+f||y("glp_analyze_bound: k = "+b+"; variable number out of range");d=b<=e?a.l[b]:a.e[b-e];g=d.m;f=d.q;g==E&&y("glp_analyze_bound: k = "+b+"; basic variable not allowed ");
g=new Int32Array(1+e);p=new Float64Array(1+e);j=kj(a,b,g,p);for(b=-1;1>=b;b+=2)k=mj(a,j,g,p,b,1E-9),0==k?(l=0,k=0>b?-u:+u):(l=g[k],l<=e?(d=a.l[l],m=ue(a,d.ca),n=ve(a,d.ca)):(d=a.e[l-e],m=xe(a,d.A),n=ye(a,d.A)),d=d.q,d=0>b&&0<p[k]||0<b&&0>p[k]?m-d:n-d,k=f+d/p[k]),0>b?(w=k,r=l):(v=k,C=l);c(w,r,v,C)};
exports.glp_analyze_coef=function(a,b,c){var d,e,f,g,l,j,k,m,n,p,w,r,v,C,q,z,D,H,O,I,K=s,t=s,F=s,x=s,M=s,L=s;(a==s||3621377730!=a.Dd)&&y("glp_analyze_coef: P = "+a+"; invalid problem object");e=a.f;f=a.h;a.la==fg&&a.qa==fg||y("glp_analyze_coef: optimal basic solution required");0==e||a.valid||y("glp_analyze_coef: basis factorization required");1<=b&&b<=e+f||y("glp_analyze_coef: k = "+b+"; variable number out of range");b<=e?(d=a.l[b],g=d.type,r=d.c,v=d.d,C=0):(d=a.e[b-e],g=d.type,r=d.c,v=d.d,C=d.t);
l=d.m;q=d.q;l!=E&&y("glp_analyze_coef: k = "+b+"; non-basic variable not allowed");l=new Int32Array(1+e);I=new Float64Array(1+e);w=new Int32Array(1+f);O=new Float64Array(1+f);n=yi(a,b,w,O);for(f=-1;1>=f;f+=2)a.dir==Va?k=-f:a.dir==ub&&(k=+f),p=zi(a,n,w,O,k,1E-9),0==p?(z=0>f?-u:+u,j=0,p=q):(j=w[p],d=j<=e?a.l[j]:a.e[j-e],k=d.H,d=-k/O[p],z=C+d,k=0>f&&0<O[p]||0<f&&0>O[p]?1:-1,a.dir==ub&&(k=-k),m=kj(a,j,l,I),d=b<=e?a.l[b]:a.e[b-e],d.type=Wb,d.c=d.d=0,m=mj(a,m,l,I,k,1E-9),d=b<=e?a.l[b]:a.e[b-e],d.type=g,
d.c=r,d.d=v,0==m?p=0>k&&0<O[p]||0<k&&0>O[p]?-u:+u:(d=l[m],d<=e?(d=a.l[d],D=ue(a,d.ca),H=ve(a,d.ca)):(d=a.e[d-e],D=xe(a,d.A),H=ye(a,d.A)),d=d.q,d=0>k&&0<I[m]||0<k&&0>I[m]?D-d:H-d,p=q+O[p]/I[m]*d)),0>f?(K=z,t=j,F=p):(x=z,M=j,L=p);c(K,t,F,x,M,L)};exports.glp_ios_reason=function(a){return a.reason};exports.glp_ios_get_prob=function(a){return a.w};function nj(a){a.reason!=Ub&&y("glp_ios_pool_size: operation not allowed");return a.Bd.size}
function mi(a,b,c,d,e,f,g){a.reason!=Ub&&y("glp_ios_add_row: operation not allowed");var l=a.Bd,j,k;j={name:s};0<=b&&255>=b||y("glp_ios_add_row: klass = "+b+"; invalid cut class");j.rc=b;j.j=s;0<=c&&c<=a.h||y("glp_ios_add_row: len = "+c+"; invalid cut length");for(k=1;k<=c;k++)b={},1<=d[k]&&d[k]<=a.h||y("glp_ios_add_row: ind["+k+"] = "+d[k]+"; column index out of range"),b.A=d[k],b.i=e[k],b.next=j.j,j.j=b;f==xc||(f==yc||f==G)||y("glp_ios_add_row: type = "+f+"; invalid cut type");j.type=f;j.cg=g;j.aa=
l.Xa;j.next=s;j.aa==s?l.head=j:j.aa.next=j;l.Xa=j;l.size++}function oj(a,b){1<=b&&b<=a.w.h||y("glp_ios_can_branch: j = "+b+"; column number out of range");return a.ad[b]}
function pj(a,b){var c=a.w,d=a.xc,e=a.h,f,g;g=c.fa;for(f=1;f<=e;f++){var l=c.e[f];if(l.Da==gh&&b[f]!=Math.floor(b[f]))return 1;g+=l.t*b[f]}if(c.xa==fg)switch(c.dir){case Va:if(g>=a.w.ra)return 1;break;case ub:if(g<=a.w.ra)return 1}a.o.n>=pg&&B("Solution found by heuristic: "+g+"");c.xa=fg;c.ra=g;for(f=1;f<=e;f++)c.e[f].Sa=b[f];for(e=1;e<=d;e++){f=c.l[e];f.Sa=0;for(g=f.j;g!=s;g=g.z)f.Sa+=g.i*g.e.Sa}return 0}exports.glp_mpl_alloc_wksp=function(){return qj()};
exports._glp_mpl_init_rand=function(a,b){0!=a.B&&y("glp_mpl_init_rand: invalid call sequence\n");rj(a.Gd,b)};var tj=exports.glp_mpl_read_model=function(a,b,c,d){0!=a.B&&y("glp_mpl_read_model: invalid call sequence");a=sj(a,b,c,d);1==a||2==a?a=0:4==a&&(a=1);return a};exports.glp_mpl_read_model_from_string=function(a,b,c,d){var e=0;return tj(a,b,function(){return e<c.length?c[e++]:-1},d)};
var vj=exports.glp_mpl_read_data=function(a,b,c){1==a.B||2==a.B||y("glp_mpl_read_data: invalid call sequence");a=uj(a,b,c);2==a?a=0:4==a&&(a=1);return a};exports.glp_mpl_read_data_from_string=function(a,b,c){var d=0;return vj(a,b,function(){return d<c.length?c[d++]:-1})};exports.glp_mpl_generate=function(a,b,c,d){1==a.B||2==a.B||y("glp_mpl_generate: invalid call sequence\n");a=wj(a,b,c,d);3==a?a=0:4==a&&(a=1);return a};
exports.glp_mpl_build_prob=function(a,b){var c,d,e,f,g,l,j;3!=a.B&&y("glp_mpl_build_prob: invalid call sequence\n");pd(b);pb(b,xj(a));c=yj(a);0<c&&cc(b,c);for(d=1;d<=c;d++){oc(b,d,zj(a,d));g=Aj(a,d,function(a,b){l=a;j=b});switch(g){case Bj:g=Wb;break;case Cj:g=xc;break;case Dj:g=yc;break;case Ej:g=R;break;case Fj:g=G}g==R&&Math.abs(l-j)<1E-9*(1+Math.abs(l))&&(g=G,Math.abs(l)<=Math.abs(j)?j=l:l=j);Fc(b,d,g,l,j);0!=Gj(a,d)&&B("glp_mpl_build_prob: row "+zj(a,d)+"; constant term "+Gj(a,d)+" ignored")}d=
Hj(a);0<d&&nc(b,d);for(e=1;e<=d;e++){vc(b,e,Ij(a,e));f=Jj(a,e);switch(f){case Kj:case Lj:ih(b,e,gh)}g=Mj(a,e,function(a,b){l=a;j=b});switch(g){case Bj:g=Wb;break;case Cj:g=xc;break;case Dj:g=yc;break;case Ej:g=R;break;case Fj:g=G}if(f==Lj){if(g==Wb||g==yc||0>l)l=0;if(g==Wb||g==xc||1<j)j=1;g=R}g==R&&Math.abs(l-j)<1E-9*(1+Math.abs(l))&&(g=G,Math.abs(l)<=Math.abs(j)?j=l:l=j);Gc(b,e,g,l,j)}g=new Int32Array(1+d);e=new Float64Array(1+d);for(d=1;d<=c;d++)f=Nj(a,d,g,e),Wc(b,d,f,g,e);for(d=1;d<=c;d++)if(f=
Oj(a,d),f==Pj||f==Qj){qb(b,zj(a,d));vb(b,f==Pj?Va:ub);Lc(b,0,Gj(a,d));f=Nj(a,d,g,e);for(c=1;c<=f;c++)Lc(b,g[c],e[c]);break}};
exports.glp_mpl_postsolve=function(a,b,c){var d,e,f,g,l,j;(3!=a.B||a.Of)&&y("glp_mpl_postsolve: invalid call sequence");c==$f||(c==Rj||c==Fi)||y("glp_mpl_postsolve: sol = "+c+"; invalid parameter");e=yj(a);f=Hj(a);e==Md(b)&&f==Nd(b)||y("glp_mpl_postsolve: wrong problem object\n");if(!Sj(a))return 0;for(d=1;d<=e;d++)c==$f?(g=ah(b,d),l=bh(b,d),j=ch(b,d)):c==Rj?(g=0,l=glp_ipt_row_prim(b,d),j=glp_ipt_row_dual(b,d)):c==Fi&&(g=0,l=Vi(b,d),j=0),1E-9>Math.abs(l)&&(l=0),1E-9>Math.abs(j)&&(j=0),Tj(a,d,g,l,
j);for(d=1;d<=f;d++)c==$f?(g=dh(b,d),l=eh(b,d),j=fh(b,d)):c==Rj?(g=0,l=glp_ipt_col_prim(b,d),j=glp_ipt_col_dual(b,d)):c==Fi&&(g=0,l=Wi(b,d),j=0),1E-9>Math.abs(l)&&(l=0),1E-9>Math.abs(j)&&(j=0),Uj(a,d,g,l,j);a=Vj(a);3==a?a=0:4==a&&(a=1);return a};
function Wj(a,b){var c,d,e;c=s;for(d=a.root;d!=s;)c=d,0>=a.yg(a.info,b,c.key)?(e=0,d=c.left,c.na++):(e=1,d=c.right);d={};d.key=b;d.type=0;d.link=s;d.na=1;d.P=c;d.$=c==s?0:e;d.ua=0;d.left=s;d.right=s;a.size++;for(c==s?a.root=d:0==e?c.left=d:c.right=d;c!=s;){if(0==e){if(0<c.ua){c.ua=0;break}if(0>c.ua){Xj(a,c);break}c.ua=-1}else{if(0>c.ua){c.ua=0;break}if(0<c.ua){Xj(a,c);break}c.ua=1}e=c.$;c=c.P}c==s&&a.height++;return d}
function Xj(a,b){var c,d,e,f,g;0>b.ua?(c=b.P,d=b.left,e=d.right,0>=d.ua?(c==s?a.root=d:0==b.$?c.left=d:c.right=d,b.na-=d.na,d.P=c,d.$=b.$,d.ua++,d.right=b,b.P=d,b.$=1,b.ua=-d.ua,b.left=e,e!=s&&(e.P=b,e.$=0)):(f=e.left,g=e.right,c==s?a.root=e:0==b.$?c.left=e:c.right=e,b.na-=d.na+e.na,e.na+=d.na,b.ua=0<=e.ua?0:1,d.ua=0>=e.ua?0:-1,e.P=c,e.$=b.$,e.ua=0,e.left=d,e.right=b,b.P=e,b.$=1,b.left=g,d.P=e,d.$=0,d.right=f,f!=s&&(f.P=d,f.$=1),g!=s&&(g.P=b),g.$=0)):(c=b.P,d=b.right,e=d.left,0<=d.ua?(c==s?a.root=
d:0==b.$?c.left=d:c.right=d,d.na+=b.na,d.P=c,d.$=b.$,d.ua--,d.left=b,b.P=d,b.$=0,b.ua=-d.ua,b.right=e,e!=s&&(e.P=b,e.$=1)):(f=e.left,g=e.right,c==s?a.root=e:0==b.$?c.left=e:c.right=e,d.na-=e.na,e.na+=b.na,b.ua=0>=e.ua?0:-1,d.ua=0<=e.ua?0:1,e.P=c,e.$=b.$,e.ua=0,e.left=b,e.right=d,b.P=e,b.$=0,b.right=f,d.P=e,d.$=1,d.left=g,f!=s&&(f.P=b,f.$=1),g!=s&&(g.P=d),g.$=0))}var $i=1,aj=2,Yj=3,Zj=4,$j=5;
function Zi(a,b,c,d){var e,f;f=a.valid=0;switch(a.type){case Xi:a.Za=s;a.gb==s&&(f={},f.hb=f.f=0,f.valid=0,f.ga=ak(),f.$d=50,f.Ob=0,f.Ze=f.af=f.$e=s,f.je=f.ie=s,f.ug=s,f.vg=s,f.hc=1E-6,f.ag=0,a.gb=f,f=1);break;case bj:case cj:a.gb=s,a.Za==s&&(bk&&B("lpf_create_it: warning: debug mode enabled"),f={valid:0},f.Nc=f.ef=0,f.ga=ak(),f.f=0,f.Cf=s,f.I=50,f.h=0,f.Md=f.Ld=s,f.Od=f.Nd=s,f.Qc=s,f.Ge=f.Fe=s,f.Ie=f.He=s,f.Jd=1E3,f.od=0,f.Vb=s,f.Wb=s,f.jb=f.Hc=s,a.Za=f,f=1)}a.gb!=s?e=a.gb.ga:a.Za!=s&&(e=a.Za.ga);
f&&(e.Va=a.Cd);e.bc=a.bc;e.yc=a.yc;e.fc=a.fc;e.Lb=a.Lb;e.tc=a.tc;a.gb!=s&&(f&&(a.gb.$d=a.$c),a.gb.hc=a.hc);a.Za!=s&&(f&&(a.Za.I=a.wc),f&&(a.Za.Jd=a.kd));if(a.gb!=s){a:{e=a.gb;1>b&&y("fhv_factorize: m = "+b+"; invalid parameter");1E8<b&&y("fhv_factorize: m = "+b+"; matrix too big");e.f=b;e.valid=0;e.Ze==s&&(e.Ze=new Int32Array(1+e.$d));e.af==s&&(e.af=new Int32Array(1+e.$d));e.$e==s&&(e.$e=new Int32Array(1+e.$d));e.hb<b&&(e.hb=b+100,e.je=new Int32Array(1+e.hb),e.ie=new Int32Array(1+e.hb),e.ug=new Int32Array(1+
e.hb),e.vg=new Float64Array(1+e.hb));switch(hk(e.ga,b,c,d)){case ik:b=jk;break a;case kk:b=lk;break a}e.valid=1;e.Ob=0;ma(e.je,1,e.ga.kb,1,b);ma(e.ie,1,e.ga.ub,1,b);b=e.ag=0}switch(b){case jk:return a=$i;case lk:return a=aj}}else if(a.Za!=s){a:{e=a.Za;if(bk)var g,l,j,k,m,n;1>b&&y("lpf_factorize: m = "+b+"; invalid parameter");1E8<b&&y("lpf_factorize: m = "+b+"; matrix too big");e.ef=e.f=b;e.valid=0;e.Md==s&&(e.Md=new Int32Array(1+e.I));e.Ld==s&&(e.Ld=new Int32Array(1+e.I));e.Od==s&&(e.Od=new Int32Array(1+
e.I));e.Nd==s&&(e.Nd=new Int32Array(1+e.I));e.Qc==s&&(f=e.I,mk&&B("scf_create_it: warning: debug mode enabled"),1<=f&&32767>=f||y("scf_create_it: n_max = "+f+"; invalid parameter"),g={},g.I=f,g.h=0,g.Mb=new Float64Array(1+f*f),g.u=new Float64Array(1+f*(f+1)/2),g.r=new Int32Array(1+f),g.fg=nk,g.na=0,g.k=mk?new Float64Array(1+f*f):s,g.ig=new Float64Array(1+f),e.Qc=g);e.Vb==s&&(e.Vb=new Int32Array(1+e.Jd));e.Wb==s&&(e.Wb=new Float64Array(1+e.Jd));e.Nc<b&&(e.Nc=b+100,e.Ge=new Int32Array(1+e.Nc+e.I),e.Fe=
new Int32Array(1+e.Nc+e.I),e.Ie=new Int32Array(1+e.Nc+e.I),e.He=new Int32Array(1+e.Nc+e.I),e.jb=new Float64Array(1+e.Nc+e.I),e.Hc=new Float64Array(1+e.Nc+e.I));switch(hk(e.ga,b,c,d)){case ik:b=ok;break a;case kk:b=LPF_ECOND;break a}e.valid=1;if(bk){e.Cf=m=new Float64Array(1+b*b);k=new Int32Array(1+b);n=new Float64Array(1+b);for(f=1;f<=b*b;f++)m[f]=0;for(l=1;l<=b;l++){j=c(d,l,k,n);for(f=1;f<=j;f++)g=k[f],m[(g-1)*b+l]=n[f]}}e.h=0;c=e.Qc;c.h=c.na=0;for(f=1;f<=b;f++)e.Ge[f]=e.Fe[f]=f,e.Ie[f]=e.He[f]=
f;e.od=1;b=0}switch(b){case 0:switch(a.type){case bj:a.Za.Qc.fg=nk;break;case cj:a.Za.Qc.fg=pk}break;case ok:return a=$i;case LPF_ECOND:return a=aj}}a.valid=1;return a.hg=0}
function gj(a,b){if(a.gb!=s){var c=a.gb,d=c.ga.kb,e=c.ga.ub,f=c.je,g=c.ie;c.valid||y("fhv_ftran: the factorization is not valid");c.ga.kb=f;c.ga.ub=g;qk(c.ga,0,b);c.ga.kb=d;c.ga.ub=e;rk(c,0,b);sk(c.ga,0,b)}else if(a.Za!=s){var c=a.Za,d=c.ef,e=c.f,l=c.h,j=c.Fe,f=c.He,g=c.jb,k,m;if(bk)var n;c.valid||y("lpf_ftran: the factorization is not valid");if(bk){n=new Float64Array(1+e);for(k=1;k<=e;k++)n[k]=b[k]}for(k=1;k<=d+l;k++)g[k]=(m=j[k])<=e?b[m]:0;qk(c.ga,0,g);tk(c,g,d,g);uk(c.Qc,0,g,d);l=c.h;j=c.Md;k=
c.Ld;m=c.Vb;var p=c.Wb,w,r,v,C;for(w=1;w<=l;w++)if(0!=g[w+d]){C=-1*g[w+d];r=j[w];for(v=r+k[w];r<v;r++)g[m[r]]+=C*p[r]}sk(c.ga,0,g);for(k=1;k<=e;k++)b[k]=g[f[k]];bk&&vk(c,0,b,n)}}
function ij(a,b){if(a.gb!=s){var c=a.gb,d=c.ga.kb,e=c.ga.ub,f=c.je,g=c.ie;c.valid||y("fhv_btran: the factorization is not valid");sk(c.ga,1,b);rk(c,1,b);c.ga.kb=f;c.ga.ub=g;qk(c.ga,1,b);c.ga.kb=d;c.ga.ub=e}else if(a.Za!=s){var c=a.Za,d=c.ef,e=c.f,l=c.h,f=c.Ge,j=c.Ie,g=c.jb,k,m;if(bk)var n;c.valid||y("lpf_btran: the factorization is not valid");if(bk){n=new Float64Array(1+e);for(k=1;k<=e;k++)n[k]=b[k]}for(k=1;k<=d+l;k++)g[k]=(m=j[k])<=e?b[m]:0;sk(c.ga,1,g);wk(c,g,d,g);uk(c.Qc,1,g,d);l=c.h;j=c.Od;k=
c.Nd;m=c.Vb;var p=c.Wb,w,r,v,C;for(w=1;w<=l;w++)if(0!=g[w+d]){C=-1*g[w+d];r=j[w];for(v=r+k[w];r<v;r++)g[m[r]]+=C*p[r]}qk(c.ga,1,g);for(k=1;k<=e;k++)b[k]=g[f[k]];bk&&vk(c,1,b,n)}}
function xk(a,b,c,d,e,f){if(a.gb!=s)switch(yk(a.gb,b,c,d,e,f)){case jk:return a.valid=0,a=$i;case zk:return a.valid=0,a=Yj;case Ak:return a.valid=0,a=Zj;case Bk:return a.valid=0,a=$j}else if(a.Za!=s){a:{var g=a.Za,l=g.ef,j=g.f;if(bk)var k=g.Cf;var m=g.h,n=g.Md,p=g.Ld,w=g.Od,r=g.Nd,v=g.Ge,C=g.Fe,q=g.Ie,z=g.He,D=g.od,H=g.Vb,O=g.Wb,I=g.Hc,K=g.jb,t=g.Hc,F,x,M;g.valid||y("lpf_update_it: the factorization is not valid");1<=b&&b<=j||y("lpf_update_it: j = "+b+"; column number out of range");if(m==g.I)g.valid=
0,b=LPF_ELIMIT;else{for(F=1;F<=j;F++)I[F]=0;for(M=1;M<=c;M++)F=d[e+M],1<=F&&F<=j||y("lpf_update_it: ind["+M+"] = "+F+"; row number out of range"),0!=I[F]&&y("lpf_update_it: ind["+M+"] = "+F+"; duplicate row index not allowed"),0==f[M]&&y("lpf_update_it: val["+M+"] = "+f[M]+"; zero element not allowed"),I[F]=f[M];if(bk)for(F=1;F<=j;F++)k[(F-1)*j+b]=I[F];for(F=1;F<=l+m;F++)K[F]=(x=C[F])<=j?I[x]:0;for(F=1;F<=l+m;F++)t[F]=0;t[z[b]]=1;qk(g.ga,0,K);sk(g.ga,1,t);if(g.Jd<D+l+l){F=g.Jd;c=g.od-1;d=g.Vb;for(e=
g.Wb;F<D+l+l;)F+=F;g.Jd=F;g.Vb=new Int32Array(1+F);g.Wb=new Float64Array(1+F);ma(g.Vb,1,d,1,c);ma(g.Wb,1,e,1,c);H=g.Vb;O=g.Wb}n[m+1]=D;for(F=1;F<=l;F++)0!=K[F]&&(H[D]=F,O[D]=K[F],D++);p[m+1]=D-g.od;g.od=D;w[m+1]=D;for(F=1;F<=l;F++)0!=t[F]&&(H[D]=F,O[D]=t[F],D++);r[m+1]=D-g.od;g.od=D;tk(g,K,0,K);wk(g,t,0,t);p=0;for(F=1;F<=l;F++)p-=t[F]*K[F];n=g.Qc;D=p;F=n.I;p=n.h;c=n.Mb;d=n.u;e=n.r;if(mk)var L=n.k;r=n.ig;w=0;if(p==F)w=Ck;else{n.h=++p;f=1;for(j=(f-1)*n.I+p;f<p;f++,j+=F)c[j]=0;j=1;for(f=(p-1)*n.I+j;j<
p;j++,f++)c[f]=0;for(f=c[(p-1)*n.I+p]=1;f<p;f++){H=0;j=1;for(k=(f-1)*n.I+1;j<p;j++,k++)H+=c[k]*K[j+l];d[Dk(n,f,p)]=H}for(j=1;j<p;j++)r[j]=t[e[j]+l];r[p]=D;e[p]=p;if(mk){f=1;for(j=(f-1)*n.I+p;f<p;f++,j+=F)L[j]=K[f+l];j=1;for(f=(p-1)*n.I+j;j<p;j++,f++)L[f]=t[j+l];L[(p-1)*n.I+p]=D}for(K=1;K<p&&0==r[K];K++);switch(n.fg){case nk:t=n.h;L=n.Mb;for(D=n.u;K<t;K++){e=Dk(n,K,K);c=(K-1)*n.I+1;f=(t-1)*n.I+1;if(Math.abs(D[e])<Math.abs(r[K])){F=K;for(d=e;F<=t;F++,d++)k=D[d],D[d]=r[F],r[F]=k;F=1;d=c;for(j=f;F<=t;F++,
d++,j++)k=L[d],L[d]=L[j],L[j]=k}Math.abs(D[e])<Ek&&(D[e]=r[K]=0);if(0!=r[K]){k=r[K]/D[e];F=K+1;for(d=e+1;F<=t;F++,d++)r[F]-=k*D[d];F=1;d=c;for(j=f;F<=t;F++,d++,j++)L[j]-=k*L[d]}}Math.abs(r[t])<Ek&&(r[t]=0);D[Dk(n,t,t)]=r[t];break;case pk:t=n.h;L=n.Mb;for(D=n.u;K<t;K++)if(j=Dk(n,K,K),F=(K-1)*n.I+1,c=(t-1)*n.I+1,Math.abs(D[j])<Ek&&Math.abs(r[K])<Ek&&(D[j]=r[K]=0),0!=r[K]){d=D[j];f=r[K];e=H=k=h;0==f?(H=1,e=0):Math.abs(d)<=Math.abs(f)?(k=-d/f,e=1/Math.sqrt(1+k*k),H=e*k):(k=-f/d,H=1/Math.sqrt(1+k*k),e=
H*k);d=H;f=e;for(e=K;e<=t;e++,j++)k=D[j],H=r[e],D[j]=d*k-f*H,r[e]=f*k+d*H;e=1;j=F;for(F=c;e<=t;e++,j++,F++)c=L[j],k=L[F],L[j]=d*c-f*k,L[F]=f*c+d*k}Math.abs(r[t])<Ek&&(r[t]=0);D[Dk(n,t,t)]=r[t]}F=n.I;r=n.h;K=n.u;D=0;t=1;for(L=Dk(n,t,t);t<=r;t++,L+=F,F--)0!=K[L]&&D++;n.na=D;n.na!=p&&(w=Fk);mk&&vk(n,"scf_update_exp")}switch(w){case Fk:g.valid=0;b=ok;break a}v[l+m+1]=C[l+m+1]=l+m+1;q[l+m+1]=z[l+m+1]=l+m+1;F=z[b];x=z[l+m+1];q[F]=l+m+1;z[l+m+1]=F;q[x]=b;z[b]=x;g.h++;b=0}}switch(b){case ok:return a.valid=
0,a=$i;case LPF_ELIMIT:return a.valid=0,a=Zj}}a.hg++;return 0}
var Gk="!\"#$%&()/,.;?@_`'{}|~",Hk=exports.glp_read_lp=function(a,b,c){function d(a,b){throw Error(a.count+": "+b);}function e(a,b){B(a.count+": warning: "+b)}function f(a){var b;"\n"==a.k&&a.count++;b=a.Qg();0>b?"\n"==a.k?(a.count--,b=-1):(e(a,"missing final end of line"),b="\n"):"\n"!=b&&(0<=" \t\n\v\f\r".indexOf(b)?b=" ":Ea(b)&&d(a,"invalid control character "+b.charCodeAt(0)));a.k=b}function g(a){a.g+=a.k;f(a)}function l(a,b){return a.toLowerCase()==b.toLowerCase()?1:0}function j(a){function b(){for(a.b=
I;La(a.k)||0<=Gk.indexOf(a.k);)g(a);c&&(l(a.g,"minimize")?a.b=r:l(a.g,"minimum")?a.b=r:l(a.g,"min")?a.b=r:l(a.g,"maximize")?a.b=v:l(a.g,"maximum")?a.b=v:l(a.g,"max")?a.b=v:l(a.g,"subject")?" "==a.k&&(f(a),"t"==a.k.toLowerCase()&&(a.b=C,a.g+=" ",g(a),"o"!=a.k.toLowerCase()&&d(a,"keyword `subject to' incomplete"),g(a),Ga(a.k)&&d(a,"keyword `"+a.g+a.k+"...' not recognized"))):l(a.g,"such")?" "==a.k&&(f(a),"t"==a.k.toLowerCase()&&(a.b=C,a.g+=" ",g(a),"h"!=a.k.toLowerCase()&&d(a,"keyword `such that' incomplete"),
g(a),"a"!=a.k.toLowerCase()&&d(a,"keyword `such that' incomplete"),g(a),"t"!=a.k.toLowerCase()&&d(a,"keyword `such that' incomplete"),g(a),Ga(a.k)&&d(a,"keyword `"+a.g+a.k+"...' not recognized"))):l(a.g,"st")?a.b=C:l(a.g,"s.t.")?a.b=C:l(a.g,"st.")?a.b=C:l(a.g,"bounds")?a.b=q:l(a.g,"bound")?a.b=q:l(a.g,"general")?a.b=z:l(a.g,"generals")?a.b=z:l(a.g,"gen")?a.b=z:l(a.g,"integer")?a.b=D:l(a.g,"integers")?a.b=D:l(a.g,"int")?a.b=D:l(a.g,"binary")?a.b=H:l(a.g,"binaries")?a.b=H:l(a.g,"bin")?a.b=H:l(a.g,"end")&&
(a.b=O))}var c;a.b=-1;a.g="";for(a.value=0;;){for(c=0;" "==a.k;)f(a);if(-1==a.k)a.b=w;else if("\n"==a.k)if(f(a),Ga(a.k))c=1,b();else continue;else if("\\"==a.k){for(;"\n"!=a.k;)f(a);continue}else if(Ga(a.k)||"."!=a.k&&0<=Gk.indexOf(a.k))b();else if(Ma(a.k)||"."==a.k){for(a.b=K;Ma(a.k);)g(a);if("."==a.k){g(a);for(1==a.g.length&&!Ma(a.k)&&d(a,"invalid use of decimal point");Ma(a.k);)g(a)}if("e"==a.k||"E"==a.k){g(a);("+"==a.k||"-"==a.k)&&g(a);for(Ma(a.k)||d(a,"numeric constant `"+a.g+"' incomplete");Ma(a.k);)g(a)}a.value=
Number(a.g);a.value==Number.NaN&&d(a,"numeric constant `"+a.g+"' out of range")}else"+"==a.k?(a.b=t,g(a)):"-"==a.k?(a.b=F,g(a)):":"==a.k?(a.b=x,g(a)):"<"==a.k?(a.b=M,g(a),"="==a.k&&g(a)):">"==a.k?(a.b=L,g(a),"="==a.k&&g(a)):"="==a.k?(a.b=T,g(a),"<"==a.k?(a.b=M,g(a)):">"==a.k&&(a.b=L,g(a))):d(a,"character `"+a.k+"' not recognized");break}for(;" "==a.k;)f(a)}function k(a,b){var c=Oe(a.Ja,b);if(0==c){c=nc(a.Ja,1);vc(a.Ja,c,b);if(a.I<c){var d=a.I,e=a.Y,f=a.i,g=a.$,j=a.c,k=a.d;a.I+=a.I;a.Y=new Int32Array(1+
a.I);ma(a.Y,1,e,1,d);a.i=new Float64Array(1+a.I);ma(a.i,1,f,1,d);a.$=new Int8Array(1+a.I);na(a.$,1,0,a.I);ma(a.$,1,g,1,d);a.c=new Float64Array(1+a.I);ma(a.c,1,j,1,d);a.d=new Float64Array(1+a.I);ma(a.d,1,k,1,d)}a.c[c]=+u;a.d[c]=-u}return c}function m(a){for(var b,c=0,e,f,g;;)if(a.b==t?(f=1,j(a)):a.b==F?(f=-1,j(a)):f=1,a.b==K?(g=a.value,j(a)):g=1,a.b!=I&&d(a,"missing variable name"),b=k(a,a.g),a.$[b]&&d(a,"multiple use of variable `"+a.g+"' not allowed"),c++,a.Y[c]=b,a.i[c]=f*g,a.$[b]=1,j(a),!(a.b==
t||a.b==F)){for(b=1;b<=c;b++)a.$[a.Y[b]]=0;e=0;for(b=1;b<=c;b++)0!=a.i[b]&&(e++,a.Y[e]=a.Y[b],a.i[e]=a.i[b]);break}return e}function n(a,b,c){a.c[b]!=+u&&e(a,"lower bound of variable `"+de(a.Ja,b)+"' redefined");a.c[b]=c}function p(a,b,c){a.d[b]!=-u&&e(a,"upper bound of variable `"+de(a.Ja,b)+"' redefined");a.d[b]=c}var w=0,r=1,v=2,C=3,q=4,z=5,D=6,H=7,O=8,I=9,K=10,t=11,F=12,x=13,M=14,L=15,T=16,A={};B("Reading problem data");b==s&&(b={});A.Ja=a;A.o=b;A.Qg=c;A.count=0;A.k="\n";A.b=w;A.g="";A.value=
0;A.I=100;A.Y=new Int32Array(1+A.I);A.i=new Float64Array(1+A.I);A.$=new Int8Array(1+A.I);na(A.$,1,0,A.I);A.c=new Float64Array(1+A.I);A.d=new Float64Array(1+A.I);pd(a);Ae(a);j(A);A.b==r||A.b==v||d(A,"`minimize' or `maximize' keyword missing");A.b==r?vb(A.Ja,Va):A.b==v&&vb(A.Ja,ub);j(A);A.b==I&&":"==A.k?(qb(A.Ja,A.g),j(A),j(A)):qb(A.Ja,"obj");c=m(A);for(b=1;b<=c;b++)Lc(A.Ja,A.Y[b],A.i[b]);A.b!=C&&d(A,"constraints section missing");var N;for(j(A);!(b=cc(A.Ja,1),A.b==I&&":"==A.k?(0!=Be(A.Ja,A.g)&&d(A,
"constraint `"+A.g+"' multiply defined"),oc(A.Ja,b,A.g),j(A),j(A)):oc(A.Ja,b,"r."+A.count),c=m(A),Wc(A.Ja,b,c,A.Y,A.i),A.b==M?(N=yc,j(A)):A.b==L?(N=xc,j(A)):A.b==T?(N=G,j(A)):d(A,"missing constraint sense"),A.b==t?(c=1,j(A)):A.b==F?(c=-1,j(A)):c=1,A.b!=K&&d(A,"missing right-hand side"),Fc(A.Ja,b,N,c*A.value,c*A.value),"\n"==A.k||-1==A.k||d(A,"invalid symbol(s) beyond right-hand side"),j(A),!(A.b==t||A.b==F||A.b==K||A.b==I)););if(A.b==q){var P;for(j(A);A.b==t||A.b==F||A.b==K||A.b==I;)A.b==t||A.b==
F?(b=1,c=A.b==t?1:-1,j(A),A.b==K?(P=c*A.value,j(A)):l(A.g,"infinity")||l(A.g,"inf")?(0<c&&d(A,"invalid use of `+inf' as lower bound"),P=-u,j(A)):d(A,"missing lower bound")):A.b==K?(b=1,P=A.value,j(A)):b=0,b&&(A.b!=M&&d(A,"missing `<', `<=', or `=<' after lower bound"),j(A)),A.b!=I&&d(A,"missing variable name"),N=k(A,A.g),b&&n(A,N,P),j(A),A.b==M?(j(A),A.b==t||A.b==F?(c=A.b==t?1:-1,j(A),A.b==K?(p(A,N,c*A.value),j(A)):l(A.g,"infinity")||l(A.g,"inf")?(0>c&&d(A,"invalid use of `-inf' as upper bound"),
p(A,N,+u),j(A)):d(A,"missing upper bound")):A.b==K?(p(A,N,A.value),j(A)):d(A,"missing upper bound")):A.b==L?(b&&d(A,"invalid bound definition"),j(A),A.b==t||A.b==F?(c=A.b==t?1:-1,j(A),A.b==K?(n(A,N,c*A.value),j(A)):l(A.g,"infinity")||0==l(A.g,"inf")?(0<c&&d(A,"invalid use of `+inf' as lower bound"),n(A,N,-u),j(A)):d(A,"missing lower bound")):A.b==K?(n(A,N,A.value),j(A)):d(A,"missing lower bound")):A.b==T?(b&&d(A,"invalid bound definition"),j(A),A.b==t||A.b==F?(c=A.b==t?1:-1,j(A),A.b==K?(n(A,N,c*A.value),
p(A,N,c*A.value),j(A)):d(A,"missing fixed value")):A.b==K?(n(A,N,A.value),p(A,N,A.value),j(A)):d(A,"missing fixed value")):l(A.g,"free")?(b&&d(A,"invalid bound definition"),n(A,N,-u),p(A,N,+u),j(A)):b||d(A,"invalid bound definition")}for(;A.b==z||A.b==D||A.b==H;){P=A;b=N=h;P.b==z?(b=0,j(P)):P.b==D?(b=0,j(P)):P.b==H&&(b=1,j(P));for(;P.b==I;)N=k(P,P.g),ih(P.Ja,N,gh),b&&(n(P,N,0),p(P,N,1)),j(P)}A.b==O?j(A):A.b==w?e(A,"keyword `end' missing"):d(A,"symbol "+A.g+" in wrong position");A.b!=w&&d(A,"extra symbol(s) detected beyond `end'");
for(P=1;P<=a.h;P++)b=A.c[P],c=A.d[P],b==+u&&(b=0),c==-u&&(c=+u),N=b==-u&&c==+u?Wb:c==+u?xc:b==-u?yc:b!=c?R:G,Gc(A.Ja,P,N,b,c);B(a.f+" row"+(1==a.f?"":"s")+", "+a.h+" column"+(1==a.h?"":"s")+", "+a.K+" non-zero"+(1==a.K?"":"s"));0<kh(a)&&(P=kh(a),N=lh(a),1==P?0==N?B("One variable is integer"):B("One variable is binary"):(b=P+" integer variables, ",B((0==N?b+"none":1==N?b+"one":N==P?b+"all":b+N)+" of which "+(1==N?"is":"are")+" binary")));B(A.count+" lines were read");Pe(a);Yc(a);return 0};
exports.glp_write_lp=function(a,b,c){function d(a){if("."==a[0]||Ma(a[0]))return 1;for(var b=0;b<a.length;b++)if(!La(a[b])&&0>Gk.indexOf(a[b]))return 1;return 0}function e(a){for(var b=0;b<a.length;b++)" "==a[b]?a[b]="_":"-"==a[b]?a[b]="~":"["==a[b]?a[b]="(":"]"==a[b]&&(a[b]=")")}function f(a,b){var c;c=0==b?Bd(a.Ja):Od(a.Ja,b);if(c==s)return 0==b?"obj":"r_"+b;e(c);return d(c)?0==b?"obj":"r_"+b:c}function g(a,b){var c=de(a.Ja,b);if(c==s)return"x_"+b;e(c);return d(c)?"x_"+b:c}function l(){c("End");
w++;B(w+" lines were written");return 0}var j={},k,m,n,p,w,r;B("Writing problem data");b==s&&(b={});j.Ja=a;j.o=b;w=0;c("\\* Problem: "+(a.name==s?"Unknown":a.name)+" *\\");w++;c("");w++;if(!(0<a.f&&0<a.h))return B("Warning: problem has no rows/columns"),c("\\* WARNING: PROBLEM HAS NO ROWS/COLUMNS *\\"),w++,c(""),w++,l();a.dir==Va?(c("Minimize"),w++):a.dir==ub&&(c("Maximize"),w++);b=f(j,0);r=" "+b+":";m=0;for(n=1;n<=a.h;n++)if(k=a.e[n],0!=k.t||k.j==s)m++,b=g(j,n),p=0==k.t?" + 0 "+b:1==k.t?" + "+b:
-1==k.t?" - "+b:0<k.t?" + "+k.t+" "+b:" - "+-k.t+" "+b,72<r.length+p.length&&(c(r),r="",w++),r+=p;0==m&&(p=" 0 "+g(j,1),r+=p);c(r);w++;0!=a.fa&&(c("\\* constant term = "+a.fa+" *\\"),w++);c("");w++;c("Subject To");w++;for(n=1;n<=a.f;n++)if(k=a.l[n],k.type!=Wb){b=f(j,n);r=" "+b+":";for(m=k.j;m!=s;m=m.z)b=g(j,m.e.A),p=1==m.i?" + "+b:-1==m.i?" - "+b:0<m.i?" + "+m.i+" "+b:" - "+-m.i+" "+b,72<r.length+p.length&&(c(r),r="",w++),r+=p;k.type==R?(p=" - ~r_"+n,72<r.length+p.length&&(c(r),r="",w++),r+=p):k.j==
s&&(p=" 0 "+g(j,1),r+=p);if(k.type==xc)p=" >= "+k.c;else if(k.type==yc)p=" <= "+k.d;else if(k.type==R||k.type==G)p=" = "+k.c;72<r.length+p.length&&(c(r),r="",w++);r+=p;c(r);w++}c("");w++;p=0;for(n=1;n<=a.f;n++)k=a.l[n],k.type==R&&(p||(c("Bounds"),p=1,w++),c(" 0 <= ~r_"+n+" <= "+(k.d-k.c)),w++);for(n=1;n<=a.h;n++)k=a.e[n],k.type==xc&&0==k.c||(p||(c("Bounds"),p=1,w++),b=g(j,n),k.type==Wb?(c(" "+b+" free"),w++):k.type==xc?(c(" "+b+" >= "+k.c),w++):k.type==yc?(c(" -Inf <= "+b+" <= "+k.d),w++):k.type==
R?(c(" "+k.c+" <= "+b+" <= "+k.d),w++):k.type==G&&(c(" "+b+" = "+k.c),w++));p&&c("");w++;p=0;for(n=1;n<=a.h;n++)k=a.e[n],k.Da!=dc&&(p||(c("Generals"),p=1,w++),c(" "+g(j,n)),w++);p&&(c(""),w++);return l()};exports.glp_read_lp_from_string=function(a,b,c){var d=0;return Hk(a,b,function(){return d<c.length?c[d++]:-1})};var jk=1,lk=2,zk=3,Ak=4,Bk=5;
function rk(a,b,c){var d=a.Ob,e=a.Ze,f=a.af,g=a.$e,l=a.ga.vb,j=a.ga.wb,k,m,n;a.valid||y("fhv_h_solve: the factorization is not valid");if(b)for(b=d;1<=b;b--){if(a=e[b],n=c[a],0!=n){k=f[b];for(m=k+g[b]-1;k<=m;k++)c[l[k]]-=j[k]*n}}else for(b=1;b<=d;b++){a=e[b];n=c[a];k=f[b];for(m=k+g[b]-1;k<=m;k++)n-=j[k]*c[l[k]];c[a]=n}}
function yk(a,b,c,d,e,f){var g=a.f,l=a.ga,j=l.Gc,k=l.Fc,m=l.pd,n=l.Af,p=l.Ec,w=l.Dc,r=l.Rc,v=l.kb,C=l.ub,q=l.sf,z=l.me,D=l.vb,H=l.wb,O=l.ze,I=l.Lb,K=a.Ze,t=a.af,F=a.$e,x=a.je,M=a.ie,L=a.ug,T=a.vg,A=a.hc,N,P;a.valid||y("fhv_update_it: the factorization is not valid");1<=b&&b<=g||y("fhv_update_it: j = "+b+"; column number out of range");if(a.Ob==a.$d)return a.valid=0,a=Ak;for(N=1;N<=g;N++)T[N]=0;for(P=1;P<=c;P++)N=d[e+P],1<=N&&N<=g||y("fhv_update_it: ind["+P+"] = "+N+"; row number out of range"),0!=
T[N]&&y("fhv_update_it: ind["+P+"] = "+N+"; duplicate row index not allowed"),0==f[P]&&y("fhv_update_it: val["+P+"] = "+f[P]+"; zero element not allowed"),T[N]=f[P];a.ga.kb=x;a.ga.ub=M;qk(a.ga,0,T);a.ga.kb=v;a.ga.ub=C;rk(a,0,T);c=0;for(N=1;N<=g;N++)e=T[N],0==e||Math.abs(e)<I||(c++,L[c]=N,T[c]=e);M=p[b];for(x=M+w[b]-1;M<=x;M++){N=D[M];f=j[N];for(P=f+k[N]-1;D[f]!=b;f++);D[f]=D[P];H[f]=H[P];k[N]--}l.Pb-=w[b];w[b]=0;e=q[b];d=0;for(P=1;P<=c;P++){N=L[P];if(k[N]+1>m[N]&&Ik(l,N,k[N]+10))return a.valid=0,
l.Va=l.Fa+l.Fa,a=Bk;f=j[N]+k[N];D[f]=b;H[f]=T[P];k[N]++;d<C[N]&&(d=C[N])}if(r[b]<c&&Jk(l,b,c))return a.valid=0,l.Va=l.Fa+l.Fa,a=Bk;M=p[b];ma(D,M,L,1,c);ma(H,M,T,1,c);w[b]=c;l.Pb+=c;if(e>d)return a.valid=0,a=jk;N=v[e];b=z[e];for(P=e;P<d;P++)v[P]=v[P+1],C[v[P]]=P,z[P]=z[P+1],q[z[P]]=P;v[d]=N;C[N]=d;z[d]=b;q[b]=d;for(b=1;b<=g;b++)O[b]=0;f=j[N];for(P=f+k[N]-1;f<=P;f++){b=D[f];O[b]=H[f];M=p[b];for(x=M+w[b]-1;D[M]!=N;M++);D[M]=D[x];H[M]=H[x];w[b]--}l.Pb-=k[N];k[N]=0;a.Ob++;K[a.Ob]=N;F[a.Ob]=0;if(l.La-l.Ea<
d-e&&(Kk(l),l.La-l.Ea<d-e))return a.valid=l.valid=0,l.Va=l.Fa+l.Fa,a=Bk;for(P=e;P<d;P++)if(b=v[P],c=z[P],0!=O[c]){C=O[c]/n[b];q=j[b];for(c=q+k[b]-1;q<=c;q++)O[D[q]]-=C*H[q];l.La--;D[l.La]=b;H[l.La]=C;F[a.Ob]++}0==F[a.Ob]?a.Ob--:(t[a.Ob]=l.La,a.ag+=F[a.Ob]);n[N]=O[z[d]];c=0;for(P=d+1;P<=g;P++)if(b=z[P],e=O[b],!(Math.abs(e)<I)){if(w[b]+1>r[b]&&Jk(l,b,w[b]+10))return a.valid=0,l.Va=l.Fa+l.Fa,a=Bk;M=p[b]+w[b];D[M]=N;H[M]=e;w[b]++;c++;L[c]=b;T[c]=e}if(m[N]<c&&Ik(l,N,c))return a.valid=0,l.Va=l.Fa+l.Fa,
a=Bk;f=j[N];ma(D,f,L,1,c);ma(H,f,T,1,c);k[N]=c;l.Pb+=c;e=0;N=v[d];f=j[N];for(P=f+k[N]-1;f<=P;f++)e<Math.abs(H[f])&&(e=Math.abs(H[f]));b=z[d];M=p[b];for(x=M+w[b]-1;M<=x;M++)e<Math.abs(H[M])&&(e=Math.abs(H[M]));return Math.abs(n[N])<A*e?(a.valid=0,a=zk):0}
function wg(a){function b(a,b,c){var d=Md(a);Nd(a);var e,f,g,j=0;if(0<b){e=+b;g=ze(a,e,c,s);for(b=1;b<=g;b++)Lk(a,c[b],function(a){a!=di&&(c[++j]=d+c[b])});Mk(a,e,function(a){a!=di&&(c[++j]=e)})}else f=-b,g=function(b){b!=di&&(f<=d?c[++j]=f:j=sd(a,f-d,c,s))},f<=d?Mk(a,f,g):Lk(a,f-d,g);return j}if(0==a.f||0==a.h)mf(a);else{var c=Md(a),d=Nd(a),e,f,g,l,j,k,m,n=new Int32Array(1+c+d);B("Constructing initial basis...");if(0==c||0==d)mf(a);else{f=new Int32Array(1+c);g=new Int32Array(1+c+d);j=c+d;var p,w,
r,v,C,q,z,D,H,O,I,K=0;0<c&&0<j||y("triang: m = "+c+"; n = "+j+"; invalid dimension");k=new Int32Array(1+(c>=j?c:j));m=new Int32Array(1+c);e=new Int32Array(1+j);p=new Int32Array(1+c);w=new Int32Array(1+c);v=new Int32Array(1+j);C=new Int32Array(1+j);for(z=1;z<=j;z++)D=b(a,-z,k),v[z]=m[D],m[D]=z;for(D=r=0;D<=c;D++)for(z=m[D];0!=z;z=v[z])C[z]=r,r=z;D=0;for(z=r;0!=z;z=C[z])v[z]=D,D=z;for(q=1;q<=c;q++)m[q]=D=b(a,+q,k),p[q]=0,w[q]=e[D],0!=w[q]&&(p[w[q]]=q),e[D]=q;for(q=1;q<=c;q++)f[q]=0;for(z=1;z<=j;z++)g[z]=
0;H=1;for(O=j;H<=O;){q=e[1];if(0!=q){z=0;for(I=b(a,+q,k);1<=I;I--)D=k[I],0==g[D]&&(z=D);f[q]=g[z]=H;H++;K++}else z=r,g[z]=O,O--;0==v[z]?r=C[z]:C[v[z]]=C[z];0!=C[z]&&(v[C[z]]=v[z]);for(I=b(a,-z,k);1<=I;I--)q=k[I],D=m[q],0==p[q]?e[D]=w[q]:w[p[q]]=w[q],0!=w[q]&&(p[w[q]]=p[q]),m[q]=--D,p[q]=0,w[q]=e[D],0!=w[q]&&(p[w[q]]=q),e[D]=q}for(q=1;q<=c;q++)0==f[q]&&(f[q]=H++);for(z=1;z<=j;z++);for(p=1;p<=c;p++)m[p]=0;for(q=1;q<=c;q++)p=f[q],m[p]=q;for(D=1;D<=j;D++)e[D]=0;for(z=1;z<=j;z++)D=g[z],e[D]=z;for(p=1;p<=
K;p++){q=m[p];for(I=b(a,+q,k);1<=I;I--)z=k[I]}j=K;k=Nk;a.ke==s&&(a.ke={},m=a.ke,m.n=3,m.scale=1,m.H=0,m.lh=1,m.xh=0.07,m.Fb=1E-7,m.sb=1E-7,m.xe=1E-9,m.round=0,m.hf=-u,m.jf=+u,m.pc=-1,m.rb=-1,m.ac=200,m.fb=0,m.Og=2,m.Pg=3,m.Tb=1E-5,m.we=1E-7,m.Xg=1,m.Yg=2,m.Zg=0,m.ah=1,m.Wg=0,m.$g=0,m.Vg=0,m.kh=0,m.sd=0,m.vh=0,m.ce=0);m=a.ke;e=0;switch(k){case Nk:e=m.n;break;case Ok:e=m.scale;break;case Pk:e=m.H;break;case Qk:e=m.lh;break;case Rk:e=m.round;break;case Sk:e=m.pc;break;case Tk:e=a.X;break;case Uk:e=m.ac;
break;case Vk:e=m.Og;break;case Wk:e=m.Pg;break;case Xk:e=m.Xg;break;case Yk:e=m.Yg;break;case Zk:e=m.Zg;break;case $k:e=m.ah;break;case al:e=m.Wg;break;case bl:e=m.$g;break;case cl:e=m.Vg;break;case dl:e=m.kh;break;case el:e=m.sd;break;case fl:e=m.vh;break;case gl:k={};qd(a,k);switch(k.type){case Xi:e=1;break;case bj:e=2;break;case cj:e=3}break;default:y("lpx_get_int_parm: parm = "+k+"; invalid parameter")}3<=e&&B("Size of triangular part = "+j+"");k=new Int32Array(1+c);m=new Int32Array(1+c+d);for(e=
1;e<=c;e++)k[f[e]]=e;for(f=1;f<=c+d;f++)m[g[f]]=f;for(l=1;l<=c+d;l++)n[l]=-1;for(g=1;g<=j;g++)f=m[g],n[f]=hl;for(g=j+1;g<=c;g++)e=k[g],n[e]=hl;for(l=1;l<=c+d;l++)n[l]!=hl&&(g=function(a,b,c){switch(a){case Yh:n[l]=il;break;case bi:n[l]=jl;break;case Zh:n[l]=kl;break;case $h:n[l]=Math.abs(b)<=Math.abs(c)?jl:kl;break;case di:n[l]=ll}},l<=c?Mk(a,l,g):Lk(a,l-c,g));for(l=1;l<=c+d;l++)l<=c?kf(a,l,n[l]-hl+E):lf(a,l-c,n[l]-hl+E)}}}
function nh(a,b){var c,d;if(0==a.Sc){c=a.fe;d=a.wa;a.fe=0==c?20:c+c;a.wa=Array(1+a.fe);pa(a.wa,0,1+a.fe);d!=s&&ma(a.wa,1,d,1,c);for(d=a.fe;d>c;d--)a.wa[d].qb=s,a.wa[d].next=a.Sc,a.Sc=d}d=a.Sc;a.Sc=a.wa[d].next;a.wa[d].next=0;c=d;d={};a.wa[c].qb=d;d.r=c;d.P=b;d.Ka=b==s?0:b.Ka+1;d.count=0;d.Ma=s;d.Ac=s;d.dc=s;d.eg=0;d.sc=b==s?a.w.dir==Va?-u:+u:b.sc;d.bound=b==s?a.w.dir==Va?-u:+u:b.bound;d.Tc=0;d.tg=0;d.Ag=0;d.Zc=0;d.Rd=0;d.data=0==a.o.Me?s:{};d.ha=s;d.aa=a.Xa;d.next=s;a.head==s?a.head=d:a.Xa.next=d;
a.Xa=d;a.Pd++;a.Zf++;a.Jg++;b!=s&&b.count++;return d}
function Ci(a){var b=a.w,c=b.f,d=b.h,e=a.L,f,g,l;if(e.P==s){a.Ig=c;a.se=new Int8Array(1+c+d);a.qe=new Float64Array(1+c+d);a.te=new Float64Array(1+c+d);a.re=new Int8Array(1+c+d);for(f=1;f<=c+d;f++)l=f<=c?b.l[f]:b.e[f-c],a.se[f]=l.type,a.qe[f]=l.c,a.te[f]=l.d,a.re[f]=l.m}else{var j=a.Ig,k=a.Fg;for(f=1;f<=k+d;f++){var m,n,p,w,r,v;m=a.qf[f];p=a.of[f];w=a.rf[f];g=a.pf[f];l=f<=k?b.l[f]:b.e[f-k];n=l.type;r=l.c;v=l.d;l=l.m;m==n&&p==r&&w==v||(m={},m.qc=f,m.type=n,m.c=r,m.d=v,m.next=e.Ma,e.Ma=m);g!=l&&(g={},
g.qc=f,g.m=l,g.next=e.Ac,e.Ac=g)}if(k<c){n=new Int32Array(1+d);r=new Float64Array(1+d);for(g=c;g>k;g--){l=b.l[g];v={};f=Od(b,g);v.name=f==s?s:f;v.type=l.type;v.c=l.c;v.d=l.d;v.j=s;m=ze(b,g,n,r);for(f=1;f<=m;f++)p={},p.A=n[f],p.i=r[f],p.next=v.j,v.j=p;v.ka=l.ka;v.m=l.m;v.next=e.dc;e.dc=v}}if(c!=j){c-=j;e=new Int32Array(1+c);for(g=1;g<=c;g++)e[g]=j+g;Zc(b,c,e)}c=b.f;for(g=1;g<=c;g++)Fc(b,g,a.se[g],a.qe[g],a.te[g]),kf(b,g,a.re[g]);for(j=1;j<=d;j++)Gc(b,j,a.se[c+j],a.qe[c+j],a.te[c+j]),lf(b,j,a.re[c+
j])}a.L=s}function Ei(a,b){var c;c=a.wa[b].qb;c.aa==s?a.head=c.next:c.aa.next=c.next;c.next==s?a.Xa=c.aa:c.next.aa=c.aa;c.aa=c.next=s;for(a.Pd--;;){for(var d;c.Ma!=s;)d=c.Ma,c.Ma=d.next;for(;c.Ac!=s;)d=c.Ac,c.Ac=d.next;for(;c.dc!=s;){d=c.dc;for(d.name=s;d.j!=s;)d.j=d.j.next;c.dc=d.next}b=c.r;a.wa[b].qb=s;a.wa[b].next=a.Sc;a.Sc=b;c=c.P;a.Zf--;if(c!=s&&(c.count--,0==c.count))continue;break}}
function Sh(a,b){var c=a.w,d=c.h,e,f,g,l=a.Bg,j;g=0;j=c.fa;e=0;for(f=1;f<=d;f++){var k=c.e[f];if(0!=k.t)if(k.type==G)j+=k.t*k.q;else{if(k.Da!=gh||k.t!=Math.floor(k.t))return b;2147483647>=Math.abs(k.t)?l[++g]=Math.abs(k.t)|0:e=1}}if(0==e){if(0==g)return b;d=0;for(e=1;e<=g;e++){if(1==e)d=l[1];else{f=l[e];for(k=h;0<f;)k=d%f,d=f,f=k}if(1==d)break}e=d}c.dir==Va?b!=+u&&(c=(b-j)/e,c>=Math.floor(c)+0.0010&&(c=Math.ceil(c),b=e*c+j)):c.dir==ub&&b!=-u&&(c=(b-j)/e,c<=Math.ceil(c)-0.0010&&(c=Math.floor(c),b=
e*c+j));return b}function qh(a,b){var c=a.w,d=1,e;if(c.xa==fg)switch(e=a.o.we*(1+Math.abs(c.ra)),c.dir){case Va:b>=c.ra-e&&(d=0);break;case ub:b<=c.ra+e&&(d=0)}else switch(c.dir){case Va:b==+u&&(d=0);break;case ub:b==-u&&(d=0)}return d}function oh(a){var b=s;switch(a.w.dir){case Va:for(a=a.head;a!=s;a=a.next)if(b==s||b.bound>a.bound)b=a;break;case ub:for(a=a.head;a!=s;a=a.next)if(b==s||b.bound<a.bound)b=a}return b==s?0:b.r}
var ph=exports.glp_ios_relative_gap=function(a){var b=a.w,c;b.xa==fg?(b=b.ra,c=oh(a),0==c?a=0:(a=a.wa[c].qb.bound,a=Math.abs(b-a)/(Math.abs(b)+2.220446049250313E-16))):a=u;return a};function pi(a){for(;a.head!=s;){var b=a.head;for(a.head=b.next;b.j!=s;)b.j=b.j.next}a.size=0;a.head=a.Xa=s;a.fh=0;a.L=s}
function Nh(a,b){var c=a.w,d=c.f,e=c.h,f,g,l,j=0,k,m,n,p;k=new Float64Array(1+d);m=new Float64Array(1+d);switch(c.xa){case db:k[0]=-u;m[0]=+u;break;case fg:switch(c.dir){case Va:k[0]=-u;m[0]=c.ra-c.fa;break;case ub:k[0]=c.ra-c.fa,m[0]=+u}}for(f=1;f<=d;f++)k[f]=ue(c,f),m[f]=ve(c,f);n=new Float64Array(1+e);p=new Float64Array(1+e);for(f=1;f<=e;f++)n[f]=xe(c,f),p[f]=ye(c,f);g=d+1;l=new Int32Array(1+g);for(f=1;f<=g;f++)l[f]=f-1;a:{var w=c.f;f=c.h;var r={},v,C,q=0,z,D,H,O,I,K,t,F;z=new Int32Array(1+f);
D=new Int32Array(1+w+1);H=new Int32Array(1+w+1);O=new Int32Array(1+w+1);I=new Float64Array(1+f);K=new Float64Array(1+f);t=new Float64Array(1+f);C=0;for(v=1;v<=g;v++)w=l[v],D[++C]=w,H[w]=1;for(;0<C;)if(w=D[C--],H[w]=0,O[w]++,!(k[w]==-u&&m[w]==+u)){g=0;if(0==w)for(l=1;l<=f;l++)F=c.e[l],0!=F.t&&(g++,z[g]=l,I[g]=F.t);else for(l=c.l[w].j;l!=s;l=l.z)g++,z[g]=l.e.A,I[g]=l.i;for(v=1;v<=g;v++)l=z[v],K[v]=n[l],t[v]=p[l];v=g;l=I;F=K;for(var x=t,M=r,L=h,T=h,A=T=h,A=h,T=A=0,L=1;L<=v;L++)if(0<l[L])if(F[L]==-u)if(0==
T)T=L;else{A=-u;T=0;break}else A+=l[L]*F[L];else if(0>l[L])if(x[L]==+u)if(0==T)T=L;else{A=-u;T=0;break}else A+=l[L]*x[L];M.Wd=A;M.Uf=T;T=A=0;for(L=1;L<=v;L++)if(0<l[L])if(x[L]==+u)if(0==T)T=L;else{A=+u;T=0;break}else A+=l[L]*x[L];else if(0>l[L])if(F[L]==-u)if(0==T)T=L;else{A=+u;T=0;break}else A+=l[L]*F[L];M.Vd=A;M.Tf=T;b:{v=m;l=w;T=h;F=0;x=k[w];M=v[l];A=L=s;T=0==r.Tf?r.Vd:+u;L=0==r.Uf?r.Wd:-u;A=T;if(x!=-u&&(T=0.0010*(1+Math.abs(x)),A<x-T)){v=F=1;break b}if(M!=+u&&(T=0.0010*(1+Math.abs(M)),L>M+T)){v=
F=1;break b}x!=-u&&(T=1E-12*(1+Math.abs(x)),L>x-T&&(k[w]=-u));M!=+u&&(T=1E-12*(1+Math.abs(M)),A<M+T&&(v[l]=+u));v=F}if(v){q=1;break}if(!(k[w]==-u&&m[w]==+u))for(v=1;v<=g;v++){L=M=s;l=z[v];F=c.e[l];x=F.Da!=dc;b:{var N=k[w],P=m[w],za=h,T=0,ua=A=h,va=s,ka=s,A=K[v],ua=t[v],ec=za=ka=va=h;N==-u||r.Vd==+u?va=-u:0==r.Tf?0<I[v]?va=N-(r.Vd-I[v]*t[v]):0>I[v]&&(va=N-(r.Vd-I[v]*K[v])):va=r.Tf==v?N-r.Vd:-u;P==+u||r.Wd==-u?ka=+u:0==r.Uf?0<I[v]?ka=P-(r.Wd-I[v]*K[v]):0>I[v]&&(ka=P-(r.Wd-I[v]*t[v])):ka=r.Uf==v?P-r.Wd:
+u;1E-6>Math.abs(I[v])?(za=-u,ec=+u):0<I[v]?(za=va==-u?-u:va/I[v],ec=ka==+u?+u:ka/I[v]):0>I[v]&&(za=ka==+u?-u:ka/I[v],ec=va==-u?+u:va/I[v]);N=ec;va=za;ka=N;x&&(va!=-u&&(va=0.0010>va-Math.floor(va)?Math.floor(va):Math.ceil(va)),ka!=+u&&(ka=0.0010>Math.ceil(ka)-ka?Math.ceil(ka):Math.floor(ka)));if(A!=-u&&(za=0.0010*(1+Math.abs(A)),ka<A-za)){T=1;break b}if(ua!=+u&&(za=0.0010*(1+Math.abs(ua)),va>ua+za)){T=1;break b}va!=-u&&(za=0.0010*(1+Math.abs(va)),A<va-za&&(A=va));ka!=+u&&(za=0.0010*(1+Math.abs(ka)),
ua>ka+za&&(ua=ka));A==-u||ua==+u||(M=Math.abs(A),L=Math.abs(ua),za=1E-10*(1+(M<=L?M:L)),A>ua-za&&(A==K[v]?ua=A:ua==t[v]?A=ua:M<=L?ua=A:A=ua));L=ua;M=A}if(T){f=q=1;break a}T=n[l];A=p[l];ua=h;N=0;T<M&&(x||T==-u?N++:(ua=A==+u?1+Math.abs(T):1+(A-T),M-T>=0.25*ua&&N++));A>L&&(x||A==+u?N++:(ua=T==-u?1+Math.abs(A):1+(A-T),A-L>=0.25*ua&&N++));x=N;n[l]=M;p[l]=L;if(0<x)for(l=F.j;l!=s;l=l.G)F=l.l.ca,!(O[F]>=b)&&(!(k[F]==-u&&m[F]==+u)&&0==H[F])&&(D[++C]=F,H[F]=1)}}f=q}if(f)return 1;for(f=1;f<=d;f++)ah(c,f)==E&&
(k[f]==-u&&m[f]==+u?Fc(c,f,Wb,0,0):m[f]==+u?Fc(c,f,xc,k[f],0):k[f]==-u&&Fc(c,f,yc,0,m[f]));for(f=1;f<=e;f++)Gc(c,f,n[f]==-u&&p[f]==+u?Wb:p[f]==+u?xc:n[f]==-u?yc:n[f]!=p[f]?R:G,n[f],p[f]);return j}function Gh(a){var b;b={};b.h=a;b.K=0;b.Ia=new Int32Array(1+a);b.Y=new Int32Array(1+a);b.i=new Float64Array(1+a);return b}function ml(a,b,c){var d=a.Ia[b];0==c?0!=d&&(a.Ia[b]=0,d<a.K&&(a.Ia[a.Y[a.K]]=d,a.Y[d]=a.Y[a.K],a.i[d]=a.i[a.K]),a.K--):(0==d&&(d=++a.K,a.Ia[b]=d,a.Y[d]=b),a.i[d]=c)}
function nl(a){for(var b=1;b<=a.K;b++)a.Ia[a.Y[b]]=0;a.K=0}function ol(a,b){for(var c=0,d=1;d<=a.K;d++)0==Math.abs(a.i[d])||Math.abs(a.i[d])<b?a.Ia[a.Y[d]]=0:(c++,a.Ia[a.Y[d]]=c,a.Y[c]=a.Y[d],a.i[c]=a.i[d]);a.K=c}function pl(a,b){nl(a);a.K=b.K;ma(a.Y,1,b.Y,1,a.K);ma(a.i,1,b.i,1,a.K);for(var c=1;c<=a.K;c++)a.Ia[a.Y[c]]=c}
function Wh(a){function b(a){return a-Math.floor(a)}var c=a.w,d=c.f,e=c.h,f,g,l,j,k;f=Array(1+e);l=new Int32Array(1+e);j=new Float64Array(1+e);k=new Float64Array(1+d+e);d=0;for(g=1;g<=e;g++){var m=c.e[g];m.Da==gh&&(m.type!=G&&m.m==E)&&(m=b(m.q),0.05<=m&&0.95>=m&&(d++,f[d].A=g,f[d].Mb=m))}ta(f,d,function(a,b){return a.Mb>b.Mb?-1:a.Mb<b.Mb?1:0});e=nj(a);for(c=1;c<=d&&!(50<=nj(a)-e);c++)a:{g=a;for(var n=f[c].A,m=g.w,p=m.f,w=m.h,r=l,v=j,C=k,q=h,z=q=h,D=h,H=h,O=h,I=h,K=h,t=h,F=h,x=h,M=h,H=H=h,z=yi(m,p+
n,r,v),t=m.e[n].q,q=1;q<=p+w;q++)C[q]=0;M=b(t);for(n=1;n<=z;n++){q=r[n];q<=p?(H=m.l[q],D=dc):(H=m.e[q-p],D=H.Da);O=H.c;I=H.d;H=H.m;F=v[n];if(1E5<Math.abs(F))break a;if(!(1E-10>Math.abs(F))){switch(H){case wc:break a;case J:K=-F;break;case Ec:K=+F;break;case mc:continue}switch(D){case gh:if(1E-10>Math.abs(K-Math.floor(K+0.5)))continue;else x=b(K)<=b(t)?b(K):b(t)/(1-b(t))*(1-b(K));break;case dc:x=0<=K?+K:b(t)/(1-b(t))*-K}switch(H){case J:C[q]=+x;M+=x*O;break;case Ec:C[q]=-x,M-=x*I}}}for(q=1;q<=p;q++)if(!(1E-10>
Math.abs(C[q]))){H=m.l[q];for(n=H.j;n!=s;n=n.z)C[p+n.e.A]+=C[q]*n.i}z=0;for(n=1;n<=w;n++)1E-10>Math.abs(C[p+n])||(H=m.e[n],H.type==G?M-=C[p+n]*H.c:(z++,r[z]=n,v[z]=C[p+n]));1E-12>Math.abs(M)&&(M=0);for(q=1;q<=z;q++)if(0.0010>Math.abs(v[q])||1E3<Math.abs(v[q]))break a;mi(g,rh,z,r,v,xc,M)}}var Eh=0,Fh=5,ql=0,rl=1,sl=2;
function Xh(a,b){function c(a,b,c,f,g,j,k){function l(a,b,c,f,g,j,k){var m;m=c;for(c=1;c<=a;c++)k[c]=b[c]/j,g[c]&&(k[c]=-k[c]),m-=b[c]*f[c];b=m/j;var n;if(0.01>Math.abs(b-Math.floor(b+0.5)))b=1;else{m=b-Math.floor(b);for(c=1;c<=a;c++)n=k[c]-Math.floor(k[c])-m,k[c]=0>=n?Math.floor(k[c]):Math.floor(k[c])+n/(1-m);d=Math.floor(b);e=1/(1-m);b=0}if(b)return 1;for(c=1;c<=a;c++)g[c]&&(k[c]=-k[c],d+=k[c]*f[c]);e/=j;return 0}var n,m,p,q,r;p=Array(4);var v,w,z,C;z=new Int8Array(1+a);C=Array(1+a);for(m=1;m<=
a;m++)z[m]=g[m]>=0.5*f[m];w=r=0;for(m=1;m<=a;m++)if(n=1E-9*(1+Math.abs(f[m])),!(g[m]<n||g[m]>f[m]-n))if(n=l(a,b,c,f,z,Math.abs(b[m]),k),!n){v=-d-e*j;for(n=1;n<=a;n++)v+=k[n]*g[n];w<v&&(w=v,r=Math.abs(b[m]))}0.0010>w&&(w=0);if(0==w)return w;p[1]=r/2;p[2]=r/4;p[3]=r/8;for(m=1;3>=m;m++)if(n=l(a,b,c,f,z,p[m],k),!n){v=-d-e*j;for(n=1;n<=a;n++)v+=k[n]*g[n];w<v&&(w=v,r=p[m])}p=0;for(m=1;m<=a;m++)n=1E-9*(1+Math.abs(f[m])),g[m]<n||g[m]>f[m]-n||(p++,C[p].A=m,C[p].xf=Math.abs(g[m]-0.5*f[m]));ta(C,p,function(a,
b){return a.xf<b.xf?-1:a.xf>b.xf?1:0});for(q=1;q<=p;q++)if(m=C[q].A,z[m]=!z[m],n=l(a,b,c,f,z,r,k),z[m]=!z[m],!n){v=-d-e*j;for(n=1;n<=a;n++)v+=k[n]*g[n];w<v&&(w=v,z[m]=!z[m])}n=l(a,b,c,f,z,r,k);return w}var d,e,f=b.f,g=b.h,l,j,k;l=a.w;k=b.f;j=b.h;var m;for(m=1;m<=k;m++)b.x[m]=l.l[m].q;for(m=k+1;m<=k+j;m++)b.x[m]=l.e[m-k].q;na(b.lb,1,ql,f+g);for(l=1;l<=f;l++)if(!b.Db[l]){k=b;j=l;m=a.w;var n=k.f,p=h;k.Db[j]=2;k.Je=1;k.Ef[1]=j;nl(k.Ya);ml(k.Ya,j,1);for(p=m.l[j].j;p!=s;p=p.z)ml(k.Ya,n+p.e.A,-p.i);for(k.Df=
0;;){k=b;m=j=h;for(j=1;j<=k.Ya.K;j++)m=k.Ya.Y[j],0==k.Xb[m]&&(0==k.yb[m]&&k.c[m]==k.d[m])&&(k.Df-=k.Ya.i[j]*k.c[m],k.Ya.i[j]=0);ol(k.Ya,2.220446049250313E-16);if(Eh)for(j=1;j<=f+g;j++);k=b;p=n=p=m=j=h;for(j=1;j<=k.Ya.K;j++)m=k.Ya.Y[j],k.ab[m]||(p=k.Xb[m],n=0==p?k.c[m]==-u?u:k.x[m]-k.c[m]:k.x[m]-k.c[m]*k.x[p],p=k.yb[m],p=0==p?k.yb[m]==+u?u:k.d[m]-k.x[m]:k.d[m]*k.x[p]-k.x[m],k.lb[m]=n<=p?rl:sl);k=b;p=n=m=j=h;pl(k.ma,k.Ya);k.uc=k.Df;for(j=k.ma.K;1<=j;j--)n=k.ma.Y[j],k.ab[n]||(k.lb[n]==rl?(p=k.Xb[n],
0==p?k.uc-=k.ma.i[j]*k.c[n]:(m=k.ma.Ia[p],0==m&&(ml(k.ma,p,1),m=k.ma.Ia[p],k.ma.i[m]=0),k.ma.i[m]+=k.ma.i[j]*k.c[n])):k.lb[n]==sl&&(p=k.yb[n],0==p?k.uc-=k.ma.i[j]*k.d[n]:(m=k.ma.Ia[p],0==m&&(ml(k.ma,p,1),m=k.ma.Ia[p],k.ma.i[m]=0),k.ma.i[m]+=k.ma.i[j]*k.d[n]),k.ma.i[j]=-k.ma.i[j]));for(j=1;j<=k.ma.K;j++)n=k.ma.Y[j],k.ab[n]&&(Math.abs(k.c[n])<=Math.abs(k.d[n])?(k.lb[n]=rl,k.uc-=k.ma.i[j]*k.c[n]):(k.lb[n]=sl,k.uc-=k.ma.i[j]*k.d[n],k.ma.i[j]=-k.ma.i[j]));k=b;j=k.f;m=k.h;var w=n=h,r=h,v=p=h,C=h,q=r=h,
v=0;pl(k.D,k.ma);k.Kb=k.uc;ol(k.D,2.220446049250313E-16);for(n=1;n<=k.D.K;n++)w=k.D.Y[n],!k.ab[w]&&0<k.D.i[n]&&(k.D.i[n]=0);ol(k.D,0);p=0;for(n=1;n<=k.D.K;n++)w=k.D.Y[n],k.ab[w]&&(p++,r=k.D.Y[p],k.D.Ia[w]=p,k.D.Ia[r]=n,k.D.Y[p]=w,k.D.Y[n]=r,w=k.D.i[p],k.D.i[p]=k.D.i[n],k.D.i[n]=w);if(0!=p){C=new Float64Array(1+p);r=new Float64Array(1+p);q=new Float64Array(1+p);for(n=1;n<=p;n++)w=k.D.Y[n],C[n]=k.d[w]-k.c[w],k.lb[w]==rl?r[n]=k.x[w]-k.c[w]:k.lb[w]==sl&&(r[n]=k.d[w]-k.x[w]),0>r[n]&&(r[n]=0);v=0;for(n=
p+1;n<=k.D.K;n++)w=k.D.Y[n],k.lb[w]==rl?(r=k.Xb[w],r=0==r?k.x[w]-k.c[w]:k.x[w]-k.c[w]*k.x[r]):k.lb[w]==sl&&(r=k.yb[w],r=0==r?k.d[w]-k.x[w]:k.d[w]*k.x[r]-k.x[w]),0>r&&(r=0),v-=k.D.i[n]*r;v=c(p,k.D.i,k.Kb,C,r,v,q);if(0!=v){for(n=1;n<=p;n++)k.D.i[n]=q[n];for(n=p+1;n<=k.D.K;n++)w=k.D.Y[n],w<=j+m&&(k.D.i[n]*=0);k.Kb=s}}k=v;if(0<k){j=b;w=p=n=m=h;for(m=1;m<=j.D.K;m++)p=j.D.Y[m],j.ab[p]&&(j.lb[p]==rl?j.Kb+=j.D.i[m]*j.c[p]:j.lb[p]==sl&&(j.Kb-=j.D.i[m]*j.d[p],j.D.i[m]=-j.D.i[m]));for(m=1;m<=j.D.K;m++)p=j.D.Y[m],
j.ab[p]||(j.lb[p]==rl?(w=j.Xb[p],0==w?j.Kb+=j.D.i[m]*j.c[p]:(n=j.D.Ia[w],0==n&&(ml(j.D,w,1),n=j.D.Ia[w],j.D.i[n]=0),j.D.i[n]-=j.D.i[m]*j.c[p])):j.lb[p]==sl&&(w=j.yb[p],0==w?j.Kb-=j.D.i[m]*j.d[p]:(n=j.D.Ia[w],0==n&&(ml(j.D,w,1),n=j.D.Ia[w],j.D.i[n]=0),j.D.i[n]+=j.D.i[m]*j.d[p]),j.D.i[m]=-j.D.i[m]));j=b;m=a.w;n=j.f;r=q=w=p=w=h;for(p=j.D.K;1<=p;p--)if(w=j.D.Y[p],!(w>n)){for(w=m.l[w].j;w!=s;w=w.z)q=n+w.e.A,r=j.D.Ia[q],0==r&&(ml(j.D,q,1),r=j.D.Ia[q],j.D.i[r]=0),j.D.i[r]+=j.D.i[p]*w.i;j.D.i[p]=0}ol(j.D,
0);j=a;m=b;n=m.f;v=m.h;q=w=p=h;r=new Int32Array(1+v);v=new Float64Array(1+v);q=0;for(p=m.D.K;1<=p;p--)w=m.D.Y[p],q++,r[q]=w-n,v[q]=m.D.i[p];mi(j,sh,q,r,v,yc,m.Kb)}for(m=1;m<=b.ma.K;m++)j=b.ma.Y[m],b.lb[j]=ql;if(k=0==k)if(k=b.Je<Fh){k=b;var n=a.w,p=k.f,w=k.h,z=r=q=v=r=q=h;m=j=0;C=z=C=h;v=0;for(q=1;q<=k.Ya.K;q++)r=k.Ya.Y[q],!(r<=p)&&(!k.ab[r]&&!(0.0010>Math.abs(k.Ya.i[q])))&&(z=k.Xb[r],C=0==z?k.c[r]==-u?u:k.x[r]-k.c[r]:k.x[r]-k.c[r]*k.x[z],z=k.yb[r],z=0==z?k.yb[r]==+u?u:k.d[r]-k.x[r]:k.d[r]*k.x[z]-
k.x[r],C=C<=z?C:z,!(0.0010>C)&&v<C&&(v=C,j=r));if(0==j)m=1;else{for(v=1;v<=p;v++)if(!k.Db[v]){for(q=n.l[v].j;q!=s&&q.e.A!=j-p;q=q.z);if(q!=s&&0.0010<=Math.abs(q.i))break}if(v>p)m=2;else{k.Je++;k.Ef[k.Je]=v;k.Db[v]=2;r=Gh(p+w);ml(r,v,1);for(q=n.l[v].j;q!=s;q=q.z)ml(r,p+q.e.A,-q.i);q=k.Ya.Ia[j];n=k.Ya;p=-k.Ya.i[q]/r.i[r.Ia[j]];w=r;C=v=q=h;for(r=1;r<=w.K;r++)q=w.Y[r],v=h,v=n.Ia[q],v=0==v?0:n.i[v],C=w.i[r],ml(n,q,v+p*C);ml(k.Ya,j,0)}}k=m;k=0==k}if(!k)break}for(j=1;j<=b.Je;j++)k=b.Ef[j],b.Db[k]=0}}
function tl(a,b,c){var d;0<b?b=a.yf[b]:(b=a.yf[-b],b+=a.Bb);0<c?c=a.yf[c]:(c=a.yf[-c],c+=a.Bb);b<c&&(d=b,b=c,c=d);d=(b-1)*(b-2)/2+(c-1);a.jc[d/1]|=1<<0-d%1;a.Dg++}
function Hh(a){a=a.w;var b=function(a,b){var c;switch(ee(a,b)-Wb+Yh){case Yh:case Zh:c=-u;break;case bi:case $h:case di:c=ci(a,b)}return c},c=function(a,b){var c;switch(ee(a,b)-Wb+Yh){case Yh:case bi:c=+u;break;case Zh:case $h:case di:c=ai(a,b)}return c},d=function(a,b){var c;switch(we(a,b)-Wb+Yh){case Yh:case Zh:c=-u;break;case bi:case $h:case di:c=ei(a,b)}return c},e=function(a,b){var c;switch(we(a,b)-Wb+Yh){case Yh:case bi:c=+u;break;case Zh:case $h:case di:c=li(a,b)}return c},f=function(a,b){return(jh(a,
b)==dc?ji:ki)==ki&&we(a,b)-Wb+Yh==$h&&0==ei(a,b)&&1==li(a,b)},g=function(a,b,c,f){var g,j,k;k=0;for(j=1;j<=b;j++)if(g=c[j],0<f[j]){g=d(a,g);if(g==-u){k=-u;break}k+=f[j]*g}else if(0>f[j]){g=e(a,g);if(g==+u){k=-u;break}k+=f[j]*g}return k},l=function(a,b,c,f){var g,j,k;k=0;for(j=1;j<=b;j++)if(g=c[j],0<f[j]){g=e(a,g);if(g==+u){k=+u;break}k+=f[j]*g}else if(0>f[j]){g=d(a,g);if(g==-u){k=+u;break}k+=f[j]*g}return k},j=function(a,b,c,d,e,f,g,j){b!=-u&&g&&(b-=a[f]);c!=+u&&g&&(c-=a[f]);d!=-u&&(0>a[f]&&(d-=a[f]),
0>a[j]&&(d-=a[j]));e!=+u&&(0<a[f]&&(e-=a[f]),0<a[j]&&(e-=a[j]));f=0<a[j]?b==-u||e==+u?-u:(b-e)/a[j]:c==+u||d==-u?-u:(c-d)/a[j];if(0.0010<f)return 2;f=0<a[j]?c==+u||d==-u?+u:(c-d)/a[j]:b==-u||e==+u?+u:(b-e)/a[j];return 0.999>f?1:0},k=s,m,n,p,w,r,v,C,q,z,D,H,O,I,K,t,F;B("Creating the conflict graph...");m=Md(a);n=Nd(a);p=0;D=new Int32Array(1+n);H=new Int32Array(1+n);z=new Int32Array(1+n);F=new Float64Array(1+n);for(w=1;w<=m;w++)if(O=b(a,w),I=c(a,w),!(O==-u&&I==+u)&&(q=ze(a,w,z,F),!(500<q))){K=g(a,q,
z,F);t=l(a,q,z,F);for(v=1;v<=q;v++)if(f(a,z[v]))for(C=v+1;C<=q;C++)if(f(a,z[C])&&(j(F,O,I,K,t,v,0,C)||j(F,O,I,K,t,v,1,C)))r=z[v],0==D[r]&&(p++,D[r]=p,H[p]=r),r=z[C],0==D[r]&&(p++,D[r]=p,H[p]=r)}if(0==p||4E3<p)B("The conflict graph is either empty or too big");else{k={};k.h=n;k.Bb=p;k.Dg=0;k.yf=D;k.ge=H;q=p+p;q=(q*(q-1)/2+0)/1;k.jc=Array(q);for(r=1;r<=p;r++)tl(k,+H[r],-H[r]);for(w=1;w<=m;w++)if(O=b(a,w),I=c(a,w),!(O==-u&&I==+u)&&(q=ze(a,w,z,F),!(500<q))){K=g(a,q,z,F);t=l(a,q,z,F);for(v=1;v<=q;v++)if(f(a,
z[v]))for(C=v+1;C<=q;C++)if(f(a,z[C])){switch(j(F,O,I,K,t,v,0,C)){case 1:tl(k,-z[v],+z[C]);break;case 2:tl(k,-z[v],-z[C])}switch(j(F,O,I,K,t,v,1,C)){case 1:tl(k,+z[v],+z[C]);break;case 2:tl(k,+z[v],-z[C])}}}B("The conflict graph has 2*"+k.Bb+" vertices and "+k.Dg+" edges")}return k}
function ni(a,b){function c(a,b,e,f,g,j){var k,l,m,n,p,r,q,v;v=new Int32Array(a.h);if(0>=b){if(0==b&&(a.set[f++]=e[0],g+=j),g>a.gd){a.gd=g;a.bg=f;for(k=0;k<f;k++)a.nh[k+1]=a.set[k]}}else for(k=b;0<=k&&!(0==f&&k<b);k--){m=e[k];if(0<f&&a.wg[m]<=a.gd-g)break;a.set[f]=m;n=g+a.Jc[m+1];j-=a.Jc[m+1];if(j<=a.gd-n)break;for(p=q=r=0;q<e+k;)l=e[q],q++,d(a,l,m)&&(v[r]=l,r++,p+=a.Jc[l+1]);p<=a.gd-n||c(a,r-1,v,f+1,n,p)}}function d(a,b,c){return b==c?0:b>c?a.jc[(b*(b-1)/2+c)/1]&1<<0-(b*(b-1)/2+c)%1:a.jc[(c*(c-1)/
2+b)/1]&1<<0-(c*(c-1)/2+b)%1}var e=Nd(a.w),f,g;g=new Int32Array(1+e);var e=new Float64Array(1+e),l=a.w;f=Nd(l);var j,k,m,n=0,p,w,r;p=new Int32Array(1+2*b.Bb);w=new Int32Array(1+2*b.Bb);r=new Float64Array(1+f);for(k=1;k<=b.Bb;k++)j=b.ge[k],j=eh(l,j),j=100*j+0.5|0,0>j&&(j=0),100<j&&(j=100),p[k]=j,p[b.Bb+k]=100-j;j=b.jc;k={};var v,C,q,z,D,H;k.h=2*b.Bb;k.Jc=p;k.jc=j;k.gd=0;k.bg=0;k.nh=w;k.wg=new Int32Array(k.h);k.set=new Int32Array(k.h);z=new Int32Array(k.h);D=new Int32Array(k.h);j=new Int32Array(k.h);
H=ra();for(p=0;p<k.h;p++)for(v=D[p]=0;v<k.h;v++)d(k,p,v)&&(D[p]+=k.Jc[v+1]);for(p=0;p<k.h;p++)z[p]=0;for(p=k.h-1;0<=p;p--){q=C=-1;for(v=0;v<k.h;v++)if(!z[v]&&(k.Jc[v+1]>C||k.Jc[v+1]==C&&D[v]>q))C=k.Jc[v+1],q=D[v],m=v;j[p]=m;z[m]=1;for(v=0;v<k.h;v++)!z[v]&&(v!=m&&d(k,m,v))&&(D[v]-=k.Jc[m+1])}for(p=m=0;p<k.h;p++)m+=k.Jc[j[p]+1],c(k,p,j,0,0,m),k.wg[j[p]]=k.gd,4.999<=sa(H)&&(B("level = "+p+1+" ("+k.h+"); best = "+k.gd+""),H=ra());for(p=1;p<=k.bg;p++)w[p]++;m=k.bg;p=0;for(k=1;k<=m;k++)j=w[k],j<=b.Bb?(j=
b.ge[j],j=eh(l,j),p+=j):(j=b.ge[j-b.Bb],j=eh(l,j),p+=1-j);if(1.01<=p){for(k=l=1;k<=m;k++)j=w[k],j<=b.Bb?(j=b.ge[j],r[j]+=1):(j=b.ge[j-b.Bb],r[j]-=1,l-=1);for(j=1;j<=f;j++)0!=r[j]&&(n++,g[n]=j,e[n]=r[j]);g[0]=0;e[0]=l}f=n;0<f&&mi(a,uh,f,g,e,yc,e[0])}function wi(a,b){var c,d,e,f,g,l;d=0;g=u;for(c=1;c<=a.h;c++)a.ad[c]&&(f=eh(a.w,c),l=Math.floor(f)+0.5,g>Math.abs(f-l)&&(d=c,g=Math.abs(f-l),e=f<l?si:ti));b(e);return d}
function Bi(a,b){function c(a,b,c){var d,e;Lg(a);d=lb();Ad(d,a,0);Gc(d,b,G,c,c);b=new Gg;b.n=yg;b.cb=If;b.pc=30;b.fb=1E3;b.cb=If;b=Fg(d,b);0==b||b==ul?Hg(d)==xg?e=u:Ig(d)==fg?(a.dir==Va?e=d.Z-a.Z:a.dir==ub&&(e=a.Z-d.Z),e<1E-6*(1+0.0010*Math.abs(a.Z))&&(e=0)):e=0:e=0;return e}function d(a,b,d){var e=a.Fd,f;if(d==si){if(0==e.yd[b]){d=a.w.e[b].q;a=c(a.w,b,Math.floor(d));if(a==u)return f=u;e.yd[b]=1;e.Ud[b]=a/(d-Math.floor(d))}f=e.Ud[b]/e.yd[b]}else if(d==ti){if(0==e.Id[b]){d=a.w.e[b].q;a=c(a.w,b,Math.ceil(d));
if(a==u)return f=u;e.Id[b]=1;e.ye[b]=a/(Math.ceil(d)-d)}f=e.ye[b]/e.Id[b]}return f}var e=ra(),f,g,l,j,k,m,n;if(a.Fd==s){f=a.h;n={};n.yd=new Int32Array(1+f);n.Ud=new Float64Array(1+f);n.Id=new Int32Array(1+f);n.ye=new Float64Array(1+f);for(g=1;g<=f;g++)n.yd[g]=n.Id[g]=0,n.Ud[g]=n.ye[g]=0;a.Fd=n}g=0;n=-1;for(f=1;f<=a.h;f++)if(oj(a,f)){j=a.w.e[f].q;k=d(a,f,si);if(k==u)return g=f,l=si,b(l),g;m=k*(j-Math.floor(j));k=d(a,f,ti);if(k==u)return g=f,l=ti,b(l),g;j=k*(Math.ceil(j)-j);k=m>j?m:j;n<k&&(n=k,g=f,
l=m<=j?si:ti);if(a.o.n>=nd&&10<=sa(e)){e=a;m=e.Fd;j=h;var p=k=0;for(j=1;j<=e.h;j++)oj(e,j)&&(k++,0<m.yd[j]&&0<m.Id[j]&&p++);B("Pseudocosts initialized for "+p+" of "+k+" variables");e=ra()}}if(0==n)return g=wi(a,b);b(l);return g}
function Vh(a){var b=a.w,c=b.h,d=s,e=s,f=s,g,l,j,k,m,n,p,w;for(k=0;;){var r=s;switch(k){case 0:Lg(b);if(!(0==a.L.Ka&&1==a.L.eg)){r=5;break}p=0;for(j=1;j<=c;j++)if(g=b.e[j],g.Da!=dc&&g.type!=G)if(g.type==R&&0==g.c&&1==g.d)p++;else{a.o.n>=Xf&&B("FPUMP heuristic cannot be applied due to general integer variables");r=5;break}if(r!=s)break;if(0==p){r=5;break}a.o.n>=Xf&&B("Applying FPUMP heuristic...");e=Array(1+p);pa(e,1,p);k=0;for(j=1;j<=c;j++)g=b.e[j],g.Da==gh&&g.type==R&&(e[++k].A=j);d=lb();case 1:Ad(d,
b,od);if(b.xa==fg){cc(d,1);m=new Int32Array(1+c);n=new Float64Array(1+c);for(j=1;j<=c;j++)m[j]=j,n[j]=b.e[j].t;Wc(d,d.f,c,m,n);m=0.1*b.Z+0.9*b.ra;b.dir==Va?Fc(d,d.f,yc,0,m-b.fa):b.dir==ub&&Fc(d,d.f,xc,m-b.fa,0)}n=0;for(k=1;k<=p;k++)e[k].x=-1;case 2:if(n++,a.o.n>=Xf&&B("Pass "+n+""),w=u,m=0,1<n){f==s&&(f=vl());for(k=1;k<=p;k++)j=e[k].A,g=d.e[j],r=wl(f)/2147483647,r=-0.3*(1-r)+0.7*r,0>r&&(r=0),g=Math.abs(e[k].x-g.q),0.5<g+r&&(e[k].x=1-e[k].x);r=4;break}case 3:for(k=l=1;k<=p;k++)g=d.e[e[k].A],g=0.5>
g.q?0:1,e[k].x!=g&&(l=0,e[k].x=g);if(l){for(k=1;k<=p;k++)g=d.e[e[k].A],e[k].Td=Math.abs(g.q-e[k].x);ta(e,p,function(a,b){return a.Td>b.Td?-1:a.Td<b.Td?1:0});for(k=1;k<=p&&!(5<=k&&0.35>e[k].Td||10<=k);k++)e[k].x=1-e[k].x}case 4:if(2147483647>a.o.rb&&a.o.rb-1<=1E3*sa(a.gc)){r=5;break}d.dir=Va;d.fa=0;for(j=1;j<=c;j++)d.e[j].t=0;for(k=1;k<=p;k++)j=e[k].A,0==e[k].x?d.e[j].t=1:(d.e[j].t=-1,d.fa+=1);l=new Gg;a.o.n<=qf?l.n=a.o.n:a.o.n<=Xf&&(l.n=pg,l.fb=1E4);k=Fg(d,l);if(0!=k){a.o.n>=qf&&B("Warning: glp_simplex returned "+
k+"");r=5;break}k=Lg(d);if(k!=Jg){a.o.n>=qf&&B("Warning: glp_get_status returned "+k+"");r=5;break}a.o.n>=zg&&B("delta = "+d.Z+"");j=0.3*a.o.Tb;for(k=1;k<=p&&!(g=d.e[e[k].A],j<g.q&&g.q<1-j);k++);if(k>p){g=new Float64Array(1+c);for(j=1;j<=c;j++)g[j]=d.e[j].q,b.e[j].Da==gh&&(g[j]=Math.floor(g[j]+0.5));d.fa=b.fa;d.dir=b.dir;for(k=1;k<=p;k++)d.e[e[k].A].c=g[e[k].A],d.e[e[k].A].d=g[e[k].A],d.e[e[k].A].type=G;for(j=1;j<=c;j++)d.e[j].t=b.e[j].t;k=Fg(d,l);if(0!=k){a.o.n>=qf&&B("Warning: glp_simplex returned "+
k+"");r=5;break}k=Lg(d);if(k!=Jg){a.o.n>=qf&&B("Warning: glp_get_status returned "+k+"");r=5;break}for(j=1;j<=c;j++)b.e[j].Da!=gh&&(g[j]=d.e[j].q);k=pj(a,g);if(0==k){r=qh(a,a.L.bound)?1:5;break}}w==u||d.Z<=w-1E-6*(1+w)?(m=0,w=d.Z):m++;if(3>m){r=3;break}5>n&&(r=2)}if(r==s)break;k=r}}
function oi(a){var b,c,d,e,f,g,l,j,k,m;b=a.Bd;e=Array(1+b.size);j=new Int32Array(1+a.h);k=new Float64Array(1+a.h);m=new Float64Array(1+a.h);f=0;for(c=b.head;c!=s;c=c.next)f++,e[f].Re=c,e[f].$=0;for(f=1;f<=b.size;f++){var n=s,p=s;c=e[f].Re;g=l=0;for(d=c.j;d!=s;d=d.next)l++,j[l]=d.A,k[l]=d.i,g+=d.i*d.i;4.930380657631324E-32>g&&(g=2.220446049250313E-16);l=lj(a.w,l,j,k);a:{d=a.w;var w=j,r=k,v=c.type,C=c.cg,q=h,z=h,D=h,H=h;c=0;var O=h,q=H=O=h;d.la==db&&y("glp_analyze_row: primal basic solution components are undefined");
d.qa!=fg&&y("glp_analyze_row: basic solution is not dual feasible");0<=l&&l<=d.h||y("glp_analyze_row: len = "+l+"; invalid row length");H=0;for(q=1;q<=l;q++)z=w[q],1<=z&&z<=d.f+d.h||y("glp_analyze_row: ind["+q+"] = "+z+"; row/column index out of range"),z<=d.f?(d.l[z].m==E&&y("glp_analyze_row: ind["+q+"] = "+z+"; basic auxiliary variable is not allowed"),O=d.l[z].q):(d.e[z-d.f].m==E&&y("glp_analyze_row: ind["+q+"] = "+z+"; basic structural variable is not allowed"),O=d.e[z-d.f].q),H+=r[q]*O;if(v==
xc){if(H>=C){d=c=1;break a}D=1}else if(v==yc){if(H<=C){d=c=1;break a}D=-1}else y("glp_analyze_row: type = "+v+"; invalid parameter");q=C-H;H=zi(d,l,w,r,D,1E-9);0==H?c=2:(z=w[H],O=z<=d.f?d.l[z].q:d.e[z-d.f].q,O=q/r[H],p=z<=d.f?d.l[z].H*O:d.e[z-d.f].H*O,n=q);d=c}0==d?(e[f].Xc=Math.abs(n)/Math.sqrt(g),a.w.dir==Va?(0>p&&(p=0),e[f].zb=+p):(0<p&&(p=0),e[f].zb=-p)):1==d?e[f].Xc=e[f].zb=0:2==d&&(e[f].Xc=1,e[f].zb=u);0.01>e[f].zb&&(e[f].zb=0)}ta(e,b.size,function(a,b){if(0==a.zb&&0==b.zb){if(a.Xc>b.Xc)return-1;
if(a.Xc<b.Xc)return 1}else{if(a.zb>b.zb)return-1;if(a.zb<b.zb)return 1}return 0});g=0==a.L.Ka?90:10;g>b.size&&(g=b.size);for(f=1;f<=g;f++)if(!(0.01>e[f].zb&&0.01>e[f].Xc)){for(b=1;b<f;b++){if(n=e[b].$){n=e[f].Re;p=e[b].Re;d=m;v=h;r=w=l=0;v=h;for(v=n.j;v!=s;v=v.next)d[v.A]=v.i,w+=v.i*v.i;for(v=p.j;v!=s;v=v.next)l+=d[v.A]*v.i,r+=v.i*v.i;for(v=n.j;v!=s;v=v.next)d[v.A]=0;v=Math.sqrt(w)*Math.sqrt(r);4.930380657631324E-32>v&&(v=2.220446049250313E-16);n=0.9<l/v}if(n)break}if(!(b<f)){c=e[f].Re;e[f].$=1;b=
cc(a.w,1);c.name!=s&&oc(a.w,b,c.name);a.w.l[b].rc=c.rc;l=0;for(d=c.j;d!=s;d=d.next)l++,j[l]=d.A,k[l]=d.i;Wc(a.w,b,l,j,k);Fc(a.w,b,c.type,c.cg,c.cg)}}}
var Aa=exports.GLP_MAJOR_VERSION=4,Ca=exports.GLP_MINOR_VERSION=48,Va=exports.GLP_MIN=1,ub=exports.GLP_MAX=2,dc=exports.GLP_CV=1,gh=exports.GLP_IV=2,hh=exports.GLP_BV=3,Wb=exports.GLP_FR=1,xc=exports.GLP_LO=2,yc=exports.GLP_UP=3,R=exports.GLP_DB=4,G=exports.GLP_FX=5,E=exports.GLP_BS=1,J=exports.GLP_NL=2,Ec=exports.GLP_NU=3,wc=exports.GLP_NF=4,mc=exports.GLP_NS=5,Pi=exports.GLP_SF_GM=1,Qi=exports.GLP_SF_EQ=16,Ri=exports.GLP_SF_2N=32,Si=exports.GLP_SF_SKIP=64,vg=exports.GLP_SF_AUTO=128,$f=exports.GLP_SOL=
1,Rj=exports.GLP_IPT=2,Fi=exports.GLP_MIP=3,db=exports.GLP_UNDEF=1,fg=exports.GLP_FEAS=2,Rh=exports.GLP_INFEAS=3,xg=exports.GLP_NOFEAS=4,Jg=exports.GLP_OPT=5,Kg=exports.GLP_UNBND=6,Xi=exports.GLP_BF_FT=1,bj=exports.GLP_BF_BG=2,cj=exports.GLP_BF_GR=3,yg=exports.GLP_MSG_OFF=0,qf=exports.GLP_MSG_ERR=1,pg=exports.GLP_MSG_ON=2,Xf=exports.GLP_MSG_ALL=3,zg=exports.GLP_MSG_DBG=4,Df=exports.GLP_PRIMAL=1,Ff=exports.GLP_DUALP=2,If=exports.GLP_DUAL=3,Ag=exports.GLP_PT_STD=17,Bg=exports.GLP_PT_PSE=34,Cg=exports.GLP_RT_STD=
17,Dg=exports.GLP_RT_HAR=34;exports.GLP_ORD_NONE=0;exports.GLP_ORD_QMD=1;exports.GLP_ORD_AMD=2;exports.GLP_ORD_SYMAMD=3;var ri=exports.GLP_BR_FFV=1,ui=exports.GLP_BR_LFV=2,vi=exports.GLP_BR_MFV=3,xi=exports.GLP_BR_DTH=4,Ai=exports.GLP_BR_PCH=5,Ah=exports.GLP_BT_DFS=1,Bh=exports.GLP_BT_BFS=2,Ch=exports.GLP_BT_BLB=3,Dh=exports.GLP_BT_BPH=4,Lh=exports.GLP_PP_NONE=0,Mh=exports.GLP_PP_ROOT=1,Oh=exports.GLP_PP_ALL=2;exports.GLP_RF_REG=0;
var Eb=exports.GLP_RF_LAZY=1,Vb=exports.GLP_RF_CUT=2,rh=exports.GLP_RF_GMI=1,sh=exports.GLP_RF_MIR=2,th=exports.GLP_RF_COV=3,uh=exports.GLP_RF_CLQ=4,nd=exports.GLP_ON=1,od=exports.GLP_OFF=0,zb=exports.GLP_IROWGEN=1,Th=exports.GLP_IBINGO=2,Uh=exports.GLP_IHEUR=3,Ub=exports.GLP_ICUTGEN=4,qi=exports.GLP_IBRANCH=5,yh=exports.GLP_ISELECT=6,Kh=exports.GLP_IPREPRO=7,Di=exports.GLP_NO_BRNCH=0,si=exports.GLP_DN_BRNCH=1,ti=exports.GLP_UP_BRNCH=2,pf=exports.GLP_EBADB=1,Bf=exports.GLP_ESING=2,Cf=exports.GLP_ECOND=
3,Eg=exports.GLP_EBOUND=4,Hf=exports.GLP_EFAIL=5,Ph=exports.GLP_EOBJLL=6,Qh=exports.GLP_EOBJUL=7,ul=exports.GLP_EITLIM=8,Jh=exports.GLP_ETMLIM=9,bg=exports.GLP_ENOPFS=10,cg=exports.GLP_ENODFS=11,mh=exports.GLP_EROOT=12,zh=exports.GLP_ESTOP=13,Ih=exports.GLP_EMIPGAP=14;exports.GLP_ENOFEAS=15;exports.GLP_ENOCVG=16;exports.GLP_EINSTAB=17;exports.GLP_EDATA=18;exports.GLP_ERANGE=19;exports.GLP_KKT_PE=1;exports.GLP_KKT_PB=2;exports.GLP_KKT_DE=3;exports.GLP_KKT_DB=4;exports.GLP_KKT_CS=5;
exports.GLP_MPS_DECK=1;exports.GLP_MPS_FILE=2;exports.GLP_ASN_MIN=1;exports.GLP_ASN_MAX=2;exports.GLP_ASN_MMP=3;exports.LPX_LP=100;exports.LPX_MIP=101;var Yh=exports.LPX_FR=110,bi=exports.LPX_LO=111,Zh=exports.LPX_UP=112,$h=exports.LPX_DB=113,di=exports.LPX_FX=114;exports.LPX_MIN=120;exports.LPX_MAX=121;exports.LPX_P_UNDEF=132;exports.LPX_P_FEAS=133;exports.LPX_P_INFEAS=134;exports.LPX_P_NOFEAS=135;exports.LPX_D_UNDEF=136;exports.LPX_D_FEAS=137;exports.LPX_D_INFEAS=138;exports.LPX_D_NOFEAS=139;
var hl=exports.LPX_BS=140,jl=exports.LPX_NL=141,kl=exports.LPX_NU=142,il=exports.LPX_NF=143,ll=exports.LPX_NS=144;exports.LPX_T_UNDEF=150;exports.LPX_T_OPT=151;var ji=exports.LPX_CV=160,ki=exports.LPX_IV=161;exports.LPX_I_UNDEF=170;exports.LPX_I_OPT=171;exports.LPX_I_FEAS=172;exports.LPX_I_NOFEAS=173;exports.LPX_OPT=180;exports.LPX_FEAS=181;exports.LPX_INFEAS=182;exports.LPX_NOFEAS=183;exports.LPX_UNBND=184;exports.LPX_UNDEF=185;exports.LPX_E_OK=200;exports.LPX_E_EMPTY=201;exports.LPX_E_BADB=202;
exports.LPX_E_INFEAS=203;exports.LPX_E_FAULT=204;exports.LPX_E_OBJLL=205;exports.LPX_E_OBJUL=206;exports.LPX_E_ITLIM=207;exports.LPX_E_TMLIM=208;exports.LPX_E_NOFEAS=209;exports.LPX_E_INSTAB=210;exports.LPX_E_SING=211;exports.LPX_E_NOCONV=212;exports.LPX_E_NOPFS=213;exports.LPX_E_NODFS=214;exports.LPX_E_MIPGAP=215;var Nk=exports.LPX_K_MSGLEV=300,Ok=exports.LPX_K_SCALE=301,Pk=exports.LPX_K_DUAL=302,Qk=exports.LPX_K_PRICE=303;exports.LPX_K_RELAX=304;exports.LPX_K_TOLBND=305;exports.LPX_K_TOLDJ=306;
exports.LPX_K_TOLPIV=307;var Rk=exports.LPX_K_ROUND=308;exports.LPX_K_OBJLL=309;exports.LPX_K_OBJUL=310;var Sk=exports.LPX_K_ITLIM=311,Tk=exports.LPX_K_ITCNT=312;exports.LPX_K_TMLIM=313;var Uk=exports.LPX_K_OUTFRQ=314;exports.LPX_K_OUTDLY=315;var Vk=exports.LPX_K_BRANCH=316,Wk=exports.LPX_K_BTRACK=317;exports.LPX_K_TOLINT=318;exports.LPX_K_TOLOBJ=319;
var Xk=exports.LPX_K_MPSINFO=320,Yk=exports.LPX_K_MPSOBJ=321,Zk=exports.LPX_K_MPSORIG=322,$k=exports.LPX_K_MPSWIDE=323,al=exports.LPX_K_MPSFREE=324,bl=exports.LPX_K_MPSSKIP=325,cl=exports.LPX_K_LPTORIG=326,dl=exports.LPX_K_PRESOL=327,el=exports.LPX_K_BINARIZE=328,fl=exports.LPX_K_USECUTS=329,gl=exports.LPX_K_BFTYPE=330;exports.LPX_K_MIPGAP=331;exports.LPX_C_COVER=1;exports.LPX_C_CLIQUE=2;exports.LPX_C_GOMORY=4;exports.LPX_C_MIR=8;exports.LPX_C_ALL=255;
function xl(a){var b=Math.floor(Math.log(a)/Math.log(2))+1;return Math.pow(2,0.75>=a/Math.pow(2,b)?b-1:b)}function yl(a,b){var c=Number(a);if(isNaN(c))return 2;switch(c){case Number.POSITIVE_INFINITY:case Number.NEGATIVE_INFINITY:return 1;default:return b(c),0}}function zl(a,b){var c=Number(a);if(isNaN(c))return 2;switch(c){case Number.POSITIVE_INFINITY:case Number.NEGATIVE_INFINITY:return 1;default:return 0==c%1?(b(c),0):2}}
function Al(a,b,c){var d,e;if(!(1<=a&&31>=a&&1<=b&&12>=b&&1<=c&&4E3>=c))return-1;3<=b?b-=3:(b+=9,c--);d=c/100|0;c=(146097*d/4|0)+(1461*(c-100*d)/4|0);c+=(153*b+2)/5|0;c+=a+1721119;Bl(c,function(a){e=a});a!=e&&(c=-1);return c}function Bl(a,b){var c,d,e;1721426<=a&&3182395>=a&&(a-=1721119,e=(4*a-1)/146097|0,c=(4*a-1)%146097/4|0,a=(4*c+3)/1461|0,c=((4*c+3)%1461+4)/4|0,d=(5*c-3)/153|0,c=(5*c-3)%153,c=(c+5)/5|0,e=100*e+a,9>=d?d+=3:(d-=9,e++),b(c,d,e))}var ok=1;LPF_ECOND=2;LPF_ELIMIT=3;var bk=0;
function wk(a,b,c,d){var e=a.h,f=a.Md,g=a.Ld,l=a.Vb;a=a.Wb;var j,k,m,n;for(j=1;j<=e;j++){n=0;k=f[j];for(m=k+g[j];k<m;k++)n+=a[k]*d[l[k]];b[j+c]+=-1*n}}function tk(a,b,c,d){var e=a.h,f=a.Od,g=a.Nd,l=a.Vb;a=a.Wb;var j,k,m,n;for(j=1;j<=e;j++){n=0;k=f[j];for(m=k+g[j];k<m;k++)n+=a[k]*d[l[k]];b[j+c]+=-1*n}}
if(bk)var vk=function(a,b,c,d){var e=a.f;a=a.Cf;var f,g,l=0,j,k,m;for(f=1;f<=e;f++){j=0;for(g=m=1;g<=e;g++)k=b?a[e*(g-1)+f]*c[g]:a[e*(f-1)+g]*c[g],m<Math.abs(k)&&(m=Math.abs(k)),j+=k;g=Math.abs(j-d[f])/m;l<g&&(l=g)}1E-8<l&&B((!b?"lpf_ftran":"lpf_btran")+": dmax = "+l+"; relative error too large")};function ci(a,b){var c=ue(a,b);c==-u&&(c=0);return c}function ai(a,b){var c=ve(a,b);c==+u&&(c=0);return c}function Mk(a,b,c){c(ee(a,b)-Wb+Yh,ci(a,b),ai(a,b))}
function ei(a,b){var c=xe(a,b);c==-u&&(c=0);return c}function li(a,b){var c=ye(a,b);c==+u&&(c=0);return c}function Lk(a,b,c){c(we(a,b)-Wb+Yh,ei(a,b),li(a,b))}var ik=1,kk=2;
function ak(){var a={};a.I=a.h=0;a.valid=0;a.Rf=a.Ye=s;a.Yd=a.Xd=s;a.Gc=a.Fc=a.pd=s;a.Af=s;a.Ec=a.Dc=a.Rc=s;a.kb=a.ub=s;a.sf=a.me=s;a.Fa=0;a.Ea=a.La=0;a.vb=s;a.wb=s;a.ld=a.Rb=0;a.Hd=a.md=s;a.zf=s;a.vf=a.dg=a.wf=s;a.Oe=a.Qe=a.Pe=s;a.$=s;a.ze=s;a.Va=0;a.bc=0.1;a.yc=4;a.fc=1;a.Lb=1E-15;a.tc=1E10;a.dh=a.$f=a.Pb=0;a.Cg=a.rd=0;a.na=0;return a}
function Kk(a){var b=a.h,c=a.Gc,d=a.Fc,e=a.pd,f=a.Ec,g=a.Dc,l=a.Rc,j=a.vb,k=a.wb,m=a.md,n=1,p,w;for(w=a.ld;0!=w;w=m[w])if(w<=b){p=w;if(c[p]!=n)break;e[p]=d[p];n+=e[p]}else{p=w-b;if(f[p]!=n)break;l[p]=g[p];n+=l[p]}for(;0!=w;w=m[w])w<=b?(p=w,ma(j,n,j,c[p],d[p]),ma(k,n,k,c[p],d[p]),c[p]=n,e[p]=d[p],n+=e[p]):(p=w-b,ma(j,n,j,f[p],g[p]),ma(k,n,k,f[p],g[p]),f[p]=n,l[p]=g[p],n+=l[p]);a.Ea=n}
function Ik(a,b,c){var d=a.h,e=a.Gc,f=a.Fc,g=a.pd,l=a.Rc,j=a.vb,k=a.wb,m=a.Hd,n=a.md,p=0,w;if(a.La-a.Ea<c&&(Kk(a),a.La-a.Ea<c))return 1;w=g[b];ma(j,a.Ea,j,e[b],f[b]);ma(k,a.Ea,k,e[b],f[b]);e[b]=a.Ea;g[b]=c;a.Ea+=c;0==m[b]?a.ld=n[b]:(c=m[b],c<=d?g[c]+=w:l[c-d]+=w,n[m[b]]=n[b]);0==n[b]?a.Rb=m[b]:m[n[b]]=m[b];m[b]=a.Rb;n[b]=0;0==m[b]?a.ld=b:n[m[b]]=b;a.Rb=b;return p}
function Jk(a,b,c){var d=a.h,e=a.pd,f=a.Ec,g=a.Dc,l=a.Rc,j=a.vb,k=a.wb,m=a.Hd,n=a.md,p=0,w;if(a.La-a.Ea<c&&(Kk(a),a.La-a.Ea<c))return 1;w=l[b];ma(j,a.Ea,j,f[b],g[b]);ma(k,a.Ea,k,f[b],g[b]);f[b]=a.Ea;l[b]=c;a.Ea+=c;b=d+b;0==m[b]?a.ld=n[b]:(c=m[b],c<=d?e[c]+=w:l[c-d]+=w,n[m[b]]=n[b]);0==n[b]?a.Rb=m[b]:m[n[b]]=m[b];m[b]=a.Rb;n[b]=0;0==m[b]?a.ld=b:n[m[b]]=b;a.Rb=b;return p}
function Cl(a,b){function c(){b(D,H);return 0==D}var d=a.h,e=a.Gc,f=a.Fc,g=a.Ec,l=a.Dc,j=a.vb,k=a.wb,m=a.zf,n=a.vf,p=a.wf,w=a.Oe,r=a.Qe,v=a.Pe,C=a.bc,q=a.yc,z=a.fc,D,H,O,I,K,t,F,x,M,L,T,A,N,P,za,ua,va,ka;D=H=0;ua=u;T=0;x=w[1];if(0!=x)return D=j[g[x]],H=x,c();I=n[1];if(0!=I)return D=I,H=j[e[I]],c();for(O=2;O<=d;O++){for(x=w[O];0!=x;x=A){I=g[x];M=I+l[x]-1;A=v[x];N=P=0;za=2147483647;for(L=I;L<=M;L++)if(I=j[L],K=e[I],t=K+f[I]-1,!(f[I]>=za)){va=m[I];if(0>va){for(F=K;F<=t;F++)ka=k[F],0>ka&&(ka=-ka),va<
ka&&(va=ka);m[I]=va}for(F=e[I];j[F]!=x;F++);ka=k[F];0>ka&&(ka=-ka);if(!(ka<C*va)&&(N=I,P=x,za=f[I],za<=O))return D=N,H=P,c()}if(0!=N){if(T++,x=(za-1)*(O-1),x<ua&&(D=N,H=P,ua=x),T==q)return c()}else z&&(0==r[x]?w[O]=v[x]:v[r[x]]=v[x],0!=v[x]&&(r[v[x]]=r[x]),r[x]=v[x]=x)}for(I=n[O];0!=I;I=p[I]){K=e[I];t=K+f[I]-1;va=m[I];if(0>va){for(F=K;F<=t;F++)ka=k[F],0>ka&&(ka=-ka),va<ka&&(va=ka);m[I]=va}N=P=0;za=2147483647;for(F=K;F<=t;F++)if(x=j[F],!(l[x]>=za)&&(ka=k[F],0>ka&&(ka=-ka),!(ka<C*va)&&(N=I,P=x,za=l[x],
za<=O)))return D=N,H=P,c();if(0!=N&&(T++,x=(O-1)*(za-1),x<ua&&(D=N,H=P,ua=x),T==q))return c()}}return c()}
function hk(a,b,c,d){function e(){0<a.Va&&(a.Fa=a.Va,a.vb=new Int32Array(1+a.Fa),a.wb=new Float64Array(1+a.Fa),a.Va=0);var e;a:{var q=a,z=c,D=d,t=q.h,F=q.Yd,x=q.Xd,M=q.Gc,L=q.Fc,T=q.pd,A=q.Ec,N=q.Dc,P=q.Rc,za=q.kb,ua=q.ub,va=q.sf,ka=q.me,ec=q.vb,Ce=q.wb,Se=q.Hd,Te=q.md,wb=q.zf,Ja=q.vf,td=q.dg,Pd=q.wf,Hc=q.Oe,ha=q.Qe,ba=q.Pe,ga=q.$,Nb=q.ze,eb=0,V,Ab,ca,Xb,Ob,wa,Fa,zc,Fb,$c,Ic,De,ad;Fb=1;$c=q.Fa+1;for(ca=1;ca<=t;ca++)F[ca]=$c,x[ca]=0;for(V=1;V<=t;V++)L[V]=T[V]=0,ga[V]=0;De=zc=0;for(ca=1;ca<=t;ca++){var fe=
za,bd=Nb;Fa=z(D,ca,fe,bd);0<=Fa&&Fa<=t||y("luf_factorize: j = "+ca+"; len = "+Fa+"; invalid column length");if($c-Fb<Fa){e=eb=1;break a}A[ca]=Fb;N[ca]=P[ca]=Fa;zc+=Fa;for(Ic=1;Ic<=Fa;Ic++)V=fe[Ic],ad=bd[Ic],1<=V&&V<=t||y("luf_factorize: i = "+V+"; j = "+ca+"; invalid row index"),ga[V]&&y("luf_factorize: i = "+V+"; j = "+ca+"; duplicate element not allowed"),0==ad&&y("luf_factorize: i = "+V+"; j = "+ca+"; zero element not allowed"),ec[Fb]=V,Ce[Fb]=ad,Fb++,0>ad&&(ad=-ad),De<ad&&(De=ad),ga[V]=1,T[V]++;
for(Ic=1;Ic<=Fa;Ic++)ga[fe[Ic]]=0}for(V=1;V<=t;V++){Fa=T[V];if($c-Fb<Fa){e=eb=1;break a}M[V]=Fb;Fb+=Fa}for(ca=1;ca<=t;ca++){Xb=A[ca];Ob=Xb+N[ca]-1;for(wa=Xb;wa<=Ob;wa++)V=ec[wa],ad=Ce[wa],Ab=M[V]+L[V],ec[Ab]=ca,Ce[Ab]=ad,L[V]++}for(wa=1;wa<=t;wa++)za[wa]=ua[wa]=va[wa]=ka[wa]=wa;q.Ea=Fb;q.La=$c;q.ld=t+1;q.Rb=t;for(V=1;V<=t;V++)Se[V]=V-1,Te[V]=V+1;Se[1]=t+t;Te[t]=0;for(ca=1;ca<=t;ca++)Se[t+ca]=t+ca-1,Te[t+ca]=t+ca+1;Se[t+1]=0;for(wa=Te[t+t]=1;wa<=t;wa++)ga[wa]=0,Nb[wa]=0;q.dh=zc;q.$f=0;q.Pb=zc;q.Cg=
De;q.rd=De;q.na=-1;for(V=1;V<=t;V++)wb[V]=-1;for(Fa=0;Fa<=t;Fa++)Ja[Fa]=0;for(V=1;V<=t;V++)Fa=L[V],td[V]=0,Pd[V]=Ja[Fa],0!=Pd[V]&&(td[Pd[V]]=V),Ja[Fa]=V;for(Fa=0;Fa<=t;Fa++)Hc[Fa]=0;for(ca=1;ca<=t;ca++)Fa=N[ca],ha[ca]=0,ba[ca]=Hc[Fa],0!=ba[ca]&&(ha[ba[ca]]=ca),Hc[Fa]=ca;e=eb}if(e)return a.Va=a.Fa+a.Fa,aa;for(p=1;p<=b;p++){if(Cl(a,function(a,b){w=a;r=b}))return a.na=p-1,C=ik,ia;m=g[w];n=l[r];v=f[p];f[m]=v;g[v]=m;f[p]=w;g[w]=p;v=j[p];j[n]=v;l[v]=n;j[p]=r;l[r]=p;var ab;a:{var fa=a,qa=w,Q=r,Qd=fa.h,Ng=
fa.Yd,Wa=fa.Xd,Jc=fa.Gc,Yb=fa.Fc,eg=fa.pd,ge=fa.Af,Xa=fa.Ec,Ha=fa.Dc,he=fa.Rc,xa=fa.vb,bb=fa.wb,Gb=fa.Hd,rb=fa.md,pc=fa.zf,Ac=fa.vf,qc=fa.dg,Bb=fa.wf,Ue=fa.Oe,fb=fa.Qe,Ba=fa.Pe,Pb=fa.$,Rd=fa.ze,Bc=fa.Lb,mb=fa.Ye,Kc=0,Hb=h,rc=h,la=h,Ee=h,Mc=h,gb=h,da=h,Nc=h,Fe=h,hb=h,cb=h,Ta=h,Ib=h,Ya=h,fc=h,gc=h,ud=h,Sd=h,hc=h,Td=h,Na=h;0==qc[qa]?Ac[Yb[qa]]=Bb[qa]:Bb[qc[qa]]=Bb[qa];0!=Bb[qa]&&(qc[Bb[qa]]=qc[qa]);0==fb[Q]?Ue[Ha[Q]]=Ba[Q]:Ba[fb[Q]]=Ba[Q];0!=Ba[Q]&&(fb[Ba[Q]]=fb[Q]);Ta=Jc[qa];Ib=Ta+Yb[qa]-1;for(Ya=Ta;xa[Ya]!=
Q;Ya++);Td=ge[qa]=bb[Ya];xa[Ya]=xa[Ib];bb[Ya]=bb[Ib];Yb[qa]--;Ib--;fc=Xa[Q];gc=fc+Ha[Q]-1;for(ud=fc;xa[ud]!=qa;ud++);xa[ud]=xa[gc];Ha[Q]--;gc--;for(Ya=Ta;Ya<=Ib;Ya++){da=xa[Ya];Pb[da]=1;Rd[da]=bb[Ya];0==fb[da]?Ue[Ha[da]]=Ba[da]:Ba[fb[da]]=Ba[da];0!=Ba[da]&&(fb[Ba[da]]=fb[da]);Nc=Xa[da];Fe=Nc+Ha[da]-1;for(hb=Nc;xa[hb]!=qa;hb++);xa[hb]=xa[Fe];Ha[da]--}for(;fc<=gc;){la=xa[fc];0==qc[la]?Ac[Yb[la]]=Bb[la]:Bb[qc[la]]=Bb[la];0!=Bb[la]&&(qc[Bb[la]]=qc[la]);Ee=Jc[la];Mc=Ee+Yb[la]-1;for(gb=Ee;xa[gb]!=Q;gb++);
Sd=bb[gb]/Td;xa[gb]=xa[Mc];bb[gb]=bb[Mc];Yb[la]--;Mc--;xa[fc]=xa[gc];Ha[Q]--;gc--;rc=Yb[qa];for(gb=Ee;gb<=Mc;gb++)if(da=xa[gb],Pb[da])if(Na=bb[gb]-=Sd*Rd[da],0>Na&&(Na=-Na),Pb[da]=0,rc--,0==Na||Na<Bc){xa[gb]=xa[Mc];bb[gb]=bb[Mc];Yb[la]--;gb--;Mc--;Nc=Xa[da];Fe=Nc+Ha[da]-1;for(hb=Nc;xa[hb]!=la;hb++);xa[hb]=xa[Fe];Ha[da]--}else fa.rd<Na&&(fa.rd=Na);if(Yb[la]+rc>eg[la]){if(Ik(fa,la,Yb[la]+rc)){ab=Kc=1;break a}Ta=Jc[qa];Ib=Ta+Yb[qa]-1;fc=Xa[Q];gc=fc+Ha[Q]-1}Hb=0;for(Ya=Ta;Ya<=Ib;Ya++)da=xa[Ya],Pb[da]?
(Na=hc=-Sd*Rd[da],0>Na&&(Na=-Na),0==Na||Na<Bc||(gb=Jc[la]+Yb[la],xa[gb]=da,bb[gb]=hc,Yb[la]++,mb[++Hb]=da,fa.rd<Na&&(fa.rd=Na))):Pb[da]=1;for(cb=1;cb<=Hb;cb++){da=mb[cb];if(Ha[da]+1>he[da]){if(Jk(fa,da,Ha[da]+10)){ab=Kc=1;break a}Ta=Jc[qa];Ib=Ta+Yb[qa]-1;fc=Xa[Q];gc=fc+Ha[Q]-1}hb=Xa[da]+Ha[da];xa[hb]=la;Ha[da]++}qc[la]=0;Bb[la]=Ac[Yb[la]];0!=Bb[la]&&(qc[Bb[la]]=la);Ac[Yb[la]]=la;pc[la]=-1;if(1>fa.La-fa.Ea){Kk(fa);if(1>fa.La-fa.Ea){ab=Kc=1;break a}Ta=Jc[qa];Ib=Ta+Yb[qa]-1;fc=Xa[Q];gc=fc+Ha[Q]-1}fa.La--;
xa[fa.La]=la;bb[fa.La]=Sd;Wa[qa]++}he[Q]=0;cb=Qd+Q;0==Gb[cb]?fa.ld=rb[cb]:rb[Gb[cb]]=rb[cb];0==rb[cb]?fa.Rb=Gb[cb]:Gb[rb[cb]]=Gb[cb];Ng[qa]=fa.La;for(Ya=Ta;Ya<=Ib;Ya++)da=xa[Ya],Pb[da]=0,Rd[da]=0,1!=Ha[da]&&fb[da]==da&&Ba[da]==da||(fb[da]=0,Ba[da]=Ue[Ha[da]],0!=Ba[da]&&(fb[Ba[da]]=da),Ue[Ha[da]]=da);ab=Kc}if(ab)return a.Va=a.Fa+a.Fa,aa;if(a.rd>k*a.Cg)return a.na=p-1,C=kk,ia}Kk(a);var Qb;var Za=a,Zb=Za.h,Cd=Za.Gc,sc=Za.Fc,Dd=Za.Ec,ie=Za.Dc,ic=Za.Rc,Cc=Za.vb,Ra=Za.wb,Ge=Za.Hd,je=Za.md,cd=0,ib,jb,Oc,
dd,xb,jc,kc,Ed;Ed=0;for(ib=1;ib<=Zb;ib++){jb=Cd[ib];Oc=jb+sc[ib]-1;for(dd=jb;dd<=Oc;dd++)ic[Cc[dd]]++;Ed+=sc[ib]}Za.Pb=Ed;if(Za.La-Za.Ea<Ed)cd=1;else{for(xb=1;xb<=Zb;xb++)Dd[xb]=Za.Ea,Za.Ea+=ic[xb];for(ib=1;ib<=Zb;ib++){jb=Cd[ib];Oc=jb+sc[ib]-1;for(dd=jb;dd<=Oc;dd++)xb=Cc[dd],jc=Dd[xb]+ie[xb],Cc[jc]=ib,Ra[jc]=Ra[dd],ie[xb]++}for(kc=Zb+1;kc<=Zb+Zb;kc++)Ge[kc]=kc-1,je[kc]=kc+1;Ge[Zb+1]=Za.Rb;je[Za.Rb]=Zb+1;je[Zb+Zb]=0;Za.Rb=Zb+Zb}Qb=cd;if(Qb)return a.Va=a.Fa+a.Fa,aa;var Pc;var Lb=a,Ve=Lb.h,Dc=Lb.Rf,
Fd=Lb.Ye,nb=Lb.Yd,Ka=Lb.Xd,yb=Lb.vb,ea=Lb.wb,kb=0,ob,sb,Ua,Sa,U,Jb,ed;for(ob=1;ob<=Ve;ob++)Fd[ob]=0;ed=0;for(sb=1;sb<=Ve;sb++){Ua=nb[sb];Sa=Ua+Ka[sb]-1;for(U=Ua;U<=Sa;U++)Fd[yb[U]]++;ed+=Ka[sb]}Lb.$f=ed;if(Lb.La-Lb.Ea<ed)kb=1;else{for(ob=1;ob<=Ve;ob++)Dc[ob]=Lb.La,Lb.La-=Fd[ob];for(sb=1;sb<=Ve;sb++){Ua=nb[sb];Sa=Ua+Ka[sb]-1;for(U=Ua;U<=Sa;U++)ob=yb[U],Jb=--Dc[ob],yb[Jb]=sb,ea[Jb]=ea[U]}}Pc=kb;return Pc?(a.Va=a.Fa+a.Fa,aa):ia}var f,g,l,j,k=a.tc,m,n,p,w,r,v,C=s;1>b&&y("luf_factorize: n = "+b+"; invalid parameter");
1E8<b&&y("luf_factorize: n = "+b+"; matrix too big");a.valid=0;var q=a,z=b,D=q.I;q.h=z;z<=D||(q.I=D=z+100,q.Rf=new Int32Array(1+D),q.Ye=new Int32Array(1+D),q.Yd=new Int32Array(1+D),q.Xd=new Int32Array(1+D),q.Gc=new Int32Array(1+D),q.Fc=new Int32Array(1+D),q.pd=new Int32Array(1+D),q.Af=new Float64Array(1+D),q.Ec=new Int32Array(1+D),q.Dc=new Int32Array(1+D),q.Rc=new Int32Array(1+D),q.kb=new Int32Array(1+D),q.ub=new Int32Array(1+D),q.sf=new Int32Array(1+D),q.me=new Int32Array(1+D),q.Hd=new Int32Array(1+
D+D),q.md=new Int32Array(1+D+D),q.zf=new Float64Array(1+D),q.vf=new Int32Array(1+D),q.dg=new Int32Array(1+D),q.wf=new Int32Array(1+D),q.Oe=new Int32Array(1+D),q.Qe=new Int32Array(1+D),q.Pe=new Int32Array(1+D),q.$=new Int32Array(1+D),q.ze=new Float64Array(1+D));f=a.kb;g=a.ub;l=a.sf;j=a.me;0==a.Fa&&0==a.Va&&(a.Va=5*(b+10));for(;e(););if(C!=s)return C;a.valid=1;a.na=b;C=0;v=3*(b+a.Pb)+2*a.$f;if(a.Fa<v)for(a.Va=a.Fa;a.Va<v;)p=a.Va,a.Va=p+p;return C}
function qk(a,b,c){var d=a.h,e=a.Rf,f=a.Ye,g=a.Yd,l=a.Xd,j=a.kb,k=a.vb,m=a.wb,n;a.valid||y("luf_f_solve: LU-factorization is not valid");if(b)for(;1<=d;d--){if(n=j[d],a=c[n],0!=a){b=e[n];for(n=b+f[n]-1;b<=n;b++)c[k[b]]-=m[b]*a}}else for(e=1;e<=d;e++)if(n=j[e],a=c[n],0!=a){b=g[n];for(n=b+l[n]-1;b<=n;b++)c[k[b]]-=m[b]*a}}
function sk(a,b,c){var d=a.h,e=a.Gc,f=a.Fc,g=a.Af,l=a.Ec,j=a.Dc,k=a.kb,m=a.me,n=a.vb,p=a.wb,w=a.ze,r,v,C;a.valid||y("luf_v_solve: LU-factorization is not valid");for(a=1;a<=d;a++)w[a]=c[a],c[a]=0;if(b)for(a=1;a<=d;a++){if(r=k[a],v=m[a],b=w[v],0!=b){c[r]=b/=g[r];C=e[r];for(r=C+f[r]-1;C<=r;C++)w[n[C]]-=p[C]*b}}else for(a=d;1<=a;a--)if(r=k[a],v=m[a],b=w[r],0!=b){c[v]=b/=g[r];C=l[v];for(r=C+j[v]-1;C<=r;C++)w[n[C]]-=p[C]*b}}
var Dl=-1,El=101,Fl=102,Gl=103,Hl=104,Il=105,Jl=106,Kl=107,Ll=108,Nl=109,Ol=110,Pl=111,Ql=112,Rl=113,Sl=114,Tl=115,Ul=116,Vl=117,S=118,Wl=119,Xl=120,Yl=121,Zl=122,$l=123,W=124,am=125,bm=126,cm=127,dm=60,em=201,fm=202,gm=203,hm=204,im=205,jm=206,km=207,lm=208,mm=209,nm=210,om=211,pm=212,qm=213,rm=214,sm=215,tm=216,um=217,vm=218,wm=219,xm=220,ym=221,zm=222,Am=223,Bm=224,Cm=225,Dm=226,Em=227,Fm=228,Gm=229,Hm=230,Im=231,Jm=232,Km=233,Lm=234,Mm=235,Nm=236,Om=237,Pm=238,Qm=239,Rm=240,Sm=241,Tm=242,Um=243,
Vm=244,Wm=245,Xm=246,Ym=247,Zm=248,$m=249,an=250,bn=251,cn=252,dn=0,en=1,fn=2,gn=3,hn=4,jn=5,kn=301,ln=302,mn=303,nn=304,on=305,pn=306,qn=307,rn=308,sn=309,tn=310,un=311,vn=312,wn=313,xn=314,yn=315,zn=316,An=317,Bn=318,Cn=319,Dn=320,En=321,Fn=322,Gn=323,Hn=324,In=325,Jn=326,Kn=327,Ln=328,Mn=329,Nn=330,On=331,Pn=332,Qn=333,Rn=334,Sn=335,Tn=336,Un=337,Vn=338,Wn=339,Xn=340,Yn=341,Zn=342,$n=343,ao=344,bo=345,co=346,eo=347,fo=348,go=349,ho=350,io=351,jo=352,ko=353,lo=354,mo=355,no=356,oo=357,po=358,ro=
359,so=360,to=361,uo=362,vo=363,wo=364,xo=365,yo=366,zo=367,Ao=368,Bo=369,Co=370,Do=371,Eo=372,Fo=373,Go=374,Ho=375,Io=376,Jo=377,Ko=378,Lo=379,Mo=380,No=381,Oo=382,Po=383,Qo=384,Bj=401,Cj=402,Dj=403,Ej=404,Fj=405,Pj=412,Qj=413,Kj=422,Lj=423;function Ro(){return{index:{},Q:{},set:{},s:{},F:{},a:{},loop:{}}}function So(a){var b;b=a.b==em?"_|_":a.b==im?"'...'":a.g;a.Yb[a.lc++]=" ";a.lc==dm&&(a.lc=0);for(var c=0;c<b.length;c++)a.Yb[a.lc++]=b[c],a.lc==dm&&(a.lc=0)}
function To(a){var b;a.k!=Dl&&("\n"==a.k&&(a.bb++,a.Vc=0),b=a.cf(),0>b&&(b=Dl),a.Vc++,b==Dl?"\n"==a.k?a.bb--:Uo(a,"final NL missing before end of file"):"\n"!=b&&(0<=" \t\n\v\f\r".indexOf(b)?b=" ":Ea(b)&&(So(a),X(a,"control character "+b+" not allowed"))),a.k=b)}function Vo(a){a.g+=a.k;a.Ab++;To(a)}
function Y(a){function b(){So(a);X(a,"keyword s.t. incomplete")}function c(){So(a);X(a,"cannot convert numeric literal "+a.g+" to floating-point number")}function d(){if("e"==a.k||"E"==a.k){Vo(a);("+"==a.k||"-"==a.k)&&Vo(a);Ma(a.k)||(So(a),X(a,"numeric literal "+a.g+" incomplete"));for(;Ma(a.k);)Vo(a)}if(Ga(a.k)||"_"==a.k)So(a),X(a,"symbol "+a.g+a.k+"... should be enclosed in quotes")}a.Hf=a.b;a.Gf=a.Ab;a.Ff=a.g;a.If=a.value;if(a.Ue)a.Ue=0,a.b=a.Mf,a.Ab=a.Lf,a.g=a.Kf,a.value=a.Nf;else{for(;;){a.b=
0;a.Ab=0;a.g="";for(a.value=0;" "==a.k||"\n"==a.k;)To(a);if(a.k==Dl)a.b=em;else if("#"==a.k){for(;"\n"!=a.k&&a.k!=Dl;)To(a);continue}else if(!a.nc&&(Ga(a.k)||"_"==a.k)){for(a.b=fm;La(a.k)||"_"==a.k;)Vo(a);"and"==a.g?a.b=jm:"by"==a.g?a.b=km:"cross"==a.g?a.b=lm:"diff"==a.g?a.b=mm:"div"==a.g?a.b=nm:"else"==a.g?a.b=om:"if"==a.g?a.b=pm:"in"==a.g?a.b=qm:"Infinity"==a.g?a.b=rm:"inter"==a.g?a.b=sm:"less"==a.g?a.b=tm:"mod"==a.g?a.b=um:"not"==a.g?a.b=vm:"or"==a.g?a.b=wm:"s"==a.g&&"."==a.k?(a.b=xm,Vo(a),"t"!=
a.k&&b(),Vo(a),"."!=a.k&&b(),Vo(a)):"symdiff"==a.g?a.b=ym:"then"==a.g?a.b=zm:"union"==a.g?a.b=Am:"within"==a.g&&(a.b=Bm)}else if(!a.nc&&Ma(a.k)){for(a.b=hm;Ma(a.k);)Vo(a);var e=ia;if("."==a.k)if(Vo(a),"."==a.k)a.Ab--,a.g=a.g.substr(0,a.g.length-1),a.Te=1,e=aa;else for(;Ma(a.k);)Vo(a);e||d();yl(a.g,function(b){a.value=b})&&c()}else if("'"==a.k||'"'==a.k){var f=a.k,g=ia;a.b=im;To(a);e=function(){for(;;){if("\n"==a.k&&!g||a.k==Dl)So(a),X(a,"unexpected end of line; string literal incomplete");if(a.k==
f)if(To(a),a.k==f){if(g)if(To(a),a.k==f){To(a);break}else a.g+='""',a.Ab+=2}else if(g)a.g+='"',a.Ab++;else break;Vo(a)}};a.k==f?(To(a),a.k==f&&(g=aa,To(a),e())):e()}else if(!a.nc&&"+"==a.k)a.b=Cm,Vo(a);else if(!a.nc&&"-"==a.k)a.b=Dm,Vo(a);else if("*"==a.k)a.b=Em,Vo(a),"*"==a.k&&(a.b=Gm,Vo(a));else if("/"==a.k){if(a.b=Fm,Vo(a),"*"==a.k){for(To(a);;)if(a.k==Dl)X(a,"unexpected end of file; comment sequence incomplete");else if("*"==a.k){if(To(a),"/"==a.k)break}else To(a);To(a);continue}}else if("^"==
a.k)a.b=Gm,Vo(a);else if("<"==a.k)a.b=Hm,Vo(a),"="==a.k?(a.b=Im,Vo(a)):">"==a.k?(a.b=Mm,Vo(a)):"-"==a.k&&(a.b=cn,Vo(a));else if("="==a.k)a.b=Jm,Vo(a),"="==a.k&&Vo(a);else if(">"==a.k)a.b=Lm,Vo(a),"="==a.k?(a.b=Km,Vo(a)):">"==a.k&&(a.b=an,Vo(a));else if("!"==a.k)a.b=vm,Vo(a),"="==a.k&&(a.b=Mm,Vo(a));else if("&"==a.k)a.b=Nm,Vo(a),"&"==a.k&&(a.b=jm,Vo(a));else if("|"==a.k)a.b=Om,Vo(a),"|"==a.k&&(a.b=wm,Vo(a));else if(!a.nc&&"."==a.k)if(a.b=Pm,Vo(a),a.Te)a.b=Um,a.Ab=2,a.g="..",a.Te=0;else if("."==a.k)a.b=
Um,Vo(a);else{if(Ma(a.k)){a.b=hm;for(Vo(a);Ma(a.k);)Vo(a);d();yl(a.g,function(b){a.value=b})&&c()}}else if(","==a.k)a.b=Qm,Vo(a);else if(":"==a.k)a.b=Rm,Vo(a),"="==a.k&&(a.b=Tm,Vo(a));else if(";"==a.k)a.b=Sm,Vo(a);else if("("==a.k)a.b=Vm,Vo(a);else if(")"==a.k)a.b=Wm,Vo(a);else if("["==a.k)a.b=Xm,Vo(a);else if("]"==a.k)a.b=Ym,Vo(a);else if("{"==a.k)a.b=Zm,Vo(a);else if("}"==a.k)a.b=$m,Vo(a);else if("~"==a.k)a.b=bn,Vo(a);else if(La(a.k)||0<="+-._".indexOf(a.k)){for(a.b=gm;La(a.k)||0<="+-._".indexOf(a.k);)Vo(a);
switch(yl(a.g,function(b){a.value=b})){case 0:a.b=hm;break;case 1:c()}}else So(a),X(a,"character "+a.k+" not allowed");break}So(a);a.Pf=0}}function Wo(a){a.Ue=1;a.Mf=a.b;a.Lf=a.Ab;a.Kf=a.g;a.Nf=a.value;a.b=a.Hf;a.Ab=a.Gf;a.g=a.Ff;a.value=a.If}function Xo(a,b){return a.b==fm&&a.g==b}function Yo(a){return a.b==jm&&"a"==a.g[0]||a.b==km||a.b==lm||a.b==mm||a.b==nm||a.b==om||a.b==pm||a.b==qm||a.b==sm||a.b==tm||a.b==um||a.b==vm&&"n"==a.g[0]||a.b==wm&&"o"==a.g[0]||a.b==ym||a.b==zm||a.b==Am||a.b==Bm}
function Zo(a,b,c,d){var e={};e.Ta=a;e.R=0;e.a=Ro();e.value={};switch(a){case kn:e.a.O=b.O;break;case ln:e.a.J=b.J;break;case mn:e.a.index.wa=b.index.wa;e.a.index.next=b.index.next;break;case nn:case on:for(a=b.Q.list;a!=s;a=a.next)a.x.P=e,e.R|=a.x.R;e.a.Q.Q=b.Q.Q;e.a.Q.list=b.Q.list;break;case pn:for(a=b.set.list;a!=s;a=a.next)a.x.P=e,e.R|=a.x.R;e.a.set.set=b.set.set;e.a.set.list=b.set.list;break;case qn:for(a=b.s.list;a!=s;a=a.next)a.x.P=e,e.R|=a.x.R;e.a.s.s=b.s.s;e.a.s.list=b.s.list;e.a.s.Bc=b.s.Bc;
break;case rn:for(a=b.F.list;a!=s;a=a.next)a.x.P=e,e.R|=a.x.R;e.a.F.F=b.F.F;e.a.F.list=b.F.list;e.a.F.Bc=b.F.Bc;break;case sn:case tn:for(a=b.list;a!=s;a=a.next)a.x.P=e,e.R|=a.x.R;e.a.list=b.list;break;case un:e.a.slice=b.slice;break;case vn:case wn:case xn:case yn:e.R=1;break;case zn:case An:case Bn:case Cn:case Dn:case En:case Fn:case Gn:case Hn:case In:case Jn:case Kn:case Ln:case Mn:case Nn:case On:case Pn:case Qn:case Rn:case Sn:case Tn:case Un:b.a.x.P=e;e.R|=b.a.x.R;e.a.a.x=b.a.x;break;case Vn:case Wn:case Xn:case Yn:case Zn:case $n:case ao:case bo:case co:case eo:case fo:case go:a==
go&&(e.R=1);case ho:a==ho&&(e.R=1);case io:case jo:case ko:case lo:case mo:case no:case oo:case po:case ro:case so:case to:case uo:case vo:case wo:case xo:case yo:case zo:case Ao:case Bo:case Co:case Do:b.a.x.P=e;e.R|=b.a.x.R;b.a.y.P=e;e.R|=b.a.y.R;e.a.a.x=b.a.x;e.a.a.y=b.a.y;break;case Eo:case Fo:case Go:b.a.x.P=e;e.R|=b.a.x.R;b.a.y.P=e;e.R|=b.a.y.R;b.a.Oa!=s&&(b.a.Oa.P=e,e.R|=b.a.Oa.R);e.a.a.x=b.a.x;e.a.a.y=b.a.y;e.a.a.Oa=b.a.Oa;break;case Ho:case Io:for(a=b.list;a!=s;a=a.next)a.x.P=e,e.R|=a.x.R;
e.a.list=b.list;break;case Jo:case Ko:case Lo:case Mo:case No:case Oo:case Po:case Qo:a=b.loop.domain;a.code!=s&&(a.code.P=e,e.R|=a.code.R);for(a=a.list;a!=s;a=a.next)a.code.P=e,e.R|=a.code.R;b.loop.x!=s&&(b.loop.x.P=e,e.R|=b.loop.x.R);e.a.loop.domain=b.loop.domain;e.a.loop.x=b.loop.x}e.type=c;e.p=d;e.P=s;e.valid=0;e.value={};return e}function Z(a,b,c,d){var e=Ro();e.a.x=b;return Zo(a,e,c,d)}function $o(a,b,c,d,e){var f=Ro();f.a.x=b;f.a.y=c;return Zo(a,f,d,e)}
function ap(a,b,c,d,e,f){var g=Ro();g.a.x=b;g.a.y=c;g.a.Oa=d;return Zo(a,g,e,f)}function bp(a,b){var c={},d;c.x=b;c.next=s;if(a==s)a=c;else{for(d=a;d.next!=s;d=d.next);d.next=c}return a}function cp(a){var b;for(b=0;a!=s;a=a.next)b++;return b}
function dp(a){var b,c,d,e,f,g,l,j,k,m=Ro(),n=a.T[a.g];n==s&&X(a,a.g+" not defined");switch(n.type){case Pl:b=n.link;j=b.name;k=0;break;case Zl:c=n.link;j=c.name;k=c.p;0==c.V&&(c.V=1);break;case Xl:d=n.link;j=d.name;k=d.p;break;case cm:e=n.link;j=e.name;k=e.p;break;case Gl:f=n.link,j=f.name,k=f.p}Y(a);if(a.b==Xm){0==k&&X(a,j+" cannot be subscripted");Y(a);for(var p=s;;)if(g=ep(a),g.type==S&&(g=Z(An,g,W,0)),g.type!=W&&X(a,"subscript expression has invalid type"),p=bp(p,g),a.b==Qm)Y(a);else if(a.b==
Ym)break;else X(a,"syntax error in subscript list");g=p;k!=cp(g)&&X(a,j+" must have "+k+" subscript"+(1==k?"":"s")+" rather than "+cp(g));Y(a)}else 0!=k&&X(a,j+" must be subscripted"),g=s;k=!a.Nb&&n.type==cm?dn:hn;a.b==Pm&&(Y(a),a.b!=fm&&X(a,"invalid use of period"),n.type==cm||n.type==Gl||X(a,j+" cannot have a suffix"),"lb"==a.g?k=en:"ub"==a.g?k=fn:"status"==a.g?k=gn:"val"==a.g?k=hn:"dual"==a.g?k=jn:X(a,"suffix ."+a.g+" invalid"),Y(a));switch(n.type){case Pl:m.index.wa=b;m.index.next=b.list;l=Zo(mn,
m,W,0);b.list=l;break;case Zl:m.set.set=c;m.set.list=g;l=Zo(pn,m,Jl,c.V);break;case Xl:m.Q.Q=d;m.Q.list=g;l=d.type==W?Zo(on,m,W,0):Zo(nn,m,S,0);break;case cm:!a.Nb&&(k==gn||k==hn||k==jn)&&X(a,"invalid reference to status, primal value, or dual value of variable "+e.name+" above solve statement");m.s.s=e;m.s.list=g;m.s.Bc=k;l=Zo(qn,m,k==dn?Ol:S,0);break;case Gl:if(!a.Nb&&(k==gn||k==hn||k==jn))X(a,"invalid reference to status, primal value, or dual value of "+(f.type==Gl?"constraint":"objective")+" "+
f.name+" above solve statement");m.F.F=f;m.F.list=g;m.F.Bc=k;l=Zo(rn,m,S,0)}return l}function fp(a,b){var c=ep(a);c.type==W&&(c=Z(zn,c,S,0));c.type!=S&&X(a,"argument for "+b+" has invalid type");return c}function gp(a,b){var c=ep(a);c.type==S&&(c=Z(An,c,W,0));c.type!=W&&X(a,"argument for "+b+" has invalid type");return c}function hp(a,b,c){var d={};d.name=b;d.code=c;d.value=s;d.list=s;d.next=s;if(a.list==s)a.list=d;else{for(a=a.list;a.next!=s;a=a.next);a.next=d}}
function ip(a){var b,c,d,e;Y(a);a.b==$m&&X(a,"empty indexing expression not allowed");for(b={};;){e=c=s;a.b==fm?(Y(a),d=a.b,Wo(a),d==qm&&a.T[a.g]==s&&(c={},d=a.g,hp(c,d,s),Y(a),Y(a))):a.b==Vm&&(a.Pf=1,e=jp(a),e.Ta==un&&(c=e.a.slice,e=s,Y(a)));e==s&&(e=jp(a));if(e.type!=Jl){c!=s&&X(a,"domain expression has invalid type");d=a;var f=Ro(),g=h;f.list=s;for(g=1;;g++){e.type==S&&(e=Z(An,e,W,0));e.type==W&&(e=Z(Cn,e,bm,1));e.type!=bm&&X(d,"member expression has invalid type");f.list!=s&&f.list.x.p!=e.p&&
X(d,"member "+(g-1)+" has "+f.list.x.p+" component"+(1==f.list.x.p?"":"s")+" while member "+g+" has "+e.p+" component"+(1==e.p?"":"s"));f.list=bp(f.list,e);if(d.b==Qm)Y(d);else if(d.b==$m)break;else X(d,"syntax error in literal set");e=ep(d)}e=Zo(tn,f,Jl,f.list.x.p)}if(c==s){c={};for(d=1;d<=e.p;d++)hp(c,s,s)}f=0;for(d=c.list;d!=s;d=d.next)f++;f!=e.p&&X(a,f+" "+(1==f?"index":"indices")+" specified for set of dimension "+e.p);c.code=e;e=b;d=c;f=h;if(e.list==s)e.list=d;else{for(f=e.list;f.next!=s;f=
f.next);f.next=d}for(d=c.list;d!=s;d=d.next)d.name!=s&&(a.T[d.name]={type:Pl,link:d});if(a.b==Qm)Y(a);else if(a.b==Rm||a.b==$m)break;else X(a,"syntax error in indexing expression")}a.b==Rm&&(Y(a),e=kp(a),e.type==W&&(e=Z(zn,e,S,0)),e.type==S&&(e=Z(Bn,e,Sl,0)),e.type!=Sl&&X(a,"expression following colon has invalid type"),b.code=e,a.b!=$m&&X(a,"syntax error in indexing expression"));Y(a);return b}
function lp(a,b){var c,d;for(c=b.list;c!=s;c=c.next)for(d=c.list;d!=s;d=d.next)d.name!=s&&delete a.T[d.name]}function mp(a){var b,c;for(b=a.a.loop.domain.list;b!=s;b=b.next)for(c=b.list;c!=s;c=c.next)c.code!=s&&(c.code.P=a)}function np(a){var b=0;for(a=a.list;a!=s;a=a.next)for(var c=a.list;c!=s;c=c.next)c.code==s&&b++;return b}function op(a,b){X(a,"operand preceding "+b+" has invalid type")}function pp(a,b){X(a,"operand following "+b+" has invalid type")}
function qp(a,b,c,d){X(a,"operands preceding and following "+b+" have different dimensions "+c+" and "+d+", respectively")}
function rp(a){var b,c,d;if(a.b==hm)b=Ro(),b.O=a.value,b=Zo(kn,b,S,0),Y(a),d=b;else if(a.b==rm)b=Ro(),b.O=u,d=Zo(kn,b,S,0),Y(a);else if(a.b==im)b=Ro(),b.J=a.g,b=Zo(ln,b,W,0),Y(a),d=b;else if(a.b==fm)switch(Y(a),d=a.b,Wo(a),d){case Xm:d=dp(a);break;case Vm:c=Ro();var e;"abs"==a.g?b=Hn:"ceil"==a.g?b=In:"floor"==a.g?b=Jn:"exp"==a.g?b=Kn:"log"==a.g?b=Ln:"log10"==a.g?b=Mn:"sqrt"==a.g?b=Nn:"sin"==a.g?b=On:"cos"==a.g?b=Pn:"atan"==a.g?b=Qn:"min"==a.g?b=Ho:"max"==a.g?b=Io:"round"==a.g?b=Rn:"trunc"==a.g?b=
Sn:"Irand224"==a.g?b=vn:"Uniform01"==a.g?b=wn:"Uniform"==a.g?b=go:"Normal01"==a.g?b=xn:"Normal"==a.g?b=ho:"card"==a.g?b=Tn:"length"==a.g?b=Un:"substr"==a.g?b=Bo:"str2time"==a.g?b=Co:"time2str"==a.g?b=Do:"gmtime"==a.g?b=yn:X(a,"function "+a.g+" unknown");e=a.g;Y(a);Y(a);if(b==Ho||b==Io)for(c.list=s;;)if(c.list=bp(c.list,fp(a,e)),a.b==Qm)Y(a);else if(a.b==Wm)break;else X(a,"syntax error in argument list for "+e);else if(b==vn||b==wn||b==xn||b==yn)a.b!=Wm&&X(a,e+" needs no arguments");else if(b==go||
b==ho)c.a.x=fp(a,e),a.b!=Qm&&(a.b==Wm?X(a,e+" needs two arguments"):X(a,"syntax error in argument for "+e)),Y(a),c.a.y=fp(a,e),a.b==Qm?X(a,e+" needs two argument"):a.b!=Wm&&X(a,"syntax error in argument for "+e);else if(b==Qn||b==Rn||b==Sn){c.a.x=fp(a,e);if(a.b==Qm){switch(b){case Qn:b=co;break;case Rn:b=eo;break;case Sn:b=fo}Y(a);c.a.y=fp(a,e)}a.b==Qm?X(a,e+" needs one or two arguments"):a.b!=Wm&&X(a,"syntax error in argument for "+e)}else if(b==Bo)c.a.x=gp(a,e),a.b!=Qm&&(a.b==Wm?X(a,e+" needs two or three arguments"):
X(a,"syntax error in argument for "+e)),Y(a),c.a.y=fp(a,e),a.b==Qm&&(b=Go,Y(a),c.a.Oa=fp(a,e)),a.b==Qm?X(a,e+" needs two or three arguments"):a.b!=Wm&&X(a,"syntax error in argument for "+e);else if(b==Co)c.a.x=gp(a,e),a.b!=Qm&&(a.b==Wm?X(a,e+" needs two arguments"):X(a,"syntax error in argument for "+e)),Y(a),c.a.y=gp(a,e),a.b==Qm?X(a,e+" needs two argument"):a.b!=Wm&&X(a,"syntax error in argument for "+e);else if(b==Do)c.a.x=fp(a,e),a.b!=Qm&&(a.b==Wm?X(a,e+" needs two arguments"):X(a,"syntax error in argument for "+
e)),Y(a),c.a.y=gp(a,e),a.b==Qm?X(a,e+" needs two argument"):a.b!=Wm&&X(a,"syntax error in argument for "+e);else{d=c.a;var f;b==Tn?(f=jp(a),f.type!=Jl&&X(a,"argument for "+e+" has invalid type")):f=b==Un?gp(a,e):fp(a,e);d.x=f;a.b==Qm?X(a,e+" needs one argument"):a.b!=Wm&&X(a,"syntax error in argument for "+e)}b=b==Bo||b==Go||b==Do?Zo(b,c,W,0):Zo(b,c,S,0);Y(a);d=b;break;case Zm:b=function(){X(a,"integrand following "+g+"{...} has invalid type")};d=Ro();var g;"sum"==a.g?e=Jo:"prod"==a.g?e=Ko:"min"==
a.g?e=Lo:"max"==a.g?e=Mo:"forall"==a.g?e=No:"exists"==a.g?e=Oo:"setof"==a.g?e=Po:X(a,"operator "+a.g+" unknown");g=a.g;Y(a);d.loop.domain=ip(a);switch(e){case Jo:case Ko:case Lo:case Mo:d.loop.x=sp(a);d.loop.x.type==W&&(d.loop.x=Z(zn,d.loop.x,S,0));d.loop.x.type==S||e==Jo&&d.loop.x.type==Ol||b();c=Zo(e,d,d.loop.x.type,0);break;case No:case Oo:d.loop.x=tp(a);d.loop.x.type==W&&(d.loop.x=Z(zn,d.loop.x,S,0));d.loop.x.type==S&&(d.loop.x=Z(Bn,d.loop.x,Sl,0));d.loop.x.type!=Sl&&b();c=Zo(e,d,Sl,0);break;
case Po:d.loop.x=ep(a),d.loop.x.type==S&&(d.loop.x=Z(An,d.loop.x,W,0)),d.loop.x.type==W&&(d.loop.x=Z(Cn,d.loop.x,bm,1)),d.loop.x.type!=bm&&b(),c=Zo(e,d,Jl,d.loop.x.p)}lp(a,d.loop.domain);mp(c);d=c;break;default:d=dp(a)}else if(a.b==Vm){var l;b=Ro();var j=Array(21);pa(j,0,21);var k;e=0;c=a.Pf;Y(a);for(k=1;;k++){20<k&&X(a,"too many components within parentheses");f=function(){l=kp(a);if(a.b==Qm||1<k)l.type==S&&(l=Z(An,l,W,0)),l.type!=W&&X(a,"component expression has invalid type");j[k].name=s;j[k].code=
l};if(a.b==fm)if(Y(a),d=a.b,Wo(a),!c||!((d==Qm||d==Wm)&&a.T[a.g]==s))f();else{for(d=1;d<k;d++)j[d].name!=s&&j[d].name==a.g&&X(a,"duplicate dummy index "+a.g+" not allowed");j[k].name=a.g;j[k].code=s;Y(a);e=1;1==k&&a.b==Wm&&X(a,j[k].name+" not defined")}else f();if(a.b==Qm)Y(a);else if(a.b==Wm)break;else X(a,"right parenthesis missing where expected")}if(1==k&&!e)l=j[1].code;else if(e){b.slice={};for(d=1;d<=k;d++)hp(b.slice,j[d].name,j[d].code);l=Zo(un,b,bm,k)}else{b.list=s;for(d=1;d<=k;d++)b.list=
bp(b.list,j[d].code);l=Zo(sn,b,bm,k)}Y(a);e&&a.b!=qm&&X(a,"keyword in missing where expected");c&&(a.b==qm&&!e)&&(1==k?X(a,"syntax error in indexing expression"):X(a,"0-ary slice not allowed"));d=l}else if(a.b==Zm)b=Ro(),Y(a),a.b==$m?(b.list=s,b=Zo(tn,b,Jl,1),Y(a)):(Wo(a),b.loop.domain=ip(a),b.loop.x=s,lp(a,b.loop.domain),b=Zo(Qo,b,Jl,np(b.loop.domain)),mp(b)),d=b;else if(a.b==pm){Y(a);b=kp(a);b.type==W&&(b=Z(zn,b,S,0));b.type==S&&(b=Z(Bn,b,Sl,0));b.type!=Sl&&X(a,"expression following if has invalid type");
a.b!=zm&&X(a,"keyword then missing where expected");Y(a);c=jp(a);c.type==S||(c.type==W||c.type==Jl||c.type==Ol)||X(a,"expression following then has invalid type");if(a.b!=om)c.type==Jl&&X(a,"keyword else missing where expected"),e=s;else{Y(a);e=jp(a);e.type==S||(e.type==W||e.type==Jl||e.type==Ol)||X(a,"expression following else has invalid type");if(c.type==Ol||e.type==Ol)c.type==W&&(c=Z(zn,c,S,0)),c.type==S&&(c=Z(Dn,c,Ol,0)),e.type==W&&(e=Z(zn,e,S,0)),e.type==S&&(e=Z(Dn,e,Ol,0));if(c.type==W||e.type==
W)c.type==S&&(c=Z(An,c,W,0)),e.type==S&&(e=Z(An,e,W,0));c.type!=e.type&&X(a,"expressions following then and else have incompatible types");c.p!=e.p&&X(a,"expressions following then and else have different dimensions "+c.p+" and "+e.p+", respectively")}d=ap(Fo,b,c,e,c.type,c.p)}else Yo(a)?X(a,"invalid use of reserved keyword "+a.g):X(a,"syntax error in expression");c=d;a.b==Gm&&(e=a.g,c.type==W&&(c=Z(zn,c,S,0)),c.type!=S&&op(a,e),Y(a),b=a.b==Cm||a.b==Dm?up(a):rp(a),b.type==W&&(b=Z(zn,b,S,0)),b.type!=
S&&pp(a,e),c=$o(bo,c,b,S,0));return c}function up(a){var b;a.b==Cm?(Y(a),b=rp(a),b.type==W&&(b=Z(zn,b,S,0)),b.type==S||b.type==Ol||pp(a,"+"),b=Z(En,b,b.type,0)):a.b==Dm?(Y(a),b=rp(a),b.type==W&&(b=Z(zn,b,S,0)),b.type==S||b.type==Ol||pp(a,"-"),b=Z(Fn,b,b.type,0)):b=rp(a);return b}
function sp(a){for(var b,c=up(a);;)if(a.b==Em)c.type==W&&(c=Z(zn,c,S,0)),c.type==S||c.type==Ol||op(a,"*"),Y(a),b=up(a),b.type==W&&(b=Z(zn,b,S,0)),b.type==S||b.type==Ol||pp(a,"*"),c.type==Ol&&b.type==Ol&&X(a,"multiplication of linear forms not allowed"),c=c.type==S&&b.type==S?$o(Yn,c,b,S,0):$o(Yn,c,b,Ol,0);else if(a.b==Fm)c.type==W&&(c=Z(zn,c,S,0)),c.type==S||c.type==Ol||op(a,"/"),Y(a),b=up(a),b.type==W&&(b=Z(zn,b,S,0)),b.type!=S&&pp(a,"/"),c=c.type==S?$o(Zn,c,b,S,0):$o(Zn,c,b,Ol,0);else if(a.b==nm)c.type==
W&&(c=Z(zn,c,S,0)),c.type!=S&&op(a,"div"),Y(a),b=up(a),b.type==W&&(b=Z(zn,b,S,0)),b.type!=S&&pp(a,"div"),c=$o($n,c,b,S,0);else if(a.b==um)c.type==W&&(c=Z(zn,c,S,0)),c.type!=S&&op(a,"mod"),Y(a),b=up(a),b.type==W&&(b=Z(zn,b,S,0)),b.type!=S&&pp(a,"mod"),c=$o(ao,c,b,S,0);else break;return c}
function vp(a){for(var b,c=sp(a);;)if(a.b==Cm)c.type==W&&(c=Z(zn,c,S,0)),c.type==S||c.type==Ol||op(a,"+"),Y(a),b=sp(a),b.type==W&&(b=Z(zn,b,S,0)),b.type==S||b.type==Ol||pp(a,"+"),c.type==S&&b.type==Ol&&(c=Z(Dn,c,Ol,0)),c.type==Ol&&b.type==S&&(b=Z(Dn,b,Ol,0)),c=$o(Vn,c,b,c.type,0);else if(a.b==Dm)c.type==W&&(c=Z(zn,c,S,0)),c.type==S||c.type==Ol||op(a,"-"),Y(a),b=sp(a),b.type==W&&(b=Z(zn,b,S,0)),b.type==S||b.type==Ol||pp(a,"-"),c.type==S&&b.type==Ol&&(c=Z(Dn,c,Ol,0)),c.type==Ol&&b.type==S&&(b=Z(Dn,
b,Ol,0)),c=$o(Wn,c,b,c.type,0);else if(a.b==tm)c.type==W&&(c=Z(zn,c,S,0)),c.type!=S&&op(a,"less"),Y(a),b=sp(a),b.type==W&&(b=Z(zn,b,S,0)),b.type!=S&&pp(a,"less"),c=$o(Xn,c,b,S,0);else break;return c}function ep(a){for(var b,c=vp(a);;)if(a.b==Nm)c.type==S&&(c=Z(An,c,W,0)),c.type!=W&&op(a,"&"),Y(a),b=vp(a),b.type==S&&(b=Z(An,b,W,0)),b.type!=W&&pp(a,"&"),c=$o(io,c,b,W,0);else break;return c}
function wp(a){var b,c,d=ep(a);a.b==Um&&(d.type==W&&(d=Z(zn,d,S,0)),d.type!=S&&op(a,".."),Y(a),b=ep(a),b.type==W&&(b=Z(zn,b,S,0)),b.type!=S&&pp(a,".."),a.b==km?(Y(a),c=ep(a),c.type==W&&(c=Z(zn,c,S,0)),c.type!=S&&pp(a,"by")):c=s,d=ap(Eo,d,b,c,Jl,1));return d}function xp(a){for(var b,c=wp(a);;)if(a.b==lm)c.type!=Jl&&op(a,"cross"),Y(a),b=wp(a),b.type!=Jl&&pp(a,"cross"),c=$o(wo,c,b,Jl,c.p+b.p);else break;return c}
function yp(a){for(var b,c=xp(a);;)if(a.b==sm)c.type!=Jl&&op(a,"inter"),Y(a),b=xp(a),b.type!=Jl&&pp(a,"inter"),c.p!=b.p&&qp(a,"inter",c.p,b.p),c=$o(vo,c,b,Jl,c.p);else break;return c}
function jp(a){for(var b,c=yp(a);;)if(a.b==Am)c.type!=Jl&&op(a,"union"),Y(a),b=yp(a),b.type!=Jl&&pp(a,"union"),c.p!=b.p&&qp(a,"union",c.p,b.p),c=$o(so,c,b,Jl,c.p);else if(a.b==mm)c.type!=Jl&&op(a,"diff"),Y(a),b=yp(a),b.type!=Jl&&pp(a,"diff"),c.p!=b.p&&qp(a,"diff",c.p,b.p),c=$o(to,c,b,Jl,c.p);else if(a.b==ym)c.type!=Jl&&op(a,"symdiff"),Y(a),b=yp(a),b.type!=Jl&&pp(a,"symdiff"),c.p!=b.p&&qp(a,"symdiff",c.p,b.p),c=$o(uo,c,b,Jl,c.p);else break;return c}
function zp(a){var b,c=-1,d="",e=jp(a);switch(a.b){case Hm:c=jo;break;case Im:c=ko;break;case Jm:c=lo;break;case Km:c=mo;break;case Lm:c=no;break;case Mm:c=oo;break;case qm:c=xo;break;case Bm:c=zo;break;case vm:d=a.g;Y(a);a.b==qm?c=yo:a.b==Bm?c=Ao:X(a,"invalid use of "+d);d+=" ";break;default:return e}d+=a.g;switch(c){case lo:case oo:case jo:case ko:case no:case mo:e.type==S||e.type==W||op(a,d);Y(a);b=jp(a);b.type==S||b.type==W||pp(a,d);e.type==S&&b.type==W&&(e=Z(An,e,W,0));e.type==W&&b.type==S&&
(b=Z(An,b,W,0));e=$o(c,e,b,Sl,0);break;case xo:case yo:e.type==S&&(e=Z(An,e,W,0));e.type==W&&(e=Z(Cn,e,bm,1));e.type!=bm&&op(a,d);Y(a);b=jp(a);b.type!=Jl&&pp(a,d);e.p!=b.p&&qp(a,d,e.p,b.p);e=$o(c,e,b,Sl,0);break;case zo:case Ao:e.type!=Jl&&op(a,d),Y(a),b=jp(a),b.type!=Jl&&pp(a,d),e.p!=b.p&&qp(a,d,e.p,b.p),e=$o(c,e,b,Sl,0)}return e}function Ap(a){var b,c;a.b==vm?(c=a.g,Y(a),b=zp(a),b.type==W&&(b=Z(zn,b,S,0)),b.type==S&&(b=Z(Bn,b,Sl,0)),b.type!=Sl&&pp(a,c),b=Z(Gn,b,Sl,0)):b=zp(a);return b}
function tp(a){for(var b,c="",d=Ap(a);;)if(a.b==jm)c=a.g,d.type==W&&(d=Z(zn,d,S,0)),d.type==S&&(d=Z(Bn,d,Sl,0)),d.type!=Sl&&op(a,c),Y(a),b=Ap(a),b.type==W&&(b=Z(zn,b,S,0)),b.type==S&&(b=Z(Bn,b,Sl,0)),b.type!=Sl&&pp(a,c),d=$o(po,d,b,Sl,0);else break;return d}
function kp(a){for(var b,c=tp(a);;)if(a.b==wm){var d=a.g;c.type==W&&(c=Z(zn,c,S,0));c.type==S&&(c=Z(Bn,c,Sl,0));c.type!=Sl&&op(a,d);Y(a);b=tp(a);b.type==W&&(b=Z(zn,b,S,0));b.type==S&&(b=Z(Bn,b,Sl,0));b.type!=Sl&&pp(a,d);c=$o(ro,c,b,Sl,0)}else break;return c}
function Bp(a){function b(){X(a,"syntax error in constraint statement")}var c,d,e,f;a.Nb&&X(a,"constraint statement must precede solve statement");Xo(a,"subject")?(Y(a),Xo(a,"to")||X(a,"keyword subject to incomplete"),Y(a)):Xo(a,"subj")?(Y(a),Xo(a,"to")||X(a,"keyword subj to incomplete"),Y(a)):a.b==xm&&Y(a);a.b!=fm&&(Yo(a)?X(a,"invalid use of reserved keyword "+a.g):X(a,"symbolic name missing where expected"));a.T[a.g]!=s&&X(a,a.g+" multiply declared");var g={};g.name=a.g;g.Hb=s;g.p=0;g.domain=s;
g.type=Gl;g.code=s;g.N=s;g.U=s;g.M=s;Y(a);a.b==im&&(g.Hb=a.g,Y(a));a.b==Zm&&(g.domain=ip(a),g.p=np(g.domain));c=a.T[g.name]={};c.type=Gl;c.link=g;a.b!=Rm&&X(a,"colon missing where expected");Y(a);c=ep(a);c.type==W&&(c=Z(zn,c,S,0));c.type==S||c.type==Ol||X(a,"expression following colon has invalid type");a.b==Qm&&Y(a);switch(a.b){case Im:case Km:case Jm:break;case Hm:case Lm:case Mm:X(a,"strict inequality not allowed");break;case Sm:X(a,"constraint must be equality or inequality");break;default:b()}f=
a.b;e=a.g;Y(a);d=ep(a);d.type==W&&(d=Z(zn,d,S,0));d.type==S||d.type==Ol||X(a,"expression following "+e+" has invalid type");a.b==Qm&&(Y(a),a.b==Sm&&b());a.b==Hm||a.b==Im||a.b==Jm||a.b==Km||a.b==Lm||a.b==Mm?((f==Jm||a.b!=f)&&X(a,"double inequality must be ... <= ... <= ... or ... >= ... >= ..."),c.type==Ol&&X(a,"leftmost expression in double inequality cannot be linear form"),Y(a),e=ep(a),e.type==W&&(e=Z(zn,d,S,0)),e.type==S||e.type==Ol||X(a,"rightmost expression in double inequality constraint has invalid type"),
e.type==Ol&&X(a,"rightmost expression in double inequality cannot be linear form")):e=s;g.domain!=s&&lp(a,g.domain);c.type!=Ol&&(c=Z(Dn,c,Ol,0));d.type!=Ol&&(d=Z(Dn,d,Ol,0));e!=s&&(e=Z(Dn,e,Ol,0));if(e==s)switch(f){case Im:g.code=c;g.N=s;g.U=d;break;case Km:g.code=c;g.N=d;g.U=s;break;case Jm:g.code=c,g.N=d,g.U=d}else switch(f){case Im:g.code=d;g.N=c;g.U=e;break;case Km:g.code=d,g.N=e,g.U=c}a.b!=Sm&&b();Y(a);return g}
function Cp(a){!a.nc&&Xo(a,"end")||a.nc&&Dp(a,"end")?(Y(a),a.b==Sm?Y(a):Uo(a,"no semicolon following end statement; missing semicolon inserted")):Uo(a,"unexpected end of file; missing end statement inserted");a.b!=em&&Uo(a,"some text detected beyond end statement; text ignored")}
function Ep(a,b){var c={u:{}};c.bb=a.bb;c.Vc=a.Vc;c.next=s;if(Xo(a,"set")){b&&X(a,"set statement not allowed here");c.type=Zl;var d=c.u,e=function(){X(a,"at most one := or default/data allowed")},f=function(){X(a,a.g+" not a plain set")},g=function(){X(a,"dimension of "+a.g+" too small")},l=function(){X(a,"component number must be integer between 1 and "+n.set.V)},j,k,m=0,n;Y(a);a.b!=fm&&(Yo(a)?X(a,"invalid use of reserved keyword "+a.g):X(a,"symbolic name missing where expected"));a.T[a.g]!=s&&X(a,
a.g+" multiply declared");j={};j.name=a.g;j.Hb=s;j.p=0;j.domain=s;j.V=0;j.Bf=s;j.assign=s;j.va=s;j.Yc=s;j.data=0;j.M=s;Y(a);a.b==im&&(j.Hb=a.g,Y(a));a.b==Zm&&(j.domain=ip(a),j.p=np(j.domain));k=a.T[j.name]={};k.type=Zl;for(k.link=j;;){if(a.b==Qm)Y(a);else if(a.b==Sm)break;if(Xo(a,"dimen")){var p;Y(a);a.b==hm&&1<=a.value&&20>=a.value&&Math.floor(a.value)==a.value||X(a,"dimension must be integer between 1 and 20");p=a.value+0.5|0;m&&X(a,"at most one dimension attribute allowed");0<j.V&&X(a,"dimension "+
p+" conflicts with dimension "+j.V+" already determined");j.V=p;m=1;Y(a)}else if(a.b==Bm||a.b==qm){a.b==qm&&!a.rg&&(Uo(a,"keyword in understood as within"),a.rg=1);Y(a);p={code:s,next:s};if(j.Bf==s)j.Bf=p;else{for(k=j.Bf;k.next!=s;k=k.next);k.next=p}p.code=jp(a);p.code.type!=Jl&&X(a,"expression following within has invalid type");0==j.V&&(j.V=p.code.p);j.V!=p.code.p&&X(a,"set expression following within must have dimension "+j.V+" rather than "+p.code.p)}else if(a.b==Tm)j.assign==s&&j.va==s&&j.Yc==
s||e(),Y(a),j.assign=jp(a),j.assign.type!=Jl&&X(a,"expression following := has invalid type"),0==j.V&&(j.V=j.assign.p),j.V!=j.assign.p&&X(a,"set expression following := must have dimension "+j.V+" rather than "+j.assign.p);else if(Xo(a,"default"))j.assign==s&&j.va==s||e(),Y(a),j.va=jp(a),j.va.type!=Jl&&X(a,"expression following default has invalid type"),0==j.V&&(j.V=j.va.p),j.V!=j.va.p&&X(a,"set expression following default must have dimension "+j.V+" rather than "+j.va.p);else if(Xo(a,"data")){var w=
0;p=Array(20);j.assign==s&&j.Yc==s||e();Y(a);j.Yc=n={};a.b!=fm&&(Yo(a)?X(a,"invalid use of reserved keyword "+a.g):X(a,"set name missing where expected"));k=a.T[a.g];k==s&&X(a,a.g+" not defined");k.type!=Zl&&f();n.set=k.link;0!=n.set.p&&f();n.set==j&&X(a,"set cannot be initialized by itself");j.p>=n.set.V&&g();0==j.V&&(j.V=n.set.V-j.p);j.p+j.V>n.set.V?g():j.p+j.V<n.set.V&&X(a,"dimension of "+a.g+" too big");Y(a);a.b==Vm?Y(a):X(a,"left parenthesis missing where expected");for(k=0;k<n.set.V;k++)p[k]=
0;for(k=0;;)if(a.b!=hm&&X(a,"component number missing where expected"),0!=zl(a.g,function(a){w=a})&&l(),1<=w&&w<=n.set.V||l(),0!=p[w-1]&&X(a,"component "+w+" multiply specified"),n.Y[k++]=w,p[w-1]=1,Y(a),a.b==Qm)Y(a);else if(a.b==Wm)break;else X(a,"syntax error in data attribute");k<n.set.V&&X(a,"there are must be "+n.set.V+" components rather than "+k);Y(a)}else X(a,"syntax error in set statement")}j.domain!=s&&lp(a,j.domain);0==j.V&&(j.V=1);Y(a);d.set=j}else if(Xo(a,"param")){b&&X(a,"parameter statement not allowed here");
c.type=Xl;var e=c.u,f=function(){v&&X(a,"at most one binary allowed");r.type==W&&X(a,"symbolic parameter cannot be binary");r.type=El;v=1;Y(a)},g=function(){X(a,"at most one := or default allowed")},r,v=l=0;j=0;Y(a);a.b!=fm&&(Yo(a)?X(a,"invalid use of reserved keyword "+a.g):X(a,"symbolic name missing where expected"));a.T[a.g]!=s&&X(a,a.g+" multiply declared");r={};r.name=a.g;r.Hb=s;r.p=0;r.domain=s;r.type=S;r.wd=s;r.oa=s;r.assign=s;r.va=s;r.data=0;r.Wc=s;r.M=s;Y(a);a.b==im&&(r.Hb=a.g,Y(a));a.b==
Zm&&(r.domain=ip(a),r.p=np(r.domain));m=a.T[r.name]={};m.type=Xl;for(m.link=r;;){if(a.b==Qm)Y(a);else if(a.b==Sm)break;if(Xo(a,"integer"))l&&X(a,"at most one integer allowed"),r.type==W&&X(a,"symbolic parameter cannot be integer"),r.type!=El&&(r.type=Rl),l=1,Y(a);else if(Xo(a,"binary"))f();else if(Xo(a,"logical"))a.Ke||(Uo(a,"keyword logical understood as binary"),a.Ke=1),f();else if(Xo(a,"symbolic"))j&&X(a,"at most one symbolic allowed"),r.type!=S&&X(a,"integer or binary parameter cannot be symbolic"),
r.wd==s&&r.oa==s&&r.assign==s&&r.va==s||X(a,"keyword symbolic must precede any other parameter attributes"),r.type=W,j=1,Y(a);else if(a.b==Hm||a.b==Im||a.b==Jm||a.b==Km||a.b==Lm||a.b==Mm){p={};switch(a.b){case Hm:p.jd=jo;d=a.g;break;case Im:p.jd=ko;d=a.g;break;case Jm:p.jd=lo;d=a.g;break;case Km:p.jd=mo;d=a.g;break;case Lm:p.jd=no;d=a.g;break;case Mm:p.jd=oo,d=a.g}p.code=s;p.next=s;if(r.wd==s)r.wd=p;else{for(m=r.wd;m.next!=s;m=m.next);m.next=p}Y(a);p.code=ep(a);p.code.type==S||p.code.type==W||X(a,
"expression following "+d+" has invalid type");r.type!=W&&p.code.type==W&&(p.code=Z(zn,p.code,S,0));r.type==W&&p.code.type!=W&&(p.code=Z(An,p.code,W,0))}else if(a.b==qm||a.b==Bm){a.b==Bm&&!a.qg&&(Uo(a,"keyword within understood as in"),a.qg=1);Y(a);p={code:s,next:s};if(r.oa==s)r.oa=p;else{for(m=r.oa;m.next!=s;m=m.next);m.next=p}p.code=jp(a);p.code.type!=Jl&&X(a,"expression following in has invalid type");1!=p.code.p&&X(a,"set expression following in must have dimension 1 rather than "+p.code.p)}else a.b==
Tm?(r.assign==s&&r.va==s||g(),Y(a),r.assign=ep(a),r.assign.type==S||r.assign.type==W||X(a,"expression following := has invalid type"),r.type!=W&&r.assign.type==W&&(r.assign=Z(zn,r.assign,S,0)),r.type==W&&r.assign.type!=W&&(r.assign=Z(An,r.assign,W,0))):Xo(a,"default")?(r.assign==s&&r.va==s||g(),Y(a),r.va=ep(a),r.va.type==S||r.va.type==W||X(a,"expression following default has invalid type"),r.type!=W&&r.va.type==W&&(r.va=Z(zn,r.va,S,0)),r.type==W&&r.va.type!=W&&(r.va=Z(An,r.va,W,0))):X(a,"syntax error in parameter statement")}r.domain!=
s&&lp(a,r.domain);Y(a);e.Q=r}else if(Xo(a,"var")){b&&X(a,"variable statement not allowed here");c.type=cm;var d=c.u,e=function(){C&&X(a,"at most one binary allowed");q.type=El;C=1;Y(a)},C=f=0;a.Nb&&X(a,"variable statement must precede solve statement");Y(a);a.b!=fm&&(Yo(a)?X(a,"invalid use of reserved keyword "+a.g):X(a,"symbolic name missing where expected"));a.T[a.g]!=s&&X(a,a.g+" multiply declared");var q={};q.name=a.g;q.Hb=s;q.p=0;q.domain=s;q.type=S;q.N=s;q.U=s;q.M=s;Y(a);a.b==im&&(q.Hb=a.g,
Y(a));a.b==Zm&&(q.domain=ip(a),q.p=np(q.domain));g=a.T[q.name]={};g.type=cm;for(g.link=q;;){if(a.b==Qm)Y(a);else if(a.b==Sm)break;Xo(a,"integer")?(f&&X(a,"at most one integer allowed"),q.type!=El&&(q.type=Rl),f=1,Y(a)):Xo(a,"binary")?e():Xo(a,"logical")?(a.Ke||(Uo(a,"keyword logical understood as binary"),a.Ke=1),e()):Xo(a,"symbolic")?X(a,"variable cannot be symbolic"):a.b==Km?(q.N!=s&&(q.N==q.U?X(a,"both fixed value and lower bound not allowed"):X(a,"at most one lower bound allowed")),Y(a),q.N=ep(a),
q.N.type==W&&(q.N=Z(zn,q.N,S,0)),q.N.type!=S&&X(a,"expression following >= has invalid type")):a.b==Im?(q.U!=s&&(q.U==q.N?X(a,"both fixed value and upper bound not allowed"):X(a,"at most one upper bound allowed")),Y(a),q.U=ep(a),q.U.type==W&&(q.U=Z(zn,q.U,S,0)),q.U.type!=S&&X(a,"expression following <= has invalid type")):a.b==Jm?(q.N==s&&q.U==s||(q.N==q.U?X(a,"at most one fixed value allowed"):q.N!=s?X(a,"both lower bound and fixed value not allowed"):X(a,"both upper bound and fixed value not allowed")),
g=a.g,Y(a),q.N=ep(a),q.N.type==W&&(q.N=Z(zn,q.N,S,0)),q.N.type!=S&&X(a,"expression following "+g+" has invalid type"),q.U=q.N):a.b==Hm||a.b==Lm||a.b==Mm?X(a,"strict bound not allowed"):X(a,"syntax error in variable statement")}q.domain!=s&&lp(a,q.domain);Y(a);d.s=q}else if(Xo(a,"subject")||Xo(a,"subj")||a.b==xm)b&&X(a,"constraint statement not allowed here"),c.type=Gl,c.u.F=Bp(a);else if(Xo(a,"minimize")||Xo(a,"maximize"))b&&X(a,"objective statement not allowed here"),c.type=Gl,d=c.u,Xo(a,"minimize")?
f=Ul:Xo(a,"maximize")&&(f=Tl),a.Nb&&X(a,"objective statement must precede solve statement"),Y(a),a.b!=fm&&(Yo(a)?X(a,"invalid use of reserved keyword "+a.g):X(a,"symbolic name missing where expected")),a.T[a.g]!=s&&X(a,a.g+" multiply declared"),e={},e.name=a.g,e.Hb=s,e.p=0,e.domain=s,e.type=f,e.code=s,e.N=s,e.U=s,e.M=s,Y(a),a.b==im&&(e.Hb=a.g,Y(a)),a.b==Zm&&(e.domain=ip(a),e.p=np(e.domain)),f=a.T[e.name]={},f.type=Gl,f.link=e,a.b!=Rm&&X(a,"colon missing where expected"),Y(a),e.code=ep(a),e.code.type==
W&&(e.code=Z(zn,e.code,S,0)),e.code.type==S&&(e.code=Z(Dn,e.code,Ol,0)),e.code.type!=Ol&&X(a,"expression following colon has invalid type"),e.domain!=s&&lp(a,e.domain),a.b!=Sm&&X(a,"syntax error in objective statement"),Y(a),d.F=e;else if(Xo(a,"table")){b&&X(a,"table statement not allowed here");c.type=am;d=c.u;Y(a);a.b!=fm&&(Yo(a)?X(a,"invalid use of reserved keyword "+a.g):X(a,"symbolic name missing where expected"));a.T[a.g]!=s&&X(a,a.g+" multiply declared");e={u:{oa:{},Oc:{}}};e.name=a.g;Y(a);
a.b==im?(e.Hb=a.g,Y(a)):e.Hb=s;a.b==Zm?(e.type=Wl,e.u.Oc.domain=ip(a),Xo(a,"OUT")||X(a,"keyword OUT missing where expected")):(e.type=Ql,Xo(a,"IN")||X(a,"keyword IN missing where expected"));Y(a);for(e.a=f=s;;)if(g={},(a.b==Qm||a.b==Rm||a.b==Sm)&&X(a,"argument expression missing where expected"),g.code=ep(a),g.code.type==S&&(g.code=Z(An,g.code,W,0)),g.code.type!=W&&X(a,"argument expression has invalid type"),g.next=s,f==s?e.a=g:f.next=g,f=g,a.b==Qm)Y(a);else if(a.b==Rm||a.b==Sm)break;a.b==Rm?Y(a):
X(a,"colon missing where expected");switch(e.type){case Ql:a.b==fm?(g=a.T[a.g],g==s&&X(a,a.g+" not defined"),g.type!=Zl&&X(a,a.g+" not a set"),e.u.oa.set=g.link,e.u.oa.set.assign!=s&&X(a,a.g+" needs no data"),0!=e.u.oa.set.p&&X(a,a.g+" must be a simple set"),Y(a),a.b==cn?Y(a):X(a,"delimiter <- missing where expected")):Yo(a)?X(a,"invalid use of reserved keyword "+a.g):e.u.oa.set=s;e.u.oa.We=g=s;f=0;for(a.b==Xm?Y(a):X(a,"field list missing where expected");;)if(l={},a.b!=fm&&(Yo(a)?X(a,"invalid use of reserved keyword "+
a.g):X(a,"field name missing where expected")),l.name=a.g,Y(a),l.next=s,g==s?e.u.oa.We=l:g.next=l,g=l,f++,a.b==Qm)Y(a);else if(a.b==Ym)break;else X(a,"syntax error in field list");e.u.oa.set!=s&&e.u.oa.set.V!=f&&X(a,"there must be "+e.u.oa.set.V+" field"+(1==e.u.oa.set.V?"":"s")+" rather than "+f);Y(a);for(e.u.oa.list=l=s;a.b==Qm;)Y(a),j={},a.b!=fm&&(Yo(a)?X(a,"invalid use of reserved keyword "+a.g):X(a,"parameter name missing where expected")),g=a.T[a.g],g==s&&X(a,a.g+" not defined"),g.type!=Xl&&
X(a,a.g+" not a parameter"),j.Q=g.link,j.Q.p!=f&&X(a,a.g+" must have "+f+" subscript"+(1==f?"":"s")+" rather than "+j.Q.p),j.Q.assign!=s&&X(a,a.g+" needs no data"),Y(a),a.b==bn?(Y(a),a.b!=fm&&(Yo(a)?X(a,"invalid use of reserved keyword "+a.g):X(a,"field name missing where expected")),g=a.g,Y(a)):g=j.Q.name,j.name=g,j.next=s,l==s?e.u.oa.list=j:l.next=j,l=j;break;case Wl:for(e.u.Oc.list=f=s;;)if(l={},(a.b==Qm||a.b==Sm)&&X(a,"expression missing where expected"),g=a.b==fm?a.g:"",l.code=ep(a),a.b==bn&&
(Y(a),a.b!=fm&&(Yo(a)?X(a,"invalid use of reserved keyword "+a.g):X(a,"field name missing where expected")),g=a.g,Y(a)),""==g&&X(a,"field name required"),l.name=g,l.next=s,f==s?e.u.Oc.list=l:f.next=l,f=l,a.b==Qm)Y(a);else if(a.b==Sm)break;else X(a,"syntax error in output list");lp(a,e.u.Oc.domain)}a.b!=Sm&&X(a,"syntax error in table statement");Y(a);d.nd=e}else if(Xo(a,"solve"))b&&X(a,"solve statement not allowed here"),c.type=$l,d=c.u,a.Nb&&X(a,"at most one solve statement allowed"),a.Nb=1,Y(a),
a.b!=Sm&&X(a,"syntax error in solve statement"),Y(a),d.yh=s;else if(Xo(a,"check"))c.type=Fl,d=c.u,e={domain:s,code:s},Y(a),a.b==Zm&&(e.domain=ip(a)),a.b==Rm&&Y(a),e.code=kp(a),e.code.type!=Sl&&X(a,"expression has invalid type"),e.domain!=s&&lp(a,e.domain),a.b!=Sm&&X(a,"syntax error in check statement"),Y(a),d.Rg=e;else if(Xo(a,"display")){c.type=Hl;d=c.u;f={domain:s};f.list=e=s;Y(a);a.b==Zm&&(f.domain=ip(a));for(a.b==Rm&&Y(a);;){var z={u:{}},g=function(){z.type=Ll;z.u.code=kp(a)};z.type=0;z.next=
s;f.list==s?f.list=z:e.next=z;e=z;if(a.b==fm)if(Y(a),l=a.b,Wo(a),l==Qm||l==Sm){g=a.T[a.g];g==s&&X(a,a.g+" not defined");z.type=g.type;switch(g.type){case Pl:z.u.wa=g.link;break;case Zl:z.u.set=g.link;break;case Xl:z.u.Q=g.link;break;case cm:z.u.s=g.link;a.Nb||X(a,"invalid reference to variable "+z.u.s.name+" above solve statement");break;case Gl:z.u.F=g.link,a.Nb||X(a,"invalid reference to "+(z.u.F.type==Gl?"constraint":"objective")+" "+z.u.F.name+" above solve statement")}Y(a)}else g();else g();
if(a.b==Qm)Y(a);else break}f.domain!=s&&lp(a,f.domain);a.b!=Sm&&X(a,"syntax error in display statement");Y(a);d.Sg=f}else if(Xo(a,"printf")){c.type=Yl;d=c.u;g={domain:s,zd:s};g.list=f=s;Y(a);a.b==Zm&&(g.domain=ip(a));a.b==Rm&&Y(a);g.zd=ep(a);g.zd.type==S&&(g.zd=Z(An,g.zd,W,0));for(g.zd.type!=W&&X(a,"format expression has invalid type");a.b==Qm;)Y(a),e={code:s,next:s},g.list==s?g.list=e:f.next=e,f=e,e.code=jp(a),e.code.type==S||(e.code.type==W||e.code.type==Sl)||X(a,"only numeric, symbolic, or logical expression allowed");
g.domain!=s&&lp(a,g.domain);g.Ca=s;g.Mg=0;if(a.b==Lm||a.b==an)g.Mg=a.b==an,Y(a),g.Ca=ep(a),g.Ca.type==S&&(g.Ca=Z(An,g.Ca,W,0)),g.Ca.type!=W&&X(a,"file name expression has invalid type");a.b!=Sm&&X(a,"syntax error in printf statement");Y(a);d.mh=g}else if(Xo(a,"for")){c.type=Nl;d=c.u;g={domain:s};g.list=f=s;Y(a);a.b!=Zm&&X(a,"indexing expression missing where expected");g.domain=ip(a);a.b==Rm&&Y(a);if(a.b!=Zm)g.list=Ep(a,1);else{for(Y(a);a.b!=$m;)e=Ep(a,1),f==s?g.list=e:f.next=e,f=e;Y(a)}lp(a,g.domain);
d.Ug=g}else a.b==fm?(b&&X(a,"constraint statement not allowed here"),c.type=Gl,c.u.F=Bp(a)):Yo(a)?X(a,"invalid use of reserved keyword "+a.g):X(a,"syntax error in model section");return c}function Fp(a,b){var c,d={};d.W=b;d.next=s;if(a==s)a=d;else{for(c=a;c.next!=s;c=c.next);c.next=d}return a}function Gp(a){for(var b=0;a!=s;a=a.next)b++;return b}function Hp(a){for(var b=0;a!=s;a=a.next)a.W==s&&b++;return b}function Ip(a){for(var b=s;0<a--;)b=Fp(b,s);return b}
function Jp(a){return a.b==hm||a.b==gm||a.b==im}function Dp(a,b){return Jp(a)&&a.g==b}function Kp(a){var b;b=a.b==hm?Lp(a.value):Mp(a.g);Y(a);return b}
function Np(a,b,c){var d,e;switch(a.b){case Xm:e=Ym;break;case Vm:e=Wm}0==c&&X(a,b+" cannot be subscripted");Y(a);for(d=s;;)if(Jp(a)?d=Fp(d,Kp(a)):a.b==Em?(d=Fp(d,s),Y(a)):X(a,"number, symbol, or asterisk missing where expected"),a.b==Qm)Y(a);else if(a.b==e)break;else X(a,"syntax error in slice");if(Gp(d)!=c)switch(e){case Ym:X(a,b+" must have "+c+" subscript"+(1==c?"":"s")+", not "+Gp(d));break;case Wm:X(a,b+" has dimension "+c+", not "+Gp(d))}Y(a);return d}
function Op(a,b){var c;c=a.T[b];(c==s||c.type!=Zl)&&X(a,b+" not a set");c=c.link;(c.assign!=s||c.Yc!=s)&&X(a,b+" needs no data");c.data=1;return c}function Pp(a,b,c){var d,e,f=s;for(d=s;c!=s;c=c.next)c.W==s?(Jp(a)||(e=Hp(c),1==e?X(a,"one item missing in data group beginning with "+Qp(f)):X(a,e+" items missing in data group beginning with "+Qp(f))),e=Kp(a),f==s&&(f=e)):e=Rp(c.W),d=Sp(d,e),c.next!=s&&a.b==Qm&&Y(a);Tp(a,b.value.set,d)}
function Up(a,b,c,d){var e,f,g,l,j;for(e=s;a.b!=Tm;)Jp(a)||X(a,"number, symbol, or := missing where expected"),e=Fp(e,Kp(a));for(Y(a);Jp(a);){j=Kp(a);for(f=e;f!=s;f=f.next){var k=0;if(!Dp(a,"+"))if(Dp(a,"-")){Y(a);continue}else g=Gp(f),1==g?X(a,"one item missing in data group beginning with "+Qp(j)):X(a,g+" items missing in data group beginning with "+Qp(j));l=s;for(g=c;g!=s;g=g.next)if(g.W==s)switch(++k){case 1:l=Sp(l,Rp(d?f.W:j));break;case 2:l=Sp(l,Rp(d?j:f.W))}else l=Sp(l,Rp(g.W));Tp(a,b.value.set,
l);Y(a)}}}
function Vp(a){function b(){X(a,"slice currently used must specify 2 asterisks, not "+Hp(l))}function c(){X(a,"transpose indicator (tr) incomplete")}function d(){Y(a);Dp(a,"tr")||c();2!=Hp(l)&&b();Y(a);a.b!=Wm&&c();Y(a);a.b==Rm&&Y(a);j=1;Up(a,g,l,j)}var e,f,g,l,j=0;Y(a);Jp(a)||X(a,"set name missing where expected");e=Op(a,a.g);Y(a);f=s;if(a.b==Xm){0==e.p&&X(a,e.name+" cannot be subscripted");for(Y(a);;)if(Jp(a)||X(a,"number or symbol missing where expected"),f=Sp(f,Kp(a)),a.b==Qm)Y(a);else if(a.b==Ym)break;
else X(a,"syntax error in subscript list");e.p!=Wp(f)&&X(a,e.name+" must have "+e.p+" subscript"+(1==e.p?"":"s")+" rather than "+Wp(f));Y(a)}else 0!=e.p&&X(a,e.name+" must be subscripted");Xp(a,e.M,f)!=s&&X(a,e.name+Yp("[",f)+" already defined");g=Zp(e.M,f);g.value.set=$p(a,Vl,e.V);for(l=Ip(e.V);;)if(a.b==Qm&&Y(a),a.b==Tm)Y(a);else if(a.b==Vm)Y(a),f=Dp(a,"tr"),Wo(a),f?d():(l=Np(a,e.name,e.V),j=0,0==Hp(l)&&Pp(a,g,l));else if(Jp(a))Pp(a,g,l);else if(a.b==Rm)2!=Hp(l)&&b(),Y(a),Up(a,g,l,j);else if(a.b==
Vm)d();else if(a.b==Sm){Y(a);break}else X(a,"syntax error in set data block")}function aq(a,b){var c;c=a.T[b];(c==s||c.type!=Xl)&&X(a,b+" not a parameter");c=c.link;c.assign!=s&&X(a,b+" needs no data");c.data&&X(a,b+" already provided with data");c.data=1;return c}function bq(a,b,c){b.va!=s&&X(a,"default value for "+b.name+" already specified in model section");b.Wc=c}
function cq(a,b,c){Xp(a,b.M,c)!=s&&X(a,b.name+Yp("[",c)+" already defined");c=Zp(b.M,c);switch(b.type){case S:case Rl:case El:a.b==hm||X(a,b.name+" requires numeric data");b=c.value;c=a.value;Y(a);b.O=c;break;case W:c.value.W=Kp(a)}}
function dq(a,b,c,d){var e,f,g,l,j;for(e=s;a.b!=Tm;)Jp(a)||X(a,"number, symbol, or := missing where expected"),e=Fp(e,Kp(a));for(Y(a);Jp(a);){j=Kp(a);for(f=e;f!=s;f=f.next){var k=0;if(Dp(a,"."))Y(a);else{l=s;for(g=c;g!=s;g=g.next)if(g.W==s)switch(++k){case 1:l=Sp(l,Rp(d?f.W:j));break;case 2:l=Sp(l,Rp(d?j:f.W))}else l=Sp(l,Rp(g.W));Jp(a)||(g=Gp(f),1==g?X(a,"one item missing in data group beginning with "+Qp(j)):X(a,g+" items missing in data group beginning with "+Qp(j)));cq(a,b,l)}}}}
function eq(a){function b(){X(a,e.name+" not a subscripted parameter")}function c(){X(a,"slice currently used must specify 2 asterisks, not "+Hp(g))}function d(){X(a,"transpose indicator (tr) incomplete")}var e,f=s,g,l=0;Y(a);Dp(a,"default")&&(Y(a),Jp(a)||X(a,"default value missing where expected"),f=Kp(a),a.b!=Rm&&X(a,"colon missing where expected"));if(a.b==Rm){Y(a);a.b==Qm&&Y(a);var l=a,j=f,f=s,k,m,n=0,p=s;Jp(l)&&(Y(l),m=l.b,Wo(l),m==Rm&&(f=Op(l,l.g),0!=f.p&&X(l,f.name+" must be a simple set"),
f.M.head!=s&&X(l,f.name+" already defined"),Zp(f.M,s).value.set=$p(l,Vl,f.V),p=f.name,n=f.V,Y(l),Y(l)));for(m=s;l.b!=Tm;)Jp(l)||X(l,"parameter name or := missing where expected"),k=aq(l,l.g),0==k.p&&X(l,l.g+" not a subscripted parameter"),0!=n&&k.p!=n&&X(l,p+" has dimension "+n+" while "+k.name+" has dimension "+k.p),j!=s&&bq(l,k,Rp(j)),m=Fp(m,k),p=k.name,n=k.p,Y(l),l.b==Qm&&Y(l);0==Gp(m)&&X(l,"at least one parameter name required");Y(l);for(l.b==Qm&&Y(l);Jp(l);){j=s;for(k=1;k<=n;k++)Jp(l)||(p=Gp(m)+
n-k+1,X(l,p+" items missing in data group beginning with "+Qp(j.W))),j=Sp(j,Kp(l)),k<n&&l.b==Qm&&Y(l);f!=s&&Tp(l,f.M.head.value.set,fq(j));l.b==Qm&&Y(l);for(k=m;k!=s;k=k.next)Dp(l,".")?Y(l):(Jp(l)||(p=Gp(k),1==p?X(l,"one item missing in data group beginning with "+Qp(j.W)):X(l,p+" items missing in data group beginning with "+Qp(j.W))),cq(l,k.W,fq(j)),k.next!=s&&l.b==Qm&&Y(l));l.b==Qm&&(Y(l),Jp(l)||Wo(l))}for(k=m;k!=s;k=k.next)k.W=s;a.b!=Sm&&X(a,"symbol, number, or semicolon missing where expected");
Y(a)}else{Jp(a)||X(a,"parameter name missing where expected");e=aq(a,a.g);Y(a);Dp(a,"default")&&(Y(a),Jp(a)||X(a,"default value missing where expected"),f=Kp(a),bq(a,e,f));for(g=Ip(e.p);;)if(a.b==Qm&&Y(a),a.b==Tm)Y(a);else if(a.b==Xm)g=Np(a,e.name,e.p),l=0;else if(Jp(a)){f=a;n=e;p=j=m=h;m=k=s;for(j=g;j!=s;j=j.next)j.W==s?(Jp(f)||X(f,Hp(j)+1+" items missing in data group beginning with "+Qp(k)),p=Kp(f),k==s&&(k=p)):p=Rp(j.W),m=Sp(m,p),f.b==Qm&&Y(f);Jp(f)||X(f,"one item missing in data group beginning with "+
Qp(k));cq(f,n,m)}else if(a.b==Rm)0==e.p&&b(),2!=Hp(g)&&c(),Y(a),dq(a,e,g,l);else if(a.b==Vm)Y(a),Dp(a,"tr")||d(),0==e.p&&b(),2!=Hp(g)&&c(),Y(a),a.b!=Wm&&d(),Y(a),a.b==Rm&&Y(a),l=1,dq(a,e,g,l);else if(a.b==Sm){Y(a);break}else X(a,"syntax error in parameter data block")}}function gq(a){for(;!(a.b==em||Dp(a,"end"));)Dp(a,"set")?Vp(a):Dp(a,"param")?eq(a):X(a,"syntax error in data section")}
function hq(a,b,c){(0<b&&0<c&&b>0.999*u-c||0>b&&0>c&&b<-0.999*u-c)&&X(a,b+" + "+c+"; floating-point overflow");return b+c}function iq(a,b,c){(0<b&&0>c&&b>0.999*u+c||0>b&&0<c&&b<-0.999*u+c)&&X(a,b+" - "+c+"; floating-point overflow");return b-c}function jq(a,b,c){1<Math.abs(c)&&Math.abs(b)>0.999*u/Math.abs(c)&&X(a,b+" * "+c+"; floating-point overflow");return b*c}
function kq(a,b,c){Math.abs(c)<ja&&X(a,b+" / "+c+"; floating-point zero divide");1>Math.abs(c)&&Math.abs(b)>0.999*u*Math.abs(c)&&X(a,b+" / "+c+"; floating-point overflow");return b/c}function lq(a,b,c){c!=Math.floor(c)&&X(a,"round("+b+", "+c+"); non-integer second argument");18>=c&&(a=Math.pow(10,c),Math.abs(b)<0.999*u/a&&(b=Math.floor(b*a+0.5),0!=b&&(b/=a)));return b}
function mq(a,b,c){c!=Math.floor(c)&&X(a,"trunc("+b+", "+c+"); non-integer second argument");18>=c&&(a=Math.pow(10,c),Math.abs(b)<0.999*u/a&&(b=0<=b?Math.floor(b*a):Math.ceil(b*a),0!=b&&(b/=a)));return b}function nq(a){var b,c;do b=-1+2*(wl(a.Gd)/2147483648),c=-1+2*(wl(a.Gd)/2147483648),b=b*b+c*c;while(1<b||0==b);return c*Math.sqrt(-2*Math.log(b)/b)}function Lp(a){var b={};b.O=a;b.J=s;return b}function Mp(a){var b={O:0};b.J=a;return b}
function Rp(a){var b={};a.J==s?(b.O=a.O,b.J=s):(b.O=0,b.J=a.J);return b}function oq(a,b){return a.J==s&&b.J==s?a.O<b.O?-1:a.O>b.O?1:0:a.J==s?-1:b.J==s?1:a.J==b.J?0:a.J>b.J?1:-1}
function Qp(a){var b;if(a.J==s)b=String(a.O);else{var c,d,e=a.J;if(Ga(e[0])||"_"==e[0]){a=ia;for(c=1;c<e.length;c++)if(!(La(e[c])||0<="+-._".indexOf(e[c]))){a=aa;break}}else a=aa;b="";d=0;var f=function(a){255>d&&(b+=a,d++)};a&&f("'");for(c=0;c<e.length;c++)a&&"'"==e[c]&&f("'"),f(e[c]);a&&f("'");255==d&&(b=b.slice(0,252)+"...")}return b}function Sp(a,b){var c,d={};d.W=b;d.next=s;if(a==s)a=d;else{for(c=a;c.next!=s;c=c.next);c.next=d}return a}function Wp(a){for(var b=0;a!=s;a=a.next)b++;return b}
function fq(a){var b,c;if(a==s)b=s;else{for(b=c={};a!=s;a=a.next)c.W=Rp(a.W),a.next!=s&&(c=c.next={});c.next=s}return b}function pq(a,b){var c,d,e;c=a;for(d=b;c!=s;c=c.next,d=d.next)if(e=oq(c.W,d.W),0!=e)return e;return 0}function qq(a,b){for(var c=s,d=1,e=a;d<=b;d++,e=e.next)c=Sp(c,Rp(e.W));return c}
function Yp(a,b){function c(a){255>f&&(g+=a);f++}var d,e,f=0,g="",l="",j=Wp(b);"["==a&&0<j&&c("[");"("==a&&1<j&&c("(");for(d=b;d!=s;d=d.next){d!=b&&c(",");l=Qp(d.W);for(e=0;e<l.length;e++)c(l[e])}"["==a&&0<j&&c("]");"("==a&&1<j&&c(")");255==f&&(g=g.slice(0,252)+"...");return g}function rq(a,b){Zp(a,b).value.eh=s}function Tp(a,b,c){Xp(a,b,c)!=s&&X(a,"duplicate tuple "+Yp("(",c)+" detected");rq(b,c)}function sq(a,b){var c,d;c=$p(a,Vl,b.p);for(d=b.head;d!=s;d=d.next)rq(c,fq(d.v));return c}
function tq(a,b,c,d){var e;0==d&&X(a,b+" .. "+c+" by "+d+"; zero stride not allowed");e=0<c&&0>b&&c>0.999*u+b?+u:0>c&&0<b&&c<-0.999*u+b?-u:c-b;1>Math.abs(d)&&Math.abs(e)>0.999*u*Math.abs(d)?e=0<e&&0<d||0>e&&0>d?+u:0:(e=Math.floor(e/d)+1,0>e&&(e=0));2147483646<e&&X(a,b+" .. "+c+" by "+d+"; set too large");return e+0.5|0}function uq(a,b,c,d,e){1<=e&&tq(a,b,c,d);return b+(e-1)*d}function vq(a){var b;0==a?b=s:(b={},b.t=a,b.s=s,b.next=s);return b}
function wq(a){var b,c;if(a==s)b=s;else{for(b=c={};a!=s;a=a.next)c.t=a.t,c.s=a.s,a.next!=s&&(c=c.next={});c.next=s}return b}
function xq(a,b,c,d,e){var f=s,g,l=0;for(g=c;g!=s;g=g.next)g.s==s?l=hq(a,l,jq(a,b,g.t)):g.s.ha=hq(a,g.s.ha,jq(a,b,g.t));for(g=e;g!=s;g=g.next)g.s==s?l=hq(a,l,jq(a,d,g.t)):g.s.ha=hq(a,g.s.ha,jq(a,d,g.t));for(g=c;g!=s;g=g.next)g.s!=s&&0!=g.s.ha&&(a={},a.t=g.s.ha,a.s=g.s,a.next=f,f=a,g.s.ha=0);for(g=e;g!=s;g=g.next)g.s!=s&&0!=g.s.ha&&(a={},a.t=g.s.ha,a.s=g.s,a.next=f,f=a,g.s.ha=0);0!=l&&(a={},a.t=l,a.s=s,a.next=f,f=a);return f}
function yq(a,b,c){for(var d=s,e,f=0;b!=s;)e=b,b=b.next,e.s==s?f=hq(a,f,e.t):(e.next=d,d=e);c(f);return d}function zq(a,b){switch(a){case Vl:b.eh=s;break;case S:b.O=0;break;case W:b.W=s;break;case Sl:b.sg=0;break;case bm:b.v=s;break;case Jl:b.set=s;break;case Kl:b.s=s;break;case Ol:b.form=s;break;case Il:b.F=s}}function $p(a,b,c){var d={};d.type=b;d.p=c;d.size=0;d.head=s;d.Xa=s;d.T=ia;d.aa=s;d.next=a.pg;d.next!=s&&(d.next.aa=d);return a.pg=d}function Aq(a,b,c){return pq(b,c)}
function Xp(a,b,c){if(30<b.size&&!b.T){var d={root:s};d.yg=Aq;d.info=a;d.size=0;d.height=0;b.T=d;for(a=b.head;a!=s;a=a.next)Wj(b.T,a.v).link=a}if(b.T){b=b.T;for(a=b.root;a!=s;){d=b.yg(b.info,c,a.key);if(0==d)break;a=0>d?a.left:a.right}c=a;a=c==s?s:c.link}else for(a=b.head;a!=s&&0!=pq(a.v,c);a=a.next);return a}function Zp(a,b){var c={};c.v=b;c.next=s;c.value={};a.size++;a.head==s?a.head=c:a.Xa.next=c;a.Xa=c;a.T!=s&&(Wj(a.T,c.v).link=c);return c}
function Bq(a){var b;if(a.Le!=s){b=a.list;for(a=a.Le;b!=s;b=b.next,a=a.next)a:{var c=b,d=a.W,e=h,f=h;if(c.value!=s){if(0==oq(c.value,d))break a;c.value=s}for(e=c.list;e!=s;e=e.a.index.next)for(f=e;f!=s;f=f.P)f.valid&&(f.valid=0,zq(f.type,f.value));c.value=Rp(d)}}}function Cq(a,b,c,d,e){var f,g=0;if(!Dq(a,b.code,c))return 1;f=b.Le;b.Le=c;Bq(b);e(a,d);b.Le=f;Bq(b);return g}
function Eq(a,b){if(b.Kc!=s){var c,d,e=s,f=s;c=b.Kc;b.Kc=c.next;for(d=c.list;d!=s;d=d.next)e==s?e=f={}:f=f.next={},d.code==s?(f.W=b.v.W,b.v=b.v.next):f.W=Fq(a,d.code);f.next=s;Cq(a,c,e,b,Eq)&&(b.Ve=1);for(d=c.list;d!=s;d=d.next)e=e.next}else b.domain.code!=s&&!Gq(a,b.domain.code)?b.Ve=2:b.Zd(a,b.info)}function Hq(a,b,c,d,e){var f={};b==s?(e(a,d),f.Ve=0):(f.domain=b,f.Kc=b.list,f.v=c,f.info=d,f.Zd=e,f.Ve=0,Eq(a,f));return f.Ve}
function Iq(a,b){if(b.Kc!=s){var c,d,e;c=b.Kc;b.Kc=c.next;e=s;for(d=c.list;d!=s;d=d.next)d.code!=s&&(e=Sp(e,Fq(a,d.code)));if(c.code.Ta==Eo){var f,g,l,j;g=$(a,c.code.a.a.x);l=$(a,c.code.a.a.y);j=c.code.a.a.Oa==s?1:$(a,c.code.a.a.Oa);e=tq(a,g,l,j);d=Sp(s,Lp(0));for(f=1;f<=e&&b.Wf;f++)d.W.O=uq(a,g,l,j,f),Cq(a,c,d,b,Iq)}else for(f=Jq(a,c.code).head;f!=s&&b.Wf;f=f.next){g=f.v;l=e;j=ia;for(d=c.list;d!=s;d=d.next){if(d.code!=s){if(0!=oq(g.W,l.W)){j=aa;break}l=l.next}g=g.next}j||Cq(a,c,f.v,b,Iq)}b.Kc=c}else if(b.domain.code==
s||Gq(a,b.domain.code))b.Wf=!b.Zd(a,b.info)}function Kq(a,b,c,d){var e={};b==s?d(a,c):(e.domain=b,e.Kc=b.list,e.Wf=1,e.info=c,e.Zd=d,Iq(a,e))}function Lq(a,b,c){X(a,b+Yp("[",c)+" out of domain")}function Mq(a){var b=s;if(a!=s)for(a=a.list;a!=s;a=a.next)for(var c=a.list;c!=s;c=c.next)c.code==s&&(b=Sp(b,Rp(c.value)));return b}
function Nq(a,b,c,d){for(var e=b.Bf,f=1;e!=s;e=e.next,f++)for(var g=d.head;g!=s;g=g.next)if(!Dq(a,e.code,g.v)){var l=Yp("(",g.v);X(a,b.name+Yp("[",c)+" contains "+l+" which not within specified set; see ("+f+")")}}function Oq(a,b){if(b.ea!=s)Nq(a,b.set,b.ea.v,b.ea.value.set);else{var c=b.set,d=b.v,e=function(){Nq(a,c,d,f);g=Zp(c.M,fq(d));g.value.set=f},f,g=Xp(a,c.M,d);g!=s?f=g.value.set:c.assign!=s?(f=Jq(a,c.assign),e()):c.va!=s?(f=Jq(a,c.va),e()):X(a,"no value for "+c.name+Yp("[",d));b.oe=f}}
function Pq(a,b){var c=b.Yc,d,e,f,g=Array(20);B("Generating "+b.name+"...");d=c.set;Kq(a,d.domain,d,Qq);for(d=c.set.M.head.value.set.head;d!=s;d=d.next){f=fq(d.v);for(e=0;e<c.set.V;e++)g[e]=s;for(e=0;f!=s;f=f.next)g[c.Y[e++]-1]=f;for(e=0;e<c.set.V;e++)g[e].next=g[e+1];0==b.p?f=s:(f=g[0],g[b.p-1].next=s);e=Xp(a,b.M,f);e==s&&(e=Zp(b.M,f),e.value.set=$p(a,Vl,b.V));f=g[b.p];g[c.set.V-1].next=s;rq(e.value.set,f)}b.data=1}
function Rq(a,b,c){var d={};d.set=b;d.v=c;b.Yc!=s&&0==b.data&&Pq(a,b);if(1==b.data){c=b.M.Xa;b.data=2;for(d.ea=b.M.head;d.ea!=s&&!(Hq(a,b.domain,d.ea.v,d,Oq)&&Lq(a,b.name,d.ea.v),d.ea==c);d.ea=d.ea.next);}d.ea=s;Hq(a,d.set.domain,d.v,d,Oq)&&Lq(a,b.name,d.v);return d.oe}function Qq(a,b){var c=Mq(b.domain);Rq(a,b,c);return 0}
function Tq(a,b,c,d){var e,f;switch(b.type){case Rl:d!=Math.floor(d)&&X(a,b.name+Yp("[",c)+" = "+d+" not integer");break;case El:0==d||1==d||X(a,b.name+Yp("[",c)+" = "+d+" not binary")}e=b.wd;for(f=1;e!=s;e=e.next,f++){var g;g=$(a,e.code);var l=function(e){X(a,b.name+Yp("[",c)+" = "+d+" not "+e+" "+g+"; see ("+f+")")};switch(e.jd){case jo:d<g||l("<");break;case ko:d<=g||l("<=");break;case lo:d!=g&&l("=");break;case mo:d>=g||l(">=");break;case no:d>g||l(">");break;case oo:d==g&&l("<>")}}f=1;for(e=
b.oa;e!=s;e=e.next,f++)l=Sp(s,Lp(d)),Dq(a,e.code,l)||X(a,b.name+Yp("[",c)+" = "+d+" not in specified set; see ("+f+")")}function Vq(a,b,c){function d(d){Tq(a,b,c,d);e=Zp(b.M,fq(c));return e.value.O=d}var e=Xp(a,b.M,c);return e!=s?e.value.O:b.assign!=s?d($(a,b.assign)):b.va!=s?d($(a,b.va)):b.Wc!=s?(b.Wc.J!=s&&X(a,"cannot convert "+Qp(b.Wc)+" to floating-point number"),d(b.Wc.O)):X(a,"no value for "+b.name+Yp("[",c))}function Wq(a,b){b.ea!=s?Tq(a,b.Q,b.ea.v,b.ea.value.O):b.value=Vq(a,b.Q,b.v)}
function Xq(a,b,c){var d={};d.Q=b;d.v=c;if(1==b.data){c=b.M.Xa;b.data=2;for(d.ea=b.M.head;d.ea!=s&&!(Hq(a,b.domain,d.ea.v,d,Wq)&&Lq(a,b.name,d.ea.v),d.ea==c);d.ea=d.ea.next);}d.ea=s;Hq(a,d.Q.domain,d.v,d,Wq)&&Lq(a,b.name,d.v);return d.value}
function Yq(a,b,c,d){var e,f=1;for(e=b.wd;e!=s;e=e.next,f++){var g;g=Fq(a,e.code);switch(e.jd){case jo:0>oq(d,g)||(g=Qp(g),X(a,b.name+Yp("[",c)+" = "+Qp(d)+" not < "+g));break;case ko:0>=oq(d,g)||(g=Qp(g),X(a,b.name+Yp("[",c)+" = "+Qp(d)+" not <= "+g));break;case lo:0!=oq(d,g)&&(g=Qp(g),X(a,b.name+Yp("[",c)+" = "+Qp(d)+" not = "+g));break;case mo:0<=oq(d,g)||(g=Qp(g),X(a,b.name+Yp("[",c)+" = "+Qp(d)+" not >= "+g));break;case no:0<oq(d,g)||(g=Qp(g),X(a,b.name+Yp("[",c)+" = "+Qp(d)+" not > "+g));break;
case oo:0==oq(d,g)&&(g=Qp(g),X(a,b.name+Yp("[",c)+" <> "+Qp(d)+" not > "+g))}}f=1;for(e=b.oa;e!=s;e=e.next,f++)g=Sp(s,Rp(d)),Dq(a,e.code,g)||X(a,b.name,Yp("[",c)+" = "+Qp(d)+" not in specified set; see ("+f+")")}
function Zq(a,b){if(b.ea!=s)Yq(a,b.Q,b.ea.v,b.ea.value.W);else{var c,d=b.Q,e=b.v;c=function(b){Yq(a,d,e,b);f=Zp(d.M,fq(e));f.value.W=Rp(b);return b};var f=Xp(a,d.M,e);c=f!=s?Rp(f.value.W):d.assign!=s?c(Fq(a,d.assign)):d.va!=s?c(Fq(a,d.va)):d.Wc!=s?Rp(d.Wc):X(a,"no value for "+d.name+Yp("[",e));b.value=c}}
function $q(a,b,c){var d={};d.Q=b;d.v=c;if(1==b.data){c=b.M.Xa;b.data=2;for(d.ea=b.M.head;d.ea!=s&&!(Hq(a,b.domain,d.ea.v,d,Zq)&&Lq(a,b.name,d.ea.v),d.ea==c);d.ea=d.ea.next);}d.ea=s;Hq(a,d.Q.domain,d.v,d,Zq)&&Lq(a,b.name,d.v);return d.value}function ar(a,b){var c=Mq(b.domain);switch(b.type){case S:case Rl:case El:Xq(a,b,c);break;case W:$q(a,b,c)}return 0}
function br(a,b){var c=b.s,d=b.v,e=Xp(a,c.M,d);e!=s?d=e.value.s:(e=Zp(c.M,fq(d)),d=e.value.s={},d.A=0,d.s=c,d.ea=e,d.N=c.N==s?0:$(a,c.N),d.U=c.U==s?0:c.U==c.N?d.N:$(a,c.U),d.ha=0,d.m=0,d.q=d.H=0);b.oe=d}function cr(a,b,c){var d={};d.s=b;d.v=c;Hq(a,d.s.domain,d.v,d,br)&&Lq(a,b.name,d.v);return d.oe}
function dr(a,b){var c=b.F,d=b.v,e=s,f=Xp(a,c.M,d);if(f!=s)d=f.value.F;else{f=Zp(c.M,fq(d));d=f.value.F={};d.ca=0;d.F=c;d.ea=f;d.form=er(a,c.code);if(c.N==s&&c.U==s)d.form=yq(a,d.form,function(a){e=a}),d.N=d.U=-e;else if(c.N!=s&&c.U==s)d.form=xq(a,1,d.form,-1,er(a,c.N)),d.form=yq(a,d.form,function(a){e=a}),d.N=-e,d.U=0;else if(c.N==s&&c.U!=s)d.form=xq(a,1,d.form,-1,er(a,c.U)),d.form=yq(a,d.form,function(a){e=a}),d.N=0,d.U=-e;else if(c.N==c.U)d.form=xq(a,1,d.form,-1,er(a,c.N)),d.form=yq(a,d.form,function(a){e=
a}),d.N=d.U=-e;else{var g=s,l=s;d.form=yq(a,d.form,function(a){e=a});yq(a,er(a,c.N),function(a){g=a});yq(a,er(a,c.U),function(a){l=a});d.N=iq(a,g,e);d.U=iq(a,l,e)}d.m=0;d.q=d.H=0}b.oe=d}function fr(a,b,c){var d={};d.F=b;d.v=c;Hq(a,d.F.domain,d.v,d,dr)&&Lq(a,b.name,d.v);return d.oe}function gr(a,b){var c=Mq(b.domain);fr(a,b,c);return 0}
function hr(a,b){var c=$(a,b.code.a.loop.x);switch(b.code.Ta){case Jo:b.value=hq(a,b.value,c);break;case Ko:b.value=jq(a,b.value,c);break;case Lo:b.value>c&&(b.value=c);break;case Mo:b.value<c&&(b.value=c)}return 0}
function $(a,b){var c,d,e,f;b.R&&b.valid&&(b.valid=0,zq(b.type,b.value));if(b.valid)return b.value.O;switch(b.Ta){case kn:c=b.a.O;break;case nn:d=s;for(e=b.a.Q.list;e!=s;e=e.next)d=Sp(d,Fq(a,e.x));c=Xq(a,b.a.Q.Q,d);break;case qn:d=s;for(e=b.a.s.list;e!=s;e=e.next)d=Sp(d,Fq(a,e.x));e=cr(a,b.a.s.s,d);switch(b.a.s.Bc){case en:c=e.s.N==s?-u:e.N;break;case fn:c=e.s.U==s?+u:e.U;break;case gn:c=e.m;break;case hn:c=e.q;break;case jn:c=e.H}break;case rn:d=s;for(e=b.a.F.list;e!=s;e=e.next)d=Sp(d,Fq(a,e.x));
e=fr(a,b.a.F.F,d);switch(b.a.F.Bc){case en:c=e.F.N==s?-u:e.N;break;case fn:c=e.F.U==s?+u:e.U;break;case gn:c=e.m;break;case hn:c=e.q;break;case jn:c=e.H}break;case vn:e=a.Gd;do d=wl(e);while(2147483648<=d);c=d%16777216;break;case wn:c=wl(a.Gd)/2147483648;break;case xn:c=nq(a);break;case yn:c=Math.round(Date.now()/1E3);break;case zn:d=Fq(a,b.a.a.x);d.J==s?c=d.O:yl(d.J,function(a){c=a})&&X(a,"cannot convert "+Qp(d)+" to floating-point number");break;case En:c=+$(a,b.a.a.x);break;case Fn:c=-$(a,b.a.a.x);
break;case Hn:c=Math.abs($(a,b.a.a.x));break;case In:c=Math.ceil($(a,b.a.a.x));break;case Jn:c=Math.floor($(a,b.a.a.x));break;case Kn:e=$(a,b.a.a.x);e>0.999*Math.log(u)&&X(a,"exp("+e+"); floating-point overflow");c=Math.exp(e);break;case Ln:e=$(a,b.a.a.x);0>=e&&X(a,"log("+e+"); non-positive argument");c=Math.log(e);break;case Mn:e=$(a,b.a.a.x);0>=e&&X(a,"log10("+e+"); non-positive argument");c=Math.log(e)/Math.LN10;break;case Nn:e=$(a,b.a.a.x);0>e&&X(a,"sqrt("+e+"); negative argument");c=Math.sqrt(e);
break;case On:e=$(a,b.a.a.x);-1E6<=e&&1E6>=e||X(a,"sin("+e+"); argument too large");c=Math.sin(e);break;case Pn:e=$(a,b.a.a.x);-1E6<=e&&1E6>=e||X(a,"cos("+e+"); argument too large");c=Math.cos(e);break;case Qn:e=$(a,b.a.a.x);c=Math.atan(e);break;case co:e=$(a,b.a.a.x);d=$(a,b.a.a.y);c=Math.atan2(e,d);break;case Rn:c=lq(a,$(a,b.a.a.x),0);break;case eo:c=lq(a,$(a,b.a.a.x),$(a,b.a.a.y));break;case Sn:c=mq(a,$(a,b.a.a.x),0);break;case fo:c=mq(a,$(a,b.a.a.x),$(a,b.a.a.y));break;case Vn:c=hq(a,$(a,b.a.a.x),
$(a,b.a.a.y));break;case Wn:c=iq(a,$(a,b.a.a.x),$(a,b.a.a.y));break;case Xn:e=$(a,b.a.a.x);d=$(a,b.a.a.y);e<d?c=0:(0<e&&(0>d&&e>0.999*u+d)&&X(a,e+" less "+d+"; floating-point overflow"),c=e-d);break;case Yn:c=jq(a,$(a,b.a.a.x),$(a,b.a.a.y));break;case Zn:c=kq(a,$(a,b.a.a.x),$(a,b.a.a.y));break;case $n:e=$(a,b.a.a.x);d=$(a,b.a.a.y);Math.abs(d)<ja&&X(a,e+" div "+d+"; floating-point zero divide");1>Math.abs(d)&&Math.abs(e)>0.999*u*Math.abs(d)&&X(a,e+" div "+d+"; floating-point overflow");e/=d;c=0<e?
Math.floor(e):0>e?Math.ceil(e):0;break;case ao:e=$(a,b.a.a.x);d=$(a,b.a.a.y);if(0==e)f=0;else if(0==d)f=e;else if(f=Math.abs(e)%Math.abs(d),0!=f&&(0>e&&(f=-f),0<e&&0>d||0>e&&0<d))f+=d;c=f;break;case bo:e=$(a,b.a.a.x);d=$(a,b.a.a.y);(0==e&&0>=d||0>e&&d!=Math.floor(d))&&X(a,e+" ** "+d+"; result undefined");0==e?e=Math.pow(e,d):((1<Math.abs(e)&&1<d&&+Math.log(Math.abs(e))>0.999*Math.log(u)/d||1>Math.abs(e)&&-1>d&&+Math.log(Math.abs(e))<0.999*Math.log(u)/d)&&X(a,e+" ** "+d+"; floating-point overflow"),
e=1<Math.abs(e)&&-1>d&&-Math.log(Math.abs(e))<0.999*Math.log(u)/d||1>Math.abs(e)&&1<d&&-Math.log(Math.abs(e))>0.999*Math.log(u)/d?0:Math.pow(e,d));c=e;break;case go:e=$(a,b.a.a.x);d=$(a,b.a.a.y);e>=d&&X(a,"Uniform("+e+", "+d+"); invalid range");f=wl(a.Gd)/2147483648;c=f=hq(a,e*(1-f),d*f);break;case ho:e=$(a,b.a.a.x);d=$(a,b.a.a.y);c=hq(a,e,jq(a,d,nq(a)));break;case Tn:c=Jq(a,b.a.a.x).size;break;case Un:d=Fq(a,b.a.a.x);f=d.J==s?String(d.O):d.J;c=f.length;break;case Co:d=Fq(a,b.a.a.x);f=d.J==s?String(d.O):
d.J;d=Fq(a,b.a.a.y);var g=f,l=d.J==s?String(d.O):d.J;d=function(){ir(a,g,q,l,z,"time zone offset value incomplete or invalid")};f=function(){ir(a,g,q,l,z,"time zone offset value out of range")};var j=function(){g[q]!=l[z]&&ir(a,g,q,l,z,"character mismatch");q++},k,m,n,p,w,r,v,C,q,z;m=n=p=w=r=v=-1;C=2147483647;for(z=q=0;z<l.length;z++)if("%"==l[z])if(z++,"b"==l[z]||"h"==l[z]){var D;for(0<=n&&ir(a,g,q,l,z,"month multiply specified");" "==g[q];)q++;for(n=1;12>=n;n++){D=jr[n-1];var H=ia;for(k=0;2>=k;k++)if(q[k].toUpperCase()!=
D[k].toUpperCase()){H=aa;break}if(!H){q+=3;for(k=3;"\x00"!=D[k]&&g[q].toUpperCase()==D[k].toUpperCase();k++)q++;break}}12<n&&ir(a,g,q,l,z,"abbreviated month name missing or invalid")}else if("d"==l[z]){for(0<=p&&ir(a,g,q,l,z,"day multiply specified");" "==g[q];)q++;"0"<=g[q]&&"9">=g[q]||ir(a,g,q,l,z,"day missing or invalid");p=g[q++]-0;"0"<=g[q]&&"9">=g[q]&&(p=10*p+(g[q++]-0));1<=p&&31>=p||ir(a,g,q,l,z,"day out of range")}else if("H"==l[z]){for(0<=w&&ir(a,g,q,l,z,"hour multiply specified");" "==g[q];)q++;
"0"<=g[q]&&"9">=g[q]||ir(a,g,q,l,z,"hour missing or invalid");w=g[q++]-0;"0"<=g[q]&&"9">=g[q]&&(w=10*w+(g[q++]-0));0<=w&&23>=w||ir(a,g,q,l,z,"hour out of range")}else if("m"==l[z]){for(0<=n&&ir(a,g,q,l,z,"month multiply specified");" "==g[q];)q++;"0"<=g[q]&&"9">=g[q]||ir(a,g,q,l,z,"month missing or invalid");n=g[q++]-0;"0"<=g[q]&&"9">=g[q]&&(n=10*n+(g[q++]-0));1<=n&&12>=n||ir(a,g,q,l,z,"month out of range")}else if("M"==l[z]){for(0<=r&&ir(a,g,q,l,z,"minute multiply specified");" "==g[q];)q++;"0"<=
g[q]&&"9">=g[q]||ir(a,g,q,l,z,"minute missing or invalid");r=g[q++]-0;"0"<=g[q]&&"9">=g[q]&&(r=10*r+(g[q++]-0));0<=r&&59>=r||ir(a,g,q,l,z,"minute out of range")}else if("S"==l[z]){for(0<=v&&ir(a,g,q,l,z,"second multiply specified");" "==g[q];)q++;"0"<=g[q]&&"9">=g[q]||ir(a,g,q,l,z,"second missing or invalid");v=g[q++]-0;"0"<=g[q]&&"9">=g[q]&&(v=10*v+(g[q++]-0));0<=v&&60>=v||ir(a,g,q,l,z,"second out of range")}else if("y"==l[z]){for(0<=m&&ir(a,g,q,l,z,"year multiply specified");" "==g[q];)q++;"0"<=
g[q]&&"9">=g[q]||ir(a,g,q,l,z,"year missing or invalid");m=g[q++]-0;"0"<=g[q]&&"9">=g[q]&&(m=10*m+(g[q++]-0));m+=69<=m?1900:2E3}else if("Y"==l[z]){for(0<=m&&ir(a,g,q,l,z,"year multiply specified");" "==g[q];)q++;"0"<=g[q]&&"9">=g[q]||ir(a,g,q,l,z,"year missing or invalid");m=0;for(k=1;4>=k&&"0"<=g[q]&&"9">=g[q];k++)m=10*m+(g[q++]-0);1<=m&&4E3>=m||ir(a,g,q,l,z,"year out of range")}else if("z"==l[z]){for(2147483647!=C&&ir(a,g,q,l,z,"time zone offset multiply specified");" "==g[q];)q++;if("Z"==g[q])e=
w=r=0,q++;else{"+"==g[q]?(e=1,q++):"-"==g[q]?(e=-1,q++):ir(a,g,q,l,z,"time zone offset sign missing");w=0;for(k=1;2>=k;k++)"0"<=g[q]&&"9">=g[q]||d(),w=10*w+(g[q++]-0);23<w&&f();":"==g[q]&&(q++,"0"<=g[q]&&"9">=g[q]||d());r=0;if("0"<=g[q]&&"9">=g[q]){for(k=1;2>=k;k++)"0"<=g[q]&&"9">=g[q]||d(),r=10*r+(g[q++]-0);59<r&&f()}}C=e*(60*w+r)}else"%"==l[z]?j():ir(a,g,q,l,z,"invalid conversion specifier");else" "!=l[z]&&j();0>m&&(m=1970);0>n&&(n=1);0>p&&(p=1);0>w&&(w=0);0>r&&(r=0);0>v&&(v=0);2147483647==C&&(C=
0);k=Al(p,n,m);c=60*(60*(24*(k-Al(1,1,1970))+w)+r)+v-60*C;break;case Fo:c=Gq(a,b.a.a.x)?$(a,b.a.a.y):b.a.a.Oa==s?0:$(a,b.a.a.Oa);break;case Ho:c=+u;for(e=b.a.list;e!=s;e=e.next)d=$(a,e.x),c>d&&(c=d);break;case Io:c=-u;for(e=b.a.list;e!=s;e=e.next)d=$(a,e.x),c<d&&(c=d);break;case Jo:e={};e.code=b;e.value=0;Kq(a,b.a.loop.domain,e,hr);c=e.value;break;case Ko:e={};e.code=b;e.value=1;Kq(a,b.a.loop.domain,e,hr);c=e.value;break;case Lo:e={};e.code=b;e.value=+u;Kq(a,b.a.loop.domain,e,hr);e.value==+u&&X(a,
"min{} over empty set; result undefined");c=e.value;break;case Mo:e={},e.code=b,e.value=-u,Kq(a,b.a.loop.domain,e,hr),e.value==-u&&X(a,"max{} over empty set; result undefined"),c=e.value}b.valid=1;return b.value.O=c}
function Fq(a,b){var c,d;b.R&&b.valid&&(b.valid=0,zq(b.type,b.value));if(b.valid)return Rp(b.value.W);switch(b.Ta){case ln:c=Mp(b.a.J);break;case mn:c=Rp(b.a.index.wa.value);break;case on:var e;d=s;for(e=b.a.Q.list;e!=s;e=e.next)d=Sp(d,Fq(a,e.x));c=$q(a,b.a.Q.Q,d);break;case An:c=Lp($(a,b.a.a.x));break;case io:d=Fq(a,b.a.a.x);e=Fq(a,b.a.a.y);c=Mp((d.J==s?String(d.O):d.J)+(e.J==s?String(e.O):e.J));break;case Fo:c=Gq(a,b.a.a.x)?Fq(a,b.a.a.y):b.a.a.Oa==s?Lp(0):Fq(a,b.a.a.Oa);break;case Bo:case Go:c=
Fq(a,b.a.a.x);d=c.J==s?String(c.O):c.J;b.Ta==Bo?(c=$(a,b.a.a.y),c!=Math.floor(c)&&X(a,"substr('...', "+c+"); non-integer second argument"),(1>c||c>d.length+1)&&X(a,"substr('...', "+c+"); substring out of range")):(c=$(a,b.a.a.y),e=$(a,b.a.a.Oa),(c!=Math.floor(c)||e!=Math.floor(e))&&X(a,"substr('...', "+c+", "+e+"); non-integer second and/or third argument"),(1>c||0>e||c+e>d.length+1)&&X(a,"substr('...', "+c+", "+e+"); substring out of range"));c=Mp(d.slice(c-1,c+e-1));break;case Do:c=$(a,b.a.a.x);
e=Fq(a,b.a.a.y);var f=c;e=e.J==s?String(e.O):e.J;var g=0,l=0,j=0,k,m,n,p="";-62135596800<=f&&64092211199>=f||X(a,"time2str("+f+",...); argument out of range");f=Math.floor(f+0.5);k=Math.abs(f)/86400;c=Math.floor(k);0>f&&(c=k==Math.floor(k)?-c:-(c+1));Bl(c+Al(1,1,1970),function(a,b,c){j=a;l=b;g=c});m=f-86400*c|0;k=m/60;m%=60;f=k/60;k%=60;for(n=0;n<e.length;n++){if("%"==e[n])if(n++,"a"==e[n])d=kr[lr(c)-1].slice(0,3);else if("A"==e[n])d=kr[lr(c)-1];else if("b"==e[n]||"h"==e[n])d=jr[l-1].slice(0,3);else if("B"==
e[n])d=jr[l-1];else if("C"==e[n])d=String(Math.floor(g/100));else if("d"==e[n])d=String(j);else if("D"==e[n])d=l+"/"+j+"/"+g%100;else if("e"==e[n])d=String(j);else if("F"==e[n])Pa(d,g+"-"+l+"-"+j);else if("g"==e[n])d=c<mr(g)?g-1:c<mr(g+1)?g:g+1,d=String(d%100);else if("G"==e[n])d=c<mr(g)?g-1:c<mr(g+1)?g:g+1,d=String(d);else if("H"==e[n])d=String(f);else if("I"==e[n])d=String(0==f?12:12>=f?f:f-12);else if("j"==e[n])d=String(Al(j,l,g)-Al(1,1,g)+1);else if("k"==e[n])d=String(f);else if("l"==e[n])d=String(0==
f?12:12>=f?f:f-12);else if("m"==e[n])d=String(l);else if("M"==e[n])d=String(k);else if("p"==e[n])d=11>=f?"AM":"PM";else if("P"==e[n])d=11>=f?"am":"pm";else if("r"==e[n])d=(0==f?12:12>=f?f:f-12)+":"+k+":"+m+" "+(11>=f?"AM":"PM");else if("R"==e[n])d=f+":"+k;else if("S"==e[n])d=String(m);else if("T"==e[n])d=f+":"+k+":"+m;else if("u"==e[n])d=String(lr(c));else if("U"==e[n])d=Al(1,1,g)-Al(1,1,1970),d+=7-lr(d),d=String((c+7-d)/7);else if("V"==e[n])d=c<mr(g)?c-mr(g-1):c<mr(g+1)?c-mr(g):c-mr(g+1),d=String(d/
7+1);else if("w"==e[n])d=String(lr(c)%7);else if("W"==e[n])d=Al(1,1,g)-Al(1,1,1970),d+=(8-lr(d))%7,d=String((c+7-d)/7);else if("y"==e[n])d=String(g%100);else if("Y"==e[n])d=String(g);else if("%"==e[n])d="%";else{var w=a,r=e,v=n;B("Format string passed to time2str:");B(r);B(nr(v));X(w,"invalid conversion specifier")}else d=e[n];p+=d}c=Mp(p)}b.valid=1;b.value.W=Rp(c);return c}
function or(a,b){var c=0;switch(b.code.Ta){case No:b.value&=Gq(a,b.code.a.loop.x);b.value||(c=1);break;case Oo:b.value|=Gq(a,b.code.a.loop.x),b.value&&(c=1)}return c}
function Gq(a,b){var c,d;b.R&&b.valid&&(b.valid=0,zq(b.type,b.value));if(b.valid)return b.value.sg;switch(b.Ta){case Bn:c=0!=$(a,b.a.a.x);break;case Gn:c=!Gq(a,b.a.a.x);break;case jo:b.a.a.x.type==S?c=$(a,b.a.a.x)<$(a,b.a.a.y):(c=Fq(a,b.a.a.x),d=Fq(a,b.a.a.y),c=0>oq(c,d));break;case ko:b.a.a.x.type==S?c=$(a,b.a.a.x)<=$(a,b.a.a.y):(c=Fq(a,b.a.a.x),d=Fq(a,b.a.a.y),c=0>=oq(c,d));break;case lo:b.a.a.x.type==S?c=$(a,b.a.a.x)==$(a,b.a.a.y):(c=Fq(a,b.a.a.x),d=Fq(a,b.a.a.y),c=0==oq(c,d));break;case mo:b.a.a.x.type==
S?c=$(a,b.a.a.x)>=$(a,b.a.a.y):(c=Fq(a,b.a.a.x),d=Fq(a,b.a.a.y),c=0<=oq(c,d));break;case no:b.a.a.x.type==S?c=$(a,b.a.a.x)>$(a,b.a.a.y):(c=Fq(a,b.a.a.x),d=Fq(a,b.a.a.y),c=0<oq(c,d));break;case oo:b.a.a.x.type==S?c=$(a,b.a.a.x)!=$(a,b.a.a.y):(c=Fq(a,b.a.a.x),d=Fq(a,b.a.a.y),c=0!=oq(c,d));break;case po:c=Gq(a,b.a.a.x)&&Gq(a,b.a.a.y);break;case ro:c=Gq(a,b.a.a.x)||Gq(a,b.a.a.y);break;case xo:c=pr(a,b.a.a.x);c=Dq(a,b.a.a.y,c);break;case yo:c=pr(a,b.a.a.x);c=!Dq(a,b.a.a.y,c);break;case zo:d=Jq(a,b.a.a.x);
c=1;for(d=d.head;d!=s;d=d.next)if(!Dq(a,b.a.a.y,d.v)){c=0;break}break;case Ao:d=Jq(a,b.a.a.x);c=1;for(d=d.head;d!=s;d=d.next)if(Dq(a,b.a.a.y,d.v)){c=0;break}break;case No:c={};c.code=b;c.value=1;Kq(a,b.a.loop.domain,c,or);c=c.value;break;case Oo:c={},c.code=b,c.value=0,Kq(a,b.a.loop.domain,c,or),c=c.value}b.valid=1;return b.value.sg=c}
function pr(a,b){var c;b.R&&b.valid&&(b.valid=0,zq(b.type,b.value));if(b.valid)return fq(b.value.v);switch(b.Ta){case sn:c=s;for(var d=b.a.list;d!=s;d=d.next)c=Sp(c,Fq(a,d.x));break;case Cn:c=Sp(s,Fq(a,b.a.a.x))}b.valid=1;b.value.v=fq(c);return c}function qr(a,b){var c;switch(b.code.Ta){case Po:c=pr(a,b.code.a.loop.x);Xp(a,b.value,c)==s&&rq(b.value,c);break;case Qo:rq(b.value,Mq(b.code.a.loop.domain))}return 0}
function Jq(a,b){var c,d;b.R&&b.valid&&(b.valid=0,zq(b.type,b.value));if(b.valid)return sq(a,b.value.set);switch(b.Ta){case pn:c=s;for(d=b.a.set.list;d!=s;d=d.next)c=Sp(c,Fq(a,d.x));c=sq(a,Rq(a,b.a.set.set,c));break;case tn:c=$p(a,Vl,b.p);for(d=b.a.list;d!=s;d=d.next)Tp(a,c,pr(a,d.x));break;case so:d=Jq(a,b.a.a.x);for(c=Jq(a,b.a.a.y).head;c!=s;c=c.next)Xp(a,d,c.v)==s&&rq(d,fq(c.v));c=d;break;case to:var e=Jq(a,b.a.a.x);d=Jq(a,b.a.a.y);c=$p(a,Vl,e.p);for(e=e.head;e!=s;e=e.next)Xp(a,d,e.v)==s&&rq(c,
fq(e.v));break;case uo:d=Jq(a,b.a.a.x);c=Jq(a,b.a.a.y);for(var f=$p(a,Vl,d.p),e=d.head;e!=s;e=e.next)Xp(a,c,e.v)==s&&rq(f,fq(e.v));for(e=c.head;e!=s;e=e.next)Xp(a,d,e.v)==s&&rq(f,fq(e.v));c=f;break;case vo:e=Jq(a,b.a.a.x);d=Jq(a,b.a.a.y);c=$p(a,Vl,e.p);for(e=e.head;e!=s;e=e.next)Xp(a,d,e.v)!=s&&rq(c,fq(e.v));break;case wo:e=Jq(a,b.a.a.x);d=Jq(a,b.a.a.y);var g,l;c=$p(a,Vl,e.p+d.p);for(e=e.head;e!=s;e=e.next)for(f=d.head;f!=s;f=f.next){g=fq(e.v);for(l=f.v;l!=s;l=l.next)g=Sp(g,Rp(l.W));rq(c,g)}break;
case Eo:d=$(a,b.a.a.x);c=$(a,b.a.a.y);e=b.a.a.Oa==s?1:$(a,b.a.a.Oa);f=$p(a,Vl,1);g=tq(a,d,c,e);for(l=1;l<=g;l++)rq(f,Sp(s,Lp(uq(a,d,c,e,l))));c=f;break;case Fo:c=Gq(a,b.a.a.x)?Jq(a,b.a.a.y):Jq(a,b.a.a.Oa);break;case Po:d={};d.code=b;d.value=$p(a,Vl,b.p);Kq(a,b.a.loop.domain,d,qr);c=d.value;break;case Qo:d={},d.code=b,d.value=$p(a,Vl,b.p),Kq(a,b.a.loop.domain,d,qr),c=d.value}b.valid=1;b.value.set=sq(a,c);return c}function rr(){}
function Dq(a,b,c){var d,e,f;switch(b.Ta){case pn:f=s;for(e=b.a.set.list;e!=s;e=e.next)f=Sp(f,Fq(a,e.x));b=Rq(a,b.a.set.set,f);f=qq(c,b.p);d=Xp(a,b,f)!=s;break;case tn:d=0;f=qq(c,b.p);for(e=b.a.list;e!=s&&!(c=pr(a,e.x),d=0==pq(f,c));e=e.next);break;case so:d=Dq(a,b.a.a.x,c)||Dq(a,b.a.a.y,c);break;case to:d=Dq(a,b.a.a.x,c)&&!Dq(a,b.a.a.y,c);break;case uo:f=Dq(a,b.a.a.x,c);a=Dq(a,b.a.a.y,c);d=f&&!a||!f&&a;break;case vo:d=Dq(a,b.a.a.x,c)&&Dq(a,b.a.a.y,c);break;case wo:if(d=Dq(a,b.a.a.x,c)){for(f=1;f<=
b.a.a.x.p;f++)c=c.next;d=Dq(a,b.a.a.y,c)}break;case Eo:f=$(a,b.a.a.x);e=$(a,b.a.a.y);b=b.a.a.Oa==s?1:$(a,b.a.a.Oa);tq(a,f,e,b);if(c.W.J!=s){d=0;break}c=c.W.O;if(0<b&&!(f<=c&&c<=e)||0>b&&!(e<=c&&c<=f)){d=0;break}d=uq(a,f,e,b,((c-f)/b+0.5|0)+1)==c;break;case Fo:d=Gq(a,b.a.a.x)?Dq(a,b.a.a.y,c):Dq(a,b.a.a.Oa,c);break;case Po:X(a,"implementation restriction; in/within setof{} not allowed");break;case Qo:f=qq(c,b.p),d=0==Hq(a,b.a.loop.domain,f,s,rr)}return d}
function sr(a,b){switch(b.code.Ta){case Jo:var c;c=er(a,b.code.a.loop.x);for(b.value==s?b.value=c:b.Xa.next=c;c!=s;c=c.next)b.Xa=c}return 0}
function er(a,b){var c;b.R&&b.valid&&(b.valid=0,zq(b.type,b.value));if(b.valid)return wq(b.value.form);switch(b.Ta){case qn:var d=s;for(c=b.a.s.list;c!=s;c=c.next)d=Sp(d,Fq(a,c.x));c=cr(a,b.a.s.s,d);d={t:1};d.s=c;d.next=s;c=d;break;case Dn:c=vq($(a,b.a.a.x));break;case En:c=xq(a,0,vq(0),1,er(a,b.a.a.x));break;case Fn:c=xq(a,0,vq(0),-1,er(a,b.a.a.x));break;case Vn:c=xq(a,1,er(a,b.a.a.x),1,er(a,b.a.a.y));break;case Wn:c=xq(a,1,er(a,b.a.a.x),-1,er(a,b.a.a.y));break;case Yn:c=b.a.a.x.type==S?xq(a,$(a,
b.a.a.x),er(a,b.a.a.y),0,vq(0)):xq(a,$(a,b.a.a.y),er(a,b.a.a.x),0,vq(0));break;case Zn:c=xq(a,kq(a,1,$(a,b.a.a.y)),er(a,b.a.a.x),0,vq(0));break;case Fo:c=Gq(a,b.a.a.x)?er(a,b.a.a.y):b.a.a.Oa==s?vq(0):er(a,b.a.a.Oa);break;case Jo:c={};c.code=b;c.value=vq(0);c.Xa=s;Kq(a,b.a.loop.domain,c,sr);c=c.value;for(var e,f=0,d=c;d!=s;d=d.next)d.s==s?f=hq(a,f,d.t):d.s.ha=hq(a,d.s.ha,d.t);e=c;c=s;for(d=e;d!=s;d=e)e=d.next,d.s==s&&0!=f?(d.t=f,f=0,d.next=c,c=d):d.s!=s&&0!=d.s.ha&&(d.t=d.s.ha,d.s.ha=0,d.next=c,c=
d)}b.valid=1;b.value.form=wq(c);return c}var tr=exports.mpl_tab_num_args=function(a){return a.ff},ur=exports.mpl_tab_get_arg=function(a,b){return a.a[b]};exports.mpl_tab_get_args=function(a){return a.a};
var vr=exports.mpl_tab_num_flds=function(a){return a.Wa},wr=exports.mpl_tab_get_name=function(a,b){return a.name[b]},xr=exports.mpl_tab_get_type=function(a,b){return a.type[b]},yr=exports.mpl_tab_get_num=function(a,b){return a.O[b]},zr=exports.mpl_tab_get_str=function(a,b){return a.J[b]},Ar=exports.mpl_tab_set_num=function(a,b,c){a.type[b]="N";a.O[b]=c},Br=exports.mpl_tab_set_str=function(a,b,c){a.type[b]="S";a.J[b]=c};
function Cr(a,b){var c=a.Mc,d,e,f;f=0;for(d=b.u.Oc.list;d!=s;d=d.next)switch(f++,d.code.type){case S:c.type[f]="N";c.O[f]=$(a,d.code);c.J[f][0]="\x00";break;case W:e=Fq(a,d.code),e.J==s?(c.type[f]="N",c.O[f]=e.O,c.J[f][0]="\x00"):(c.type[f]="S",c.O[f]=0,c.J[f]=e.J)}c=a.Mc;c.link.writeRecord(c)&&X(a,"error on writing data to table "+a.ib.u.nd.name);return 0}function Dr(a,b){Gq(a,b.code)||X(a,"check"+Yp("[",Mq(b.domain))+" failed");return 0}
function Er(a,b,c){var d=c.value.set;Fr(a,b.name+Yp("[",c.v)+(d.head==s?" is empty":":"));for(b=d.head;b!=s;b=b.next)Fr(a,"   "+Yp("(",b.v))}function Gr(a,b,c){switch(b.type){case S:case Rl:case El:Fr(a,b.name+Yp("[",c.v)+" = "+c.value.O);break;case W:Fr(a,b.name+Yp("[",c.v)+" = "+Qp(c.value.W))}}
function Hr(a,b,c,d){d==dn||d==hn?Fr(a,b.name+Yp("[",c.v)+".val = "+c.value.s.q):d==en?Fr(a,b.name+Yp("[",c.v)+".lb = "+(c.value.s.s.N==s?-u:c.value.s.N)):d==fn?Fr(a,b.name+Yp("[",c.v)+".ub = "+(c.value.s.s.U==s?+u:c.value.s.U)):d==gn?Fr(a,b.name+Yp("[",c.v)+".status = "+c.value.s.m):d==jn&&Fr(a,b.name+Yp("[",c.v)+".dual = "+c.value.s.H)}
function Ir(a,b,c,d){d==dn||d==hn?Fr(a,b.name+Yp("[",c.v)+".val = "+c.value.F.q):d==en?Fr(a,b.name+Yp("[",c.v)+".lb = "+(c.value.F.F.N==s?-u:c.value.F.N)):d==fn?Fr(a,b.name+Yp("[",c.v)+".ub = "+(c.value.F.F.U==s?+u:c.value.F.U)):d==gn?Fr(a,b.name+Yp("[",c.v)+".status = "+c.value.F.m):d==jn&&Fr(a,b.name+Yp("[",c.v)+".dual = "+c.value.F.H)}
function Jr(a,b){for(var c,d=b.list;d!=s;d=d.next)if(d.type==Pl)c=d.u.wa,Fr(a,c.name+" = "+Qp(c.value));else if(d.type==Zl){var e=d.u.set;e.assign!=s?Kq(a,e.domain,e,Qq):(e.Yc!=s&&0==e.data&&Pq(a,e),e.M.head!=s&&Rq(a,e,e.M.head.v));e.M.head==s&&Fr(a,e.name+" has empty content");for(c=e.M.head;c!=s;c=c.next)Er(a,e,c)}else if(d.type==Xl){e=d.u.Q;e.assign!=s?Kq(a,e.domain,e,ar):e.M.head!=s&&(e.type!=W?Xq(a,e,e.M.head.v):$q(a,e,e.M.head.v));e.M.head==s&&Fr(a,e.name+" has empty content");for(c=e.M.head;c!=
s;c=c.next)Gr(a,e,c)}else if(d.type==cm){e=d.u.s;e.M.head==s&&Fr(a,e.name+" has empty content");for(c=e.M.head;c!=s;c=c.next)Hr(a,e,c,dn)}else if(d.type==Gl){e=d.u.F;e.M.head==s&&Fr(a,e.name+" has empty content");for(c=e.M.head;c!=s;c=c.next)Ir(a,e,c,dn)}else if(d.type==Ll)if(e=d.u.code,e.Ta==nn||e.Ta==on||e.Ta==pn||e.Ta==qn||e.Ta==rn){c=a;var f={value:{}},g=h;f.v=s;for(g=e.a.Q.list||e.a.s.list;g!=s;g=g.next)f.v=Sp(f.v,Fq(c,g.x));switch(e.Ta){case nn:f.value.O=Xq(c,e.a.Q.Q,f.v);Gr(c,e.a.Q.Q,f);break;
case on:f.value.W=$q(c,e.a.Q.Q,f.v);Gr(c,e.a.Q.Q,f);break;case pn:f.value.set=Rq(c,e.a.set.set,f.v);Er(c,e.a.set.set,f);break;case qn:f.value.s=cr(c,e.a.s.s,f.v);Hr(c,e.a.s.s,f,e.a.s.Bc);break;case rn:f.value.F=fr(c,e.a.F.F,f.v),Ir(c,e.a.F.F,f,e.a.F.Bc)}}else switch(c=a,e.type){case S:e=$(c,e);Fr(c,String(e));break;case W:e=Fq(c,e);Fr(c,Qp(e));break;case Sl:e=Gq(c,e);Fr(c,e?"true":"false");break;case bm:e=pr(c,e);Fr(c,Yp("(",e));break;case Jl:e=Jq(c,e);0==e.head&&Fr(c,"set is empty");for(e=e.head;e!=
s;e=e.next)Fr(c,"   "+Yp("(",e.v));break;case Ol:f=h;e=er(c,e);e==s&&Fr(c,"linear form is empty");for(f=e;f!=s;f=f.next)f.s==s?Fr(c,"   "+f.t):Fr(c,"   "+f.t+" "+f.s.s.name+Yp("[",f.s.ea.v))}return 0}function Kr(a,b){a.Hg==s?"\n"==b?(a.he(a.dd,a.le),a.dd=""):a.dd+=b:a.Hg(b)}function Lr(a,b){for(var c=0;c<b.length;c++)Kr(a,b[c])}
function Mr(a,b){var c,d,e,f,g,l=Fq(a,b.zd);d=l.J==s?String(l.O):l.J;c=b.list;for(f=0;f<d.length;f++)if("%"==d[f])if(e=f++,"%"==d[f])Kr(a,"%");else{if(c==s)break;for(;"-"==d[f]||"+"==d[f]||" "==d[f]||"#"==d[f]||"0"==d[f];)f++;for(;Ma(d[f]);)f++;if("."==d[f])for(f++;Ma(d[f]);)f++;if("d"==d[f]||"i"==d[f]||"e"==d[f]||"E"==d[f]||"f"==d[f]||"F"==d[f]||"g"==d[f]||"G"==d[f]){switch(c.code.type){case S:g=$(a,c.code);break;case W:l=Fq(a,c.code);l.J!=s&&X(a,"cannot convert "+Qp(l)+" to floating-point number");
g=l.O;break;case Sl:g=Gq(a,c.code)?1:0}"d"==d[f]||"i"==d[f]?(-2147483647<=g&&2147483647>=g||X(a,"cannot convert "+g+" to integer"),Lr(a,Pa(d.slice(e,f+1),Math.floor(g+0.5)|0))):Lr(a,Pa(d.slice(e,f+1),g))}else if("s"==d[f]){switch(c.code.type){case S:g=String($(a,c.code));break;case Sl:g=Gq(a,c.code)?"T":"F";break;case W:l=Fq(a,c.code),g=l.J==s?String(l.O):l.J}Lr(a,Pa(d.slice(e,f+1),g))}else X(a,"format specifier missing or invalid");c=c.next}else"\\"==d[f]?(f++,"t"==d[f]?Kr(a,"\t"):"n"==d[f]?Kr(a,
"\n"):"\x00"==d[f]?X(a,"invalid use of escape character \\ in format control string"):Kr(a,d[f])):Kr(a,d[f]);return 0}function Nr(a,b){for(var c=a.ib,d=b.list;d!=s;d=d.next)Or(a,d);a.ib=c;return 0}
function Or(a,b){a.ib=b;switch(b.type){case Gl:B("Generating "+b.u.F.name+"...");var c=b.u.F;Kq(a,c.domain,c,gr);break;case am:switch(b.u.nd.type){case Ql:B("Reading "+b.u.nd.name+"...");break;case Wl:B("Writing "+b.u.nd.name+"...")}var c=b.u.nd,d,e,f,g;a.Mc=f={};f.id=0;f.link=s;f.ff=0;f.a=s;f.Wa=0;f.name=s;f.type=s;f.O=s;f.J=s;for(d=c.a;d!=s;d=d.next)f.ff++;f.a=Array(1+f.ff);for(g=1;g<=f.ff;g++)f.a[g]=s;g=0;for(d=c.a;d!=s;d=d.next)g++,e=Fq(a,d.code),e=e.J==s?String(e.O):e.J,f.a[g]=e;switch(c.type){case Ql:g=
c.u.oa.set;g!=s&&(g.data&&X(a,g.name+" already provided with data"),Zp(g.M,s).value.set=$p(a,Vl,g.V),g.data=1);for(e=c.u.oa.list;e!=s;e=e.next)e.Q.data&&X(a,e.Q.name+" already provided with data"),e.Q.data=1;for(e=c.u.oa.We;e!=s;e=e.next)f.Wa++;for(e=c.u.oa.list;e!=s;e=e.next)f.Wa++;f.name=Array(1+f.Wa);f.type=Array(1+f.Wa);f.O=new Float64Array(1+f.Wa);f.J=Array(1+f.Wa);g=0;for(e=c.u.oa.We;e!=s;e=e.next)g++,f.name[g]=e.name,f.type[g]="?",f.O[g]=0,f.J[g]="";for(e=c.u.oa.list;e!=s;e=e.next)g++,f.name[g]=
e.name,f.type[g]="?",f.O[g]=0,f.J[g]="";for(Pr(a,"R");;){for(g=1;g<=f.Wa;g++)f.type[g]="?";g=a;d=g.Mc;d=d.link.readRecord(d);0<d&&X(g,"error on reading data from table "+g.ib.u.nd.name);if(d)break;for(g=1;g<=f.Wa;g++)"?"==f.type[g]&&X(a,"field "+f.name[g]+" missing in input table");d=s;g=0;for(e=c.u.oa.We;e!=s;e=e.next)switch(g++,f.type[g]){case "N":d=Sp(d,Lp(f.O[g]));break;case "S":d=Sp(d,Mp(f.J[g]))}c.u.oa.set!=s&&Tp(a,c.u.oa.set.M.head.value.set,fq(d));for(e=c.u.oa.list;e!=s;e=e.next){var l;g++;
Xp(a,e.Q.M,d)!=s&&X(a,e.Q.name+Yp("[",d)+" already defined");l=Zp(e.Q.M,fq(d));switch(e.Q.type){case S:case Rl:case El:"N"!=f.type[g]&&X(a,e.Q.name+" requires numeric data");l.value.O=f.O[g];break;case W:switch(f.type[g]){case "N":l.value.W=Lp(f.O[g]);break;case "S":l.value.W=Mp(f.J[g])}}}}a.Mc=s;break;case Wl:for(d=c.u.Oc.list;d!=s;d=d.next)f.Wa++;f.name=Array(1+f.Wa);f.type=Array(1+f.Wa);f.O=new Float64Array(1+f.Wa);f.J=Array(1+f.Wa);g=0;for(d=c.u.Oc.list;d!=s;d=d.next)g++,f.name[g]=d.name,f.type[g]=
"?",f.O[g]=0,f.J[g]="";Pr(a,"W");Kq(a,c.u.Oc.domain,c,Cr);c=a.Mc;c.link.flush(c);a.Mc=s}break;case Fl:B("Checking (line "+b.bb+")...");c=b.u.Rg;Kq(a,c.domain,c,Dr);break;case Hl:Fr(a,"Display statement at line "+b.bb);c=b.u.Sg;Kq(a,c.domain,c,Jr);break;case Yl:c=b.u.mh;c.Ca==s?a.le=s:(f=Fq(a,c.Ca),a.le=f.J==s?f.O:f.J);Kq(a,c.domain,c,Mr);break;case Nl:c=b.u.Ug,Kq(a,c.domain,c,Nr)}}
function Qr(a,b,c){a.bb=0;a.Vc=0;a.k="\n";a.b=0;a.Ab=0;a.g="";a.value=0;a.Hf=em;a.Gf=0;a.Ff="";a.If=0;a.Te=0;a.Ue=0;a.Mf=0;a.Lf=0;a.Kf="";a.Nf=0;na(a.Yb,0," ",dm);a.lc=0;a.cf=c;a.bf=b||"input";To(a);Y(a)}function Fr(a,b){a.he(b,a.le)}function Rr(a){0<a.dd.length&&(a.he(a.dd,a.le),a.dd="")}
function X(a,b){var c;switch(a.B){case 1:case 2:c=Error(a.bf+":"+a.bb+": "+b);c.line=a.bb;c.column=a.Vc;for(var d;0<a.lc;)a.lc--,d=a.Yb[0],ma(a.Yb,0,a.Yb,1,dm-1),a.Yb[dm-1]=d;B("Context: "+a.bb+" > "+(" "==a.Yb[0]?"":"...")+a.Yb.join("").trim());break;case 3:d=a.ib==s?0:a.ib.bb;var e=a.ib==s?0:a.ib.Vc;c=Error(d+": "+b);c.line=d;c.column=e}a.B=4;throw c;}function Uo(a,b){switch(a.B){case 1:case 2:B(a.bf+":"+a.bb+": warning: "+b);break;case 3:B(a.Yf+":"+(a.ib==s?0:a.ib.bb)+": warning: "+b)}}
var qj=exports.mpl_initialize=function(){var a={bb:0,Vc:0,k:0,b:0,Ab:0,g:"",value:0,Hf:0,Gf:0,Ff:"",If:0,Te:0,Ue:0,Mf:0,Lf:0,Kf:"",Nf:0};a.Yb=Array(dm);na(a.Yb,0," ",dm);a.lc=0;a.nc=0;a.T={};a.vc=s;a.Pf=0;a.rg=0;a.qg=0;a.Ke=0;a.Nb=0;a.pg=s;a.zh="";a.Ah="";a.Gd=vl();a.Of=0;a.ib=s;a.Mc=s;a.f=0;a.h=0;a.l=s;a.e=s;a.cf=s;a.bf=s;a.he=s;a.jh=s;a.Hg=s;a.le=s;a.B=0;a.Yf=s;a.wh="";return a},sj=exports.mpl_read_model=function(a,b,c,d){function e(){B(a.bb+" line"+(1==a.bb?"":"s")+" were read");a.cf=s;return a.B}
0!=a.B&&y("mpl_read_model: invalid call sequence");c==s&&y("mpl_read_model: no input specified");a.B=1;B("Reading model section from "+b+" ...");Qr(a,b,c);c=a;var f,g;for(g=s;!(c.b==em||Xo(c,"data")||Xo(c,"end"));)f=Ep(c,0),g==s?c.vc=f:g.next=f,g=f;a.vc==s&&X(a,"empty model section not allowed");a.Yf=a.bf;c=a;for(f=c.vc;f!=s;f=f.next)switch(f.type){case Zl:f.u.set.M=$p(c,Jl,f.u.set.p);break;case Xl:switch(f.u.Q.type){case S:case Rl:case El:f.u.Q.M=$p(c,S,f.u.Q.p);break;case W:f.u.Q.M=$p(c,W,f.u.Q.p)}break;
case cm:f.u.s.M=$p(c,Kl,f.u.s.p);break;case Gl:f.u.F.M=$p(c,Il,f.u.F.p)}if(Xo(a,"data")){if(d)return Uo(a,"data section ignored"),e();a.nc=1;Y(a);a.b!=Sm&&X(a,"semicolon missing where expected");Y(a);a.B=2;B("Reading data section from "+b+" ...");gq(a)}Cp(a);return e()},uj=exports.mpl_read_data=function(a,b,c){1==a.B||2==a.B||y("mpl_read_data: invalid call sequence");c==s&&y("mpl_read_data: no input specified");a.B=2;B("Reading data section from "+b+" ...");a.nc=1;Qr(a,b,c);Dp(a,"data")&&(Y(a),a.b!=
Sm&&X(a,"semicolon missing where expected"),Y(a));gq(a);Cp(a);B(a.bb+" line"+(1==a.bb?"":"s")+" were read");a.cf=s;return a.B},wj=exports.mpl_generate=function(a,b,c,d){1==a.B||2==a.B||y("mpl_generate: invalid call sequence");a.B=3;a.ve=d;c==s?a.he=function(a){B(a)}:(a.he=c,a.jh=b);a.dd="";for(b=a.vc;b!=s&&!(Or(a,b),a.ib.type==$l);b=b.next);a.ib=b;Rr(a);for(b=a.vc;b!=s;b=b.next)if(b.type==cm){c=b.u.s;for(c=c.M.head;c!=s;c=c.next);}for(b=a.vc;b!=s;b=b.next)if(b.type==Gl){c=b.u.F;for(c=c.M.head;c!=
s;c=c.next){c.value.F.ca=++a.f;for(d=c.value.F.form;d!=s;d=d.next)d.s.ea.value.s.A=-1}}for(b=a.vc;b!=s;b=b.next)if(b.type==cm){c=b.u.s;for(c=c.M.head;c!=s;c=c.next)0!=c.value.s.A&&(c.value.s.A=++a.h)}a.l=Array(1+a.f);for(d=1;d<=a.f;d++)a.l[d]=s;for(b=a.vc;b!=s;b=b.next)if(b.type==Gl){c=b.u.F;for(c=c.M.head;c!=s;c=c.next)d=c.value.F.ca,a.l[d]=c.value.F}for(d=1;d<=a.f;d++);a.e=Array(1+a.h);for(d=1;d<=a.h;d++)a.e[d]=s;for(b=a.vc;b!=s;b=b.next)if(b.type==cm){c=b.u.s;for(c=c.M.head;c!=s;c=c.next)d=c.value.s.A,
0!=d&&(a.e[d]=c.value.s)}for(d=1;d<=a.h;d++);B("Model has been successfully generated");return a.B},xj=exports.mpl_get_prob_name=function(a){return a.Yf},yj=exports.mpl_get_num_rows=function(a){3!=a.B&&y("mpl_get_num_rows: invalid call sequence");return a.f},Hj=exports.mpl_get_num_cols=function(a){3!=a.B&&y("mpl_get_num_cols: invalid call sequence");return a.h},zj=exports.mpl_get_row_name=function(a,b){3!=a.B&&y("mpl_get_row_name: invalid call sequence");1<=b&&b<=a.f||y("mpl_get_row_name: i = "+b+
"; row number out of range");var c=a.l[b].F.name,c=c+Yp("[",a.l[b].ea.v).slice(0,255);255==c.length&&(c=c.slice(0,252)+"...");return c},Oj=exports.mpl_get_row_kind=function(a,b){var c;3!=a.B&&y("mpl_get_row_kind: invalid call sequence");1<=b&&b<=a.f||y("mpl_get_row_kind: i = "+b+"; row number out of range");switch(a.l[b].F.type){case Gl:c=411;break;case Ul:c=Pj;break;case Tl:c=Qj}return c},Aj=exports.mpl_get_row_bnds=function(a,b,c){var d;3!=a.B&&y("mpl_get_row_bnds: invalid call sequence");1<=b&&
b<=a.f||y("mpl_get_row_bnds: i = "+b+"; row number out of range");d=a.l[b];a=d.F.N==s?-u:d.N;b=d.F.U==s?+u:d.U;a==-u&&b==+u?(d=Bj,a=b=0):b==+u?(d=Cj,b=0):a==-u?(d=Dj,a=0):d=d.F.N!=d.F.U?Ej:Fj;c(a,b);return d},Nj=exports.mpl_get_mat_row=function(a,b,c,d){var e=0;3!=a.B&&y("mpl_get_mat_row: invalid call sequence");1<=b&&b<=a.f||y("mpl_get_mat_row: i = "+b+"; row number out of range");for(a=a.l[b].form;a!=s;a=a.next)e++,c!=s&&(c[e]=a.s.A),d!=s&&(d[e]=a.t);return e},Gj=exports.mpl_get_row_c0=function(a,
b){var c;3!=a.B&&y("mpl_get_row_c0: invalid call sequence");1<=b&&b<=a.f||y("mpl_get_row_c0: i = "+b+"; row number out of range");c=a.l[b];return c.F.N==s&&c.F.U==s?-c.N:0},Ij=exports.mpl_get_col_name=function(a,b){3!=a.B&&y("mpl_get_col_name: invalid call sequence");1<=b&&b<=a.h||y("mpl_get_col_name: j = "+b+"; column number out of range");var c=a.e[b].s.name,c=c+Yp("[",a.e[b].ea.v);255==c.length&&(c=c.slice(0,252)+"...");return c},Jj=exports.mpl_get_col_kind=function(a,b){var c;3!=a.B&&y("mpl_get_col_kind: invalid call sequence");
1<=b&&b<=a.h||y("mpl_get_col_kind: j = "+b+"; column number out of range");switch(a.e[b].s.type){case S:c=421;break;case Rl:c=Kj;break;case El:c=Lj}return c},Mj=exports.mpl_get_col_bnds=function(a,b,c){var d;3!=a.B&&y("mpl_get_col_bnds: invalid call sequence");1<=b&&b<=a.h||y("mpl_get_col_bnds: j = "+b+"; column number out of range");d=a.e[b];a=d.s.N==s?-u:d.N;b=d.s.U==s?+u:d.U;a==-u&&b==+u?(d=Bj,a=b=0):b==+u?(d=Cj,b=0):a==-u?(d=Dj,a=0):d=d.s.N!=d.s.U?Ej:Fj;c(a,b);return d},Sj=exports.mpl_has_solve_stmt=
function(a){3!=a.B&&y("mpl_has_solve_stmt: invalid call sequence");return a.Nb},Tj=exports.mpl_put_row_soln=function(a,b,c,d,e){a.l[b].m=c;a.l[b].q=d;a.l[b].H=e},Uj=exports.mpl_put_col_soln=function(a,b,c,d,e){a.e[b].m=c;a.e[b].q=d;a.e[b].H=e},Vj=exports.mpl_postsolve=function(a){(3!=a.B||a.Of)&&y("mpl_postsolve: invalid call sequence");var b;a.Of=1;for(b=a.ib;b!=s;b=b.next)Or(a,b);a.ib=s;Rr(a);B("Model has been successfully processed");return a.B},kr="Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),
jr="January February March April May June July August September October November December".split(" ");function nr(a){for(var b="";0<a;)b+="^",a--;return b}function ir(a,b,c,d,e,f){B("Input string passed to str2time:");B(b);B(nr(c+1));B("Format string passed to str2time:\n");B(d);B(nr(e+1));X(a,f)}function lr(a){return(a+Al(1,1,1970))%7+1}
function mr(a){a=Al(1,1,a)-Al(1,1,1970);switch(lr(a)){case 1:a+=0;break;case 2:a-=1;break;case 3:a-=2;break;case 4:a-=3;break;case 5:a+=3;break;case 6:a+=2;break;case 7:a+=1}lr(a);return a}var Sr={};function Pr(a,b){var c=a.Mc,d=Sr[c.a[1].toLowerCase()];d?c.link=new d(c,b,a.ve):X(a,"Invalid table driver '"+c.a[1]+"'");c.link==s&&X(a,"error on opening table "+a.ib.u.nd.name)}var Tr=exports.mpl_tab_drv_register=function(a,b){Sr[a.toLowerCase()]=b};
function Ur(a,b,c){this.mode=b;this.Ca=s;this.count=0;this.k="\n";this.Gb=0;this.field="";this.Wa=0;this.Na=[];this.ve=c;this.ng=0;this.Ae=1;this.og=2;this.Be=3;2>tr(a)&&y("csv_driver: file name not specified\n");this.Ca=ur(a,2);if("R"==b){c?(this.data=c(a.a,b),this.cursor=0):y("csv_driver: unable to open "+this.Ca);this.Eg=0;for(Vr(this);;){Vr(this);if(this.Gb==this.Ae)break;this.Gb!=this.Be&&y(this.Ca+":"+this.count+": invalid field name\n");this.Wa++;for(b=vr(a);1<=b&&wr(a,b)!=this.field;b--);
this.Na[this.Wa]=b}for(b=vr(a);1<=b&&"RECNO"!=wr(a,b);b--);this.Na[0]=b}else if("W"==b){this.data="";c=vr(a);for(b=1;b<=c;b++)this.data+=wr(a,b)+(b<c?",":"\n");this.count++}}
function Vr(a){if(-1==a.k)a.Gb=a.ng,a.field="EOF";else if("\n"==a.k){if(a.Gb=a.Ae,a.field="EOR",Wr(a),","==a.k&&y(a.Ca+":"+a.count+": empty field not allowed\n"),"\n"==a.k&&y(a.Ca+":"+a.count+": empty record not allowed\n"),"#"==a.k&&1==a.count)for(;"#"==a.k;){for(;"\n"!=a.k;)Wr(a);Wr(a);a.Eg++}}else if(","==a.k&&Wr(a),"'"==a.k||'"'==a.k){var b=a.k;a.field="";a.Gb=a.Be;for(Wr(a);;){if(a.k==b&&(Wr(a),a.k!=b))if(","==a.k||"\n"==a.k)break;else y(a.Ca+":"+a.count+": invalid field");a.field+=a.k;Wr(a)}0==
a.field.length&&y(a.Ca+":"+a.count+": empty field not allowed")}else{a.field="";for(a.Gb=a.og;!(","==a.k||"\n"==a.k);)("'"==a.k||'"'==a.k)&&y(a.Ca+":"+a.count+": invalid use of single or double quote within field"),a.field+=a.k,Wr(a);0==a.field.length&&y(a.Ca+":"+a.count+": empty field not allowed");yl(a.field,function(){})&&(a.Gb=a.Be)}}
function Wr(a){var b;for("\n"==a.k&&a.count++;;)if(b=a.cursor<a.data.length?a.data[a.cursor++]:-1,"\r"!=b){"\n"!=b&&Ea(b)&&y(a.Ca+":"+a.count+": invalid control character "+b);break}a.k=b}
Ur.prototype.readRecord=function(a){var b;0<this.Na[0]&&Ar(a,this.Na[0],this.count-this.Eg-1);for(b=1;b<=this.Wa;b++){Vr(this);if(this.Gb==this.ng)return-1;if(this.Gb==this.Ae){var c=this.Wa-b+1;1==c?y(this.Ca+":"+this.count+": one field missing"):y(this.Ca+":"+this.count+": "+c+" fields missing")}else if(this.Gb==this.og){if(0<this.Na[b]){var d=0;yl(this.field,function(a){d=a});Ar(a,this.Na[b],d)}}else this.Gb==this.Be&&0<this.Na[b]&&Br(a,this.Na[b],this.field)}Vr(this);this.Gb!=this.Ae&&y(this.Ca+
":"+this.count+": too many fields");return 0};Ur.prototype.writeRecord=function(a){var b,c,d,e;c=vr(a);for(b=1;b<=c;b++){switch(xr(a,b)){case "N":this.data+=yr(a,b);break;case "S":this.data+='"';d=zr(a,b);for(e=0;d.length>e;e++)this.data='"'==d[e]?this.data+'""':this.data+d[e];this.data+='"'}this.data+=b<c?",":"\n"}this.count++;return 0};Ur.prototype.flush=function(a){this.ve(a.a,this.mode,this.data)};Tr("CSV",Ur);
function Xr(a,b,c){this.mode=b;this.Ca=s;2>tr(a)&&y("json driver: file name not specified");this.Ca=ur(a,2);if("R"==b){this.Na={};c?(this.data=c(a.a,b),"string"==typeof this.data&&(this.data=JSON.parse(this.data)),this.cursor=1):y("json driver: unable to open "+this.Ca);a=0;for(b=this.data[0];a<b.length;a++)this.Na[b[a]]=a}else if("W"==b){this.ve=c;c=[];this.data=[c];var d=vr(a);for(b=1;b<=d;b++)c.push(wr(a,b))}}
Xr.prototype.writeRecord=function(a){var b,c=vr(a),d=[];for(b=1;b<=c;b++)switch(xr(a,b)){case "N":d.push(yr(a,b));break;case "S":d.push(zr(a,b))}this.data.push(d);return 0};Xr.prototype.readRecord=function(a){var b=this.data[this.cursor++];if(b==s)return-1;for(var c=1;c<=vr(a);c++){var d=this.Na[wr(a,c)];if(d!=s)switch(d=b[d],typeof d){case "number":Ar(a,c,d);break;case "boolean":Ar(a,c,Number(d));break;case "string":Br(a,c,d);break;default:y("Unexpected data type "+d+" in "+this.Ca)}}return 0};
Xr.prototype.flush=function(a){this.ve(a.a,this.mode,this.data)};Tr("JSON",Xr);function Yf(){var a={Zb:0};a.xc=a.gh=a.hh=0;a.name=a.eb=s;a.fa=0;a.ee=a.de=0;a.Cb=a.Pc=s;a.Jb=a.td=s;a.top=s;a.f=a.h=a.K=0;a.uf=a.Sd=s;a.ba=a.ue=0;a.nf=a.xg=a.Kg=a.zg=0;a.ja=s;a.ya=s;a.ia=s;a.Pa=s;return a}function Yr(a,b,c){0==c?(b.aa=s,b.next=a.Cb,b.next==s?a.Pc=b:b.next.aa=b,a.Cb=b):(b.aa=a.Pc,b.next=s,b.aa==s?a.Cb=b:b.aa.next=b,a.Pc=b)}
function Zr(a,b){b.aa==s?a.Cb=b.next:b.aa.next=b.next;b.next==s?a.Pc=b.aa:b.next.aa=b.aa}function $r(a,b){b.ha||(b.ha=1,Zr(a,b),Yr(a,b,0))}function as(a,b,c){0==c?(b.aa=s,b.next=a.Jb,b.next==s?a.td=b:b.next.aa=b,a.Jb=b):(b.aa=a.td,b.next=s,b.aa==s?a.Jb=b:b.aa.next=b,a.td=b)}function bs(a,b){b.aa==s?a.Jb=b.next:b.aa.next=b.next;b.next==s?a.td=b.aa:b.next.aa=b.aa}function cs(a,b){b.ha||(b.ha=1,bs(a,b),as(a,b,0))}
function Ii(a){var b={};b.ca=++a.ee;b.name=s;b.c=-u;b.d=+u;b.j=s;b.ha=0;Yr(a,b,1);return b}function Ki(a){var b={};b.A=++a.de;b.name=s;b.Ra=0;b.c=b.d=b.t=0;b.j=s;b.ha=0;b.pb={};b.tb={};as(a,b,1);return b}function Ji(a,b,c){var d={};d.l=a;d.e=b;d.i=c;d.sa=s;d.z=a.j;d.pa=s;d.G=b.j;d.z!=s&&(d.z.sa=d);d.G!=s&&(d.G.pa=d);a.j=b.j=d}function Hi(a,b){var c;c={};c.Zd=b;c.info={};c.link=a.top;a.top=c;return c.info}
function Oi(a){for(var b;a.j!=s;)b=a.j,a.j=b.z,b.pa==s?b.e.j=b.G:b.pa.G=b.G,b.G!=s&&(b.G.pa=b.pa)}function ds(a,b){for(var c;b.j!=s;)c=b.j,b.j=c.G,c.sa==s?c.l.j=c.z:c.sa.z=c.z,c.z!=s&&(c.z.sa=c.sa);bs(a,b)}
function Zf(a,b,c){var d=od,e=od,f=b.f,g=b.h,l,j,k;a.Zb=b.dir;a.Zb==Va?k=1:a.Zb==ub&&(k=-1);a.xc=f;a.gh=g;a.hh=b.K;d&&b.name!=s&&(a.name=b.name);d&&b.eb!=s&&(a.eb=b.eb);a.fa=k*b.fa;l=Array(1+f);for(j=1;j<=f;j++){var m=b.l[j],n;l[j]=n=Ii(a);d&&m.name!=s&&(n.name=m.name);if(e){var p=m.ka;m.type==Wb?(n.c=-u,n.d=+u):m.type==xc?(n.c=m.c*p,n.d=+u):m.type==yc?(n.c=-u,n.d=m.d*p):m.type==R?(n.c=m.c*p,n.d=m.d*p):m.type==G&&(n.c=n.d=m.c*p)}else m.type==Wb?(n.c=-u,n.d=+u):m.type==xc?(n.c=m.c,n.d=+u):m.type==
yc?(n.c=-u,n.d=m.d):m.type==R?(n.c=m.c,n.d=m.d):m.type==G&&(n.c=n.d=m.c)}for(f=1;f<=g;f++)if(n=b.e[f],j=Ki(a),d&&n.name!=s&&(j.name=n.name),c==Fi&&(j.Ra=Number(n.Da==gh)),e){m=n.ta;n.type==Wb?(j.c=-u,j.d=+u):n.type==xc?(j.c=n.c/m,j.d=+u):n.type==yc?(j.c=-u,j.d=n.d/m):n.type==R?(j.c=n.c/m,j.d=n.d/m):n.type==G&&(j.c=j.d=n.c/m);j.t=k*n.t*m;for(n=n.j;n!=s;n=n.G)Ji(l[n.l.ca],j,n.l.ka*n.i*m)}else{n.type==Wb?(j.c=-u,j.d=+u):n.type==xc?(j.c=n.c,j.d=+u):n.type==yc?(j.c=-u,j.d=n.d):n.type==R?(j.c=n.c,j.d=n.d):
n.type==G&&(j.c=j.d=n.c);j.t=k*n.t;for(n=n.j;n!=s;n=n.G)Ji(l[n.l.ca],j,n.i)}a.ba=c;a.ue=e}
function dg(a,b){var c,d,e,f,g,l,j;pd(b);pb(b,a.name);qb(b,a.eb);vb(b,a.Zb);a.Zb==Va?l=1:a.Zb==ub&&(l=-1);Lc(b,0,l*a.fa);for(c=a.Cb;c!=s;c=c.next)c.ha=e=cc(b,1),oc(b,e,c.name),d=c.c==-u&&c.d==+u?Wb:c.d==+u?xc:c.c==-u?yc:c.c!=c.d?R:G,Fc(b,e,d,c.c,c.d);g=new Int32Array(1+b.f);j=new Float64Array(1+b.f);for(c=a.Jb;c!=s;c=c.next){e=nc(b,1);vc(b,e,c.name);ih(b,e,c.Ra?gh:dc);d=c.c==-u&&c.d==+u?Wb:c.d==+u?xc:c.c==-u?yc:c.c!=c.d?R:G;Gc(b,e,d,c.c,c.d);Lc(b,e,l*c.t);f=0;for(d=c.j;d!=s;d=d.G)f++,g[f]=d.l.ha,
j[f]=d.i;Xc(b,e,f,g,j)}a.f=b.f;a.h=b.h;a.K=b.K;a.uf=new Int32Array(1+a.f);a.Sd=new Int32Array(1+a.h);c=a.Cb;for(e=0;c!=s;c=c.next)a.uf[++e]=c.ca;c=a.Jb;for(e=0;c!=s;c=c.next)a.Sd[++e]=c.A;a.name=a.eb=s;a.fa=0;a.Cb=a.Pc=s;a.Jb=a.td=s}
function Jf(a,b){var c,d,e,f;a.Zb==Va?d=1:a.Zb==ub&&(d=-1);a.ba==$f?(a.nf=b.la,a.xg=b.qa):a.ba==Rj?a.Kg=b.df:a.ba==Fi&&(a.zg=b.xa);if(a.ba==$f){a.ja==s&&(a.ja=new Int8Array(1+a.ee));for(f=1;f<=a.ee;f++)a.ja[f]=0;a.ia==s&&(a.ia=new Int8Array(1+a.de));for(c=1;c<=a.de;c++)a.ia[c]=0}a.Pa==s&&(a.Pa=new Float64Array(1+a.de));for(c=1;c<=a.de;c++)a.Pa[c]=u;if(a.ba!=Fi){a.ya==s&&(a.ya=new Float64Array(1+a.ee));for(f=1;f<=a.ee;f++)a.ya[f]=u}if(a.ba==$f){for(f=1;f<=a.f;f++)c=b.l[f],e=a.uf[f],a.ja[e]=c.m,a.ya[e]=
d*c.H;for(c=1;c<=a.h;c++)d=b.e[c],e=a.Sd[c],a.ia[e]=d.m,a.Pa[e]=d.q}else if(a.ba==Rj){for(f=1;f<=a.f;f++)c=b.l[f],e=a.uf[f],a.ya[e]=d*c.mc;for(c=1;c<=a.h;c++)d=b.e[c],e=a.Sd[c],a.Pa[e]=d.cc}else if(a.ba==Fi)for(c=1;c<=a.h;c++)d=b.e[c],e=a.Sd[c],a.Pa[e]=d.Sa;for(e=a.top;e!=s;e=e.link)e.Zd(a,e.info)}
function Wf(a,b){var c,d,e,f;a.Zb==Va?e=1:a.Zb==ub&&(e=-1);if(a.ba==$f){b.valid=0;b.la=a.nf;b.qa=a.xg;b.Z=b.fa;b.some=0;for(d=1;d<=b.f;d++)c=b.l[d],c.m=a.ja[d],c.H=a.ue?e*a.ya[d]*c.ka:e*a.ya[d],c.m==E?c.H=0:c.m==J?c.q=c.c:c.m==Ec?c.q=c.d:c.m==wc?c.q=0:c.m==mc&&(c.q=c.c);for(d=1;d<=b.h;d++)c=b.e[d],c.m=a.ia[d],c.q=a.ue?a.Pa[d]*c.ta:a.Pa[d],c.m==E?c.H=0:c.m==J?c.q=c.c:c.m==Ec?c.q=c.d:c.m==wc?c.q=0:c.m==mc&&(c.q=c.c),b.Z+=c.t*c.q;for(d=1;d<=b.f;d++)if(c=b.l[d],c.m==E){f=0;for(e=c.j;e!=s;e=e.z)f+=e.i*
e.e.q;c.q=f}for(d=1;d<=b.h;d++)if(c=b.e[d],c.m!=E){f=c.t;for(e=c.j;e!=s;e=e.G)f-=e.i*e.l.H;c.H=f}}else if(a.ba==Rj){b.df=a.Kg;b.ae=b.fa;for(d=1;d<=b.f;d++)c=b.l[d],c.mc=a.ue?e*a.ya[d]*c.ka:e*a.ya[d];for(d=1;d<=b.h;d++)c=b.e[d],c.cc=a.ue?a.Pa[d]*c.ta:a.Pa[d],b.ae+=c.t*c.cc;for(d=1;d<=b.f;d++){c=b.l[d];f=0;for(e=c.j;e!=s;e=e.z)f+=e.i*e.e.cc;c.cc=f}for(d=1;d<=b.h;d++){c=b.e[d];f=c.t;for(e=c.j;e!=s;e=e.G)f-=e.i*e.l.mc;c.mc=f}}else if(a.ba==Fi){b.xa=a.zg;b.ra=b.fa;for(d=1;d<=b.h;d++)c=b.e[d],c.Sa=a.Pa[d],
b.ra+=c.t*c.Sa;for(d=1;d<=b.f;d++){c=b.l[d];f=0;for(e=c.j;e!=s;e=e.z)f+=e.i*e.e.Sa;c.Sa=f}}}function es(a,b){Hi(a,function(a,b){a.ba==$f&&(a.ja[b.r]=E);a.ba!=Fi&&(a.ya[b.r]=0);return 0}).r=b.ca;Oi(b);Zr(a,b)}
function Gi(a,b){var c,d;c=Hi(a,function(a,b){if(a.ba==$f)if(a.ia[b.C]==E||a.ia[b.C]==J||a.ia[b.C]==Ec)a.ia[b.C]=a.ia[b.C];else return 1;a.Pa[b.C]=b.Ng+a.Pa[b.C];return 0});c.C=b.A;c.Ng=b.c;a.fa+=b.t*b.c;for(d=b.j;d!=s;d=d.G)c=d.l,c.c==c.d?c.d=c.c-=d.i*b.c:(c.c!=-u&&(c.c-=d.i*b.c),c.d!=+u&&(c.d-=d.i*b.c));b.d!=+u&&(b.d-=b.c);b.c=0}
function fs(a,b){var c,d;c=Hi(a,function(a,b){a.ba==$f&&(a.ia[b.C]=mc);a.Pa[b.C]=b.oh;return 0});c.C=b.A;c.oh=b.c;a.fa+=b.t*b.c;for(d=b.j;d!=s;d=d.G)c=d.l,c.c==c.d?c.d=c.c-=d.i*b.c:(c.c!=-u&&(c.c-=d.i*b.c),c.d!=+u&&(c.d-=d.i*b.c));ds(a,b)}
function gs(a,b){var c,d,e;d=1E-9+1E-12*Math.abs(b.c);b.d-b.c>d||(Hi(a,function(a,b){if(a.ba==$f)if(a.ja[b.r]==E)a.ja[b.r]=E;else if(a.ja[b.r]==mc)a.ja[b.r]=0<=a.ya[b.r]?J:Ec;else return 1;return 0}).r=b.ca,c=0.5*(b.d+b.c),e=Math.floor(c+0.5),Math.abs(c-e)<=d&&(c=e),b.c=b.d=c)}
function hs(a,b){var c,d,e,f;f=1E-9+1E-12*Math.abs(b.c);if(b.d-b.c>f)return 0;c=Hi(a,function(a,b){var c,d;if(a.ba==$f)if(a.ia[b.C]==E)a.ia[b.C]=E;else if(a.ia[b.C]==mc){d=b.k;for(c=b.j;c!=s;c=c.next)d-=c.i*a.ya[c.Na];a.ia[b.C]=0<=d?J:Ec}else return 1;return 0});c.C=b.A;c.k=b.t;c.j=s;if(a.ba==$f)for(d=b.j;d!=s;d=d.G)e={},e.Na=d.l.ca,e.i=d.i,e.next=c.j,c.j=e;c=0.5*(b.d+b.c);d=Math.floor(c+0.5);Math.abs(c-d)<=f&&(c=d);b.c=b.d=c;return 1}
function is(a,b){var c;if(a.Ra)if(c=Math.floor(b+0.5),1E-5>=Math.abs(b-c))b=c;else return 2;if(a.c!=-u){c=a.Ra?1E-5:1E-5+1E-8*Math.abs(a.c);if(b<a.c-c)return 1;if(b<a.c+0.0010*c)return a.d=a.c,0}if(a.d!=+u){c=a.Ra?1E-5:1E-5+1E-8*Math.abs(a.d);if(b>a.d+c)return 1;if(b>a.d-0.0010*c)return a.c=a.d,0}a.c=a.d=b;return 0}
function js(a,b){var c;a.Ra&&(c=Math.floor(b+0.5),b=1E-5>=Math.abs(b-c)?c:Math.ceil(b));if(a.c!=-u&&(c=a.Ra?0.0010:0.0010+1E-6*Math.abs(a.c),b<a.c+c))return 0;if(a.d!=+u){c=a.Ra?1E-5:1E-5+1E-8*Math.abs(a.d);if(b>a.d+c)return 4;if(b>a.d-0.0010*c)return a.c=a.d,3}c=a.c==-u?2:a.Ra&&b>a.c+0.5?2:b>a.c+0.3*(1+Math.abs(a.c))?2:1;a.c=b;return c}
function ks(a,b){var c;a.Ra&&(c=Math.floor(b+0.5),b=1E-5>=Math.abs(b-c)?c:Math.floor(b));if(a.d!=+u&&(c=a.Ra?0.0010:0.0010+1E-6*Math.abs(a.d),b>a.d-c))return 0;if(a.c!=-u){c=a.Ra?1E-5:1E-5+1E-8*Math.abs(a.c);if(b<a.c-c)return 4;if(b<a.c+0.0010*c)return a.d=a.c,3}c=a.d==+u?2:a.Ra&&b<a.d-0.5?2:b<a.d-0.3*(1+Math.abs(a.d))?2:1;a.d=b;return c}
function ls(a,b){var c,d,e,f,g,l;e=b.j;d=e.e;0<e.i?(g=b.c==-u?-u:b.c/e.i,c=b.d==+u?+u:b.d/e.i):(g=b.d==+u?-u:b.d/e.i,c=b.c==-u?+u:b.c/e.i);if(g==-u)g=0;else if(g=js(d,g),4==g)return 4;if(c==+u)l=0;else if(3==g)l=0;else if(l=ks(d,c),4==l)return 4;if(!g&&!l)return b.c=-u,b.d=+u,es(a,b),0;c=Hi(a,function(a,b){var c,d;if(a.ba==Fi)return 0;d=b.k;for(c=b.j;c!=s;c=c.next)d-=c.i*a.ya[c.Na];if(a.ba==$f){c=function(){b.Vf?(a.ja[b.r]=0<b.Ba?J:Ec,a.ia[b.C]=E,a.ya[b.r]=d/b.Ba):(a.ja[b.r]=E,a.ya[b.r]=0);return 0};
var e=function(){b.gg?(a.ja[b.r]=0<b.Ba?Ec:J,a.ia[b.C]=E,a.ya[b.r]=d/b.Ba):(a.ja[b.r]=E,a.ya[b.r]=0);return 0};if(a.ia[b.C]==E)a.ja[b.r]=E,a.ya[b.r]=0;else if(a.ia[b.C]==J)c();else if(a.ia[b.C]==Ec)e();else if(a.ia[b.C]==mc){if(1E-7<d&&(0<b.Ba&&b.c!=-u||0>b.Ba&&b.d!=+u||!b.Vf))return a.ia[b.C]=J,c();if(-1E-7>d&&(0<b.Ba&&b.d!=+u||0>b.Ba&&b.c!=-u||!b.gg))return a.ia[b.C]=Ec,e();if(b.c!=-u&&b.d==+u)a.ja[b.r]=J;else if(b.c==-u&&b.d!=+u)a.ja[b.r]=Ec;else if(b.c!=-u&&b.d!=+u)a.ja[b.r]=b.Ba*a.Pa[b.C]<=0.5*
(b.c+b.d)?J:Ec;else return 1;a.ia[b.C]=E;a.ya[b.r]=d/b.Ba}else return 1}a.ba==Rj&&(a.ya[b.r]=2.220446049250313E-16<d&&b.Vf||-2.220446049250313E-16>d&&b.gg?d/b.Ba:0);return 0});c.r=b.ca;c.C=d.A;c.Ba=e.i;c.k=d.t;c.c=b.c;c.d=b.d;c.Vf=g;c.gg=l;c.j=s;if(a.ba!=Fi)for(d=d.j;d!=s;d=d.G)d!=e&&(f={},f.Na=d.l.ca,f.i=d.i,f.next=c.j,c.j=f);Oi(b);Zr(a,b);return g>=l?g:l}
function ms(a,b){function c(){e.m=J;f.d=f.c}function d(){e.m=Ec;f.c=f.d}var e,f,g,l,j,k;g=b.j;f=g.l;j=f.c;if(j!=-u)for(l=f.j;l!=s;l=l.z)if(l!=g)if(0<l.i){if(l.e.d==+u){j=-u;break}j-=l.i*l.e.d}else{if(l.e.c==-u){j=-u;break}j-=l.i*l.e.c}k=f.d;if(k!=+u)for(l=f.j;l!=s;l=l.z)if(l!=g)if(0<l.i){if(l.e.c==-u){k=+u;break}k-=l.i*l.e.c}else{if(l.e.d==+u){k=+u;break}k-=l.i*l.e.d}l=0<g.i?j==-u?-u:j/g.i:k==+u?-u:k/g.i;j=0<g.i?k==+u?+u:k/g.i:j==-u?+u:j/g.i;if(b.c!=-u&&(k=1E-9+1E-12*Math.abs(b.c),l<b.c-k)||b.d!=
+u&&(k=1E-9+1E-12*Math.abs(b.d),j>b.d+k))return 1;b.c=-u;b.d=+u;e=Hi(a,function(a,b){if(a.ba==$f)if(a.ja[b.r]==E)a.ja[b.r]=E;else if(a.ja[b.r]==mc)a.ja[b.r]=b.m;else return 1;return 0});e.r=f.ca;e.m=-1;g=b.t/g.i;if(2.220446049250313E-16<g)if(f.c!=-u)c();else{if(1E-5<g)return 2;d()}else if(-2.220446049250313E-16>g)if(f.d!=+u)d();else{if(-1E-5>g)return 2;c()}else f.d==+u?c():f.c==-u?d():Math.abs(f.c)<=Math.abs(f.d)?c():d();return 0}
function ns(a,b,c){var d,e=s,f,g,l;d=1;for(g=b.j;g!=s;g=g.z)d<Math.abs(g.i)&&(d=Math.abs(g.i));for(g=b.j;g!=s;g=g.z)if(Math.abs(g.i)<1E-7*d)return 1;d=Hi(a,function(a,b){var c,d,e,f,g;if(a.ba==Fi)return 0;if(a.ba==$f){if(a.ja[b.r]!=E)return 1;for(c=b.j;c!=s;c=c.next){if(a.ia[c.A]!=mc)return 1;a.ia[c.A]=c.m}}for(c=b.j;c!=s;c=c.next){e=c.k;for(d=c.j;d!=s;d=d.next)e-=d.i*a.ya[d.Na];c.k=e}d=s;f=0;for(c=b.j;c!=s;c=c.next)if(e=c.k,g=Math.abs(e/c.jc),c.m==J)0>e&&f<g&&(d=c,f=g);else if(c.m==Ec)0<e&&f<g&&
(d=c,f=g);else return 1;d!=s&&(a.ba==$f&&(a.ja[b.r]=b.m,a.ia[d.A]=E),a.ya[b.r]=d.k/d.jc);return 0});d.r=b.ca;d.m=b.c==b.d?mc:0==c?J:Ec;d.j=s;for(g=b.j;g!=s;g=g.z)if(f=g.e,a.ba!=Fi&&(e={},e.A=f.A,e.m=-1,e.jc=g.i,e.k=f.t,e.j=s,e.next=d.j,d.j=e),0==c&&0>g.i||0!=c&&0<g.i?(a.ba!=Fi&&(e.m=J),f.d=f.c):(a.ba!=Fi&&(e.m=Ec),f.c=f.d),a.ba!=Fi)for(f=f.j;f!=s;f=f.G)f!=g&&(l={},l.Na=f.l.ca,l.i=f.i,l.next=e.j,e.j=l);b.c=-u;b.d=+u;return 0}
function os(a,b,c){a.ba==$f&&(a=Hi(a,function(a,b){if(a.ba!=$f)return 1;a.ja[b.r]=a.ja[b.r]==E?E:b.m;return 0}),a.r=b.ca,a.m=b.d==+u?J:b.c==-u?Ec:b.c!=b.d?0==c?Ec:J:mc);0==c?b.c=-u:1==c&&(b.d=+u)}function Ni(a,b){var c,d,e;d=s;for(c=a.j;c!=s;c=c.z)e={},e.da=b*c.i,e.ic=c.e,e.next=d,d=e;return d}
function ps(a,b,c){var d,e,f;for(d=a;d!=s;d=d.next);e=0;for(d=a;d!=s;d=d.next)if(1!=d.da)if(-1==d.da)e++;else break;if(d==s&&b==1-e)return 1;for(d=a;d!=s;d=d.next)0>d.da&&(b-=d.da);for(d=a;d!=s;d=d.next)if(Math.abs(d.da)>b)return 0;e=s;for(d=a;d!=s;d=d.next)if(e==s||Math.abs(e.da)>Math.abs(d.da))e=d;f=s;for(d=a;d!=s;d=d.next)if(d!=e&&(f==s||Math.abs(f.da)>Math.abs(d.da)))f=d;if(Math.abs(e.da)+Math.abs(f.da)<=b+(0.0010+1E-6*Math.abs(b)))return 0;b=1;for(d=a;d!=s;d=d.next)0<d.da?d.da=1:(d.da=-1,b-=
1);c(b);return 2}function Li(a,b){var c,d,e,f,g=0,l;for(f=0;1>=f;f++){if(0==f){if(b.d==+u)continue;e=Ni(b,1);l=+b.d}else{if(b.c==-u)continue;e=Ni(b,-1);l=-b.c}c=ps(e,l,function(a){l=a});if(1==f&&1==c||2==c){g++;if(b.c==-u||b.d==+u)c=s;else{c=Ii(a);0==f?(c.c=b.c,c.d=+u):(c.c=-u,c.d=b.d);for(d=b.j;d!=s;d=d.z)Ji(c,d.e,d.i)}Oi(b);b.c=-u;for(b.d=l;e!=s;e=e.next)Ji(b,e.ic,e.da);c!=s&&(b=c)}}return g}
function qs(a,b,c){var d,e;for(d=a;d!=s;d=d.next);e=0;for(d=a;d!=s;d=d.next)if(1!=d.da)if(-1==d.da)e++;else break;if(d==s&&b==1-e)return 1;for(d=a;d!=s;d=d.next)0>d.da&&(b-=d.da);if(0.0010>b)return 0;e=1E-9+1E-12*Math.abs(b);for(d=a;d!=s;d=d.next)if(Math.abs(d.da)<b-e)return 0;b=1;for(d=a;d!=s;d=d.next)0<d.da?d.da=1:(d.da=-1,b-=1);c(b);return 2}
function Mi(a,b){var c,d,e,f,g=0,l;for(f=0;1>=f;f++){if(0==f){if(b.c==-u)continue;e=Ni(b,1);l=+b.c}else{if(b.d==+u)continue;e=Ni(b,-1);l=-b.d}c=qs(e,l,function(a){l=a});if(1==f&&1==c||2==c){g++;if(b.c==-u||b.d==+u)c=s;else{c=Ii(a);0==f?(c.c=-u,c.d=b.d):(c.c=b.c,c.d=+u);for(d=b.j;d!=s;d=d.z)Ji(c,d.e,d.i)}Oi(b);b.c=l;for(b.d=+u;e!=s;e=e.next)Ji(b,e.ic,e.da);c!=s&&(b=c)}}return g}
function rs(a,b,c){function d(){for(f=b.j;f!=s;f=g){e=f.e;g=f.z;for(l=e.j;l!=s;l=l.G)$r(a,l.l);fs(a,e)}es(a,b);return 0}var e,f,g,l,j;if(b.j==s){j=a;var k=b;0.0010<k.c||-0.0010>k.d?j=1:(k.c=-u,k.d=+u,es(j,k),j=0);if(0==j)return 0;if(1==j)return bg}if(b.j.z==s)if(e=b.j.e,b.c==b.d){j=a;var k=b,m,n,p;p=k.j;n=p.e;m=is(n,k.c/p.i);if(0!=m)j=m;else{m=Hi(j,function(a,b){var c,d;if(a.ba==$f){if(a.ia[b.C]!=mc)return 1;a.ja[b.r]=mc;a.ia[b.C]=E}if(a.ba!=Fi){d=b.k;for(c=b.j;c!=s;c=c.next)d-=c.i*a.ya[c.Na];a.ya[b.r]=
d/b.Ba}return 0});m.r=k.ca;m.C=n.A;m.Ba=p.i;m.k=n.t;m.j=s;if(j.ba!=Fi)for(p=n.j;p!=s;p=p.G)p.l!=k&&(n={},n.Na=p.l.ca,n.i=p.i,n.next=m.j,m.j=n);Oi(k);Zr(j,k);j=0}if(0==j){for(f=e.j;f!=s;f=f.G)$r(a,f.l);fs(a,e);return 0}if(1==j||2==j)return bg}else{j=ls(a,b);if(0<=j&&3>=j){cs(a,e);if(2<=j)for(f=e.j;f!=s;f=f.G)$r(a,f.l);3==j&&fs(a,e);return 0}if(4==j)return bg}a:{k=j=0;for(m=b.j;m!=s;m=m.z)if(0<m.i){if(m.e.c==-u){k=-u;break}k+=m.i*m.e.c}else{if(m.e.d==+u){k=-u;break}k+=m.i*m.e.d}p=0;for(m=b.j;m!=s;m=
m.z)if(0<m.i){if(m.e.d==+u){p=+u;break}p+=m.i*m.e.d}else{if(m.e.c==-u){p=+u;break}p+=m.i*m.e.c}if(b.c!=-u&&(m=0.0010+1E-6*Math.abs(b.c),b.c-m>p)){j=51;break a}if(b.d!=+u&&(m=0.0010+1E-6*Math.abs(b.d),b.d+m<k)){j=51;break a}b.c!=-u&&(m=1E-9+1E-12*Math.abs(b.c),b.c-m>k&&(j=b.c+m<=p?j|1:j|2));b.d!=+u&&(m=1E-9+1E-12*Math.abs(b.d),b.d+m<p&&(j=b.d-m>=k?j|16:j|32))}if(51==j)return bg;if(0==(j&15))b.c!=-u&&os(a,b,0);else if(1!=(j&15)&&2==(j&15)&&0==ns(a,b,0))return d();if(0==(j&240))b.d!=+u&&os(a,b,1);else if(16!=
(j&240)&&32==(j&240)&&0==ns(a,b,1))return d();if(b.c==-u&&b.d==+u){for(f=b.j;f!=s;f=f.z)cs(a,f.e);es(a,b);return 0}return a.ba==Fi&&c&&0>ss(a,b,1)?bg:0}
function ss(a,b,c){var d,e,f,g,l,j=0,k;l=ia;e=1;for(d=b.j;d!=s;d=d.z)d.e.pb.pb=-u,d.e.tb.tb=+u,e<Math.abs(d.i)&&(e=Math.abs(d.i));g=1E-6*e;if(b.c!=-u){e=s;for(d=b.j;d!=s;d=d.z)if(0<d.i&&d.e.d==+u||0>d.i&&d.e.c==-u)if(e==s)e=d;else{l=aa;break}if(!l){l=b.c;for(d=b.j;d!=s;d=d.z)d!=e&&(l=0<d.i?l-d.i*d.e.d:l-d.i*d.e.c);if(e==s)for(d=b.j;d!=s;d=d.z)d.i>=+g?d.e.pb.pb=d.e.d+l/d.i:d.i<=-g&&(d.e.tb.tb=d.e.c+l/d.i);else e.i>=+g?e.e.pb.pb=l/e.i:e.i<=-g&&(e.e.tb.tb=l/e.i)}}l=ia;if(b.d!=+u){e=s;for(d=b.j;d!=s;d=
d.z)if(0<d.i&&d.e.c==-u||0>d.i&&d.e.d==+u)if(e==s)e=d;else{l=aa;break}if(!l){l=b.d;for(d=b.j;d!=s;d=d.z)d!=e&&(l=0<d.i?l-d.i*d.e.c:l-d.i*d.e.d);if(e==s)for(d=b.j;d!=s;d=d.z)d.i>=+g?d.e.tb.tb=d.e.c+l/d.i:d.i<=-g&&(d.e.pb.pb=d.e.d+l/d.i);else e.i>=+g?e.e.tb.tb=l/e.i:e.i<=-g&&(e.e.pb.pb=l/e.i)}}for(e=b.j;e!=s;){d=e.e;e=e.z;for(g=0;1>=g;g++){f=d.c;k=d.d;if(0==g){if(d.pb.pb==-u)continue;l=js(d,d.pb.pb)}else{if(d.tb.tb==+u)continue;l=ks(d,d.tb.tb)}if(0==l||1==l)d.c=f,d.d=k;else if(2==l||3==l){j++;if(c)for(f=
d.j;f!=s;f=f.G)f.l!=b&&$r(a,f.l);if(3==l){fs(a,d);break}}else if(4==l)return-1}}return j}
function ts(a,b){var c,d,e;if(b.j==s){e=function(){g.m=J;b.d=b.c};var f=function(){g.m=Ec;b.c=b.d},g;0.0010<b.t&&b.c==-u||-0.0010>b.t&&b.d==+u?e=1:(g=Hi(a,function(a,b){a.ba==$f&&(a.ia[b.C]=b.m);return 0}),g.C=b.A,b.c==-u&&b.d==+u?(g.m=wc,b.c=b.d=0):b.d==+u?e():b.c==-u?f():b.c!=b.d?2.220446049250313E-16<=b.t?e():-2.220446049250313E-16>=b.t?f():Math.abs(b.c)<=Math.abs(b.d)?e():f():g.m=mc,fs(a,b),e=0);if(0==e)return 0;if(1==e)return cg}if(b.j.G==s)if(c=b.j.l,f=function(){var e,f,g,m;g=b.j;f=g.l;e=Hi(a,
function(a,b){var c,d;if(a.ba==$f){if(a.ja[b.r]==E||a.ja[b.r]==wc)a.ia[b.C]=a.ja[b.r];else if(a.ja[b.r]==J)a.ia[b.C]=0<b.Ba?Ec:J;else if(a.ja[b.r]==Ec)a.ia[b.C]=0<b.Ba?J:Ec;else return 1;a.ja[b.r]=mc}a.ba!=Fi&&(a.ya[b.r]+=b.k/b.Ba);c=b.qd;for(d=b.j;d!=s;d=d.next)c-=d.i*a.Pa[d.Na];a.Pa[b.C]=c/b.Ba;return 0});e.r=f.ca;e.C=b.A;e.Ba=g.i;e.qd=f.c;e.k=b.t;e.j=s;for(g=f.j;g!=s;g=g.z)g.e!=b&&(m={},m.Na=g.e.A,m.i=g.i,m.next=e.j,e.j=m,g.e.t-=e.k*(g.i/e.Ba));a.fa+=e.k*(e.qd/e.Ba);0<e.Ba?(f.c=b.d==+u?-u:e.qd-
e.Ba*b.d,f.d=b.c==-u?+u:e.qd-e.Ba*b.c):(f.c=b.c==-u?-u:e.qd-e.Ba*b.c,f.d=b.d==+u?+u:e.qd-e.Ba*b.d);ds(a,b);if(c.c==-u&&c.d==+u){for(d=c.j;d!=s;d=d.z)cs(a,d.e);es(a,c)}else $r(a,c);return 0},c.c==c.d){if(!b.Ra)return f()}else if(!b.Ra){e=ms(a,b);if(0==e)return f();if(1!=e&&2==e)return cg}return 0}
function ag(a,b){var c,d,e;for(c=a.Cb;c!=s;c=d)d=c.next,c.c==-u&&c.d==+u&&es(a,c);for(c=a.Cb;c!=s;c=d)d=c.next,c.c!=-u&&(c.d!=+u&&c.c<c.d)&&gs(a,c);for(c=a.Jb;c!=s;c=d)d=c.next,c.c==c.d&&fs(a,c);for(c=a.Jb;c!=s;c=d)d=c.next,c.c!=-u&&(c.d!=+u&&c.c<c.d)&&(e=hs(a,c),0!=e&&1==e&&fs(a,c));for(c=a.Cb;c!=s;c=c.next)c.ha=1;for(c=a.Jb;c!=s;c=c.next)c.ha=1;for(d=1;d;){for(d=0;;){c=a.Cb;if(c==s||!c.ha)break;d=a;e=c;e.ha&&(e.ha=0,Zr(d,e),Yr(d,e,1));c=rs(a,c,b);if(0!=c)return c;d=1}for(;;){c=a.Jb;if(c==s||!c.ha)break;
d=a;e=c;e.ha&&(e.ha=0,bs(d,e),as(d,e,1));c=ts(a,c);if(0!=c)return c;d=1}}if(a.ba==Fi&&!b)for(c=a.Cb;c!=s;c=c.next)if(0>ss(a,c,0))return c=bg;return 0}function us(a){var b,c;b=1;for(c=32;55>=c;b++,c++)a.nb[b]=a.nb[b]-a.nb[c]&2147483647;for(c=1;55>=b;b++,c++)a.nb[b]=a.nb[b]-a.nb[c]&2147483647;a.Qf=54;return a.nb[55]}function vl(){var a={},b;a.nb=Array(56);a.nb[0]=-1;for(b=1;55>=b;b++)a.nb[b]=0;a.Qf=0;rj(a,1);return a}
function rj(a,b){var c,d,e=1;b=d=b-0&2147483647;a.nb[55]=d;for(c=21;c;c=(c+21)%55)a.nb[c]=e,e=d-e&2147483647,b=b&1?1073741824+(b>>1):b>>1,e=e-b&2147483647,d=a.nb[c];us(a);us(a);us(a);us(a);us(a)}function wl(a){return 0<=a.nb[a.Qf]?a.nb[a.Qf--]:us(a)}var nk=1,pk=2,Fk=1,Ck=2,mk=0,Ek=1E-10;function Dk(a,b,c){return(b-1)*a.I+c-b*(b-1)/2}
mk&&(vk=function(a,b){var c=a.h,d=a.Mb,e=a.u,f=a.r,g=a.k,l,j,k,m,n=0;for(l=1;l<=c;l++)for(j=1;j<=c;j++){m=0;for(k=1;k<=c;k++)m+=d[(l-1)*a.I+k]*g[(k-1)*a.I+j];k=f[j];k=l<=k?e[Dk(a,l,k)]:0;m=Math.abs(m-k)/(1+Math.abs(k));n<m&&(n=m)}1E-8<n&&B(b+": dmax = "+n+"; relative error too large")});
function uk(a,b,c,d){a.na<a.h&&y("scf_solve_it: singular matrix");if(b){b=a.h;var e=a.Mb,f=a.u,g=a.r,l=a.ig,j,k,m;for(j=1;j<=b;j++)l[j]=c[g[j]+d];for(j=1;j<=b;j++){k=Dk(a,j,j);m=l[j]/=f[k];g=j+1;for(k++;g<=b;g++,k++)l[g]-=f[k]*m}for(g=1;g<=b;g++)c[g+d]=0;for(j=1;j<=b;j++){m=l[j];g=1;for(k=(j-1)*a.I+1;g<=b;g++,k++)c[g+d]+=e[k]*m}}else{b=a.h;e=a.Mb;f=a.u;l=a.r;j=a.ig;for(var n,g=1;g<=b;g++){n=0;k=1;for(m=(g-1)*a.I+1;k<=b;k++,m++)n+=e[m]*c[k+d];j[g]=n}for(g=b;1<=g;g--){n=j[g];k=b;for(m=Dk(a,g,b);k>g;k--,
m--)n-=f[m]*j[k];j[g]=n/f[m]}for(g=1;g<=b;g++)c[l[g]+d]=j[g]}}
var qg=exports.glp_scale_prob=function(a,b){function c(a,b){var c,d,e;d=1;for(c=a.l[b].j;c!=s;c=c.z)if(e=Math.abs(c.i),e*=c.l.ka*c.e.ta,c.sa==s||d>e)d=e;return d}function d(a,b){var c,d,e;d=1;for(c=a.l[b].j;c!=s;c=c.z)if(e=Math.abs(c.i),e*=c.l.ka*c.e.ta,c.sa==s||d<e)d=e;return d}function e(a,b){var c,d,e;d=1;for(c=a.e[b].j;c!=s;c=c.G)if(e=Math.abs(c.i),e*=c.l.ka*c.e.ta,c.pa==s||d>e)d=e;return d}function f(a,b){var c,d,e;d=1;for(c=a.e[b].j;c!=s;c=c.G)if(e=Math.abs(c.i),e*=c.l.ka*c.e.ta,c.pa==s||d<
e)d=e;return d}function g(a){var b,d,e;for(b=d=1;b<=a.f;b++)if(e=c(a,b),1==b||d>e)d=e;return d}function l(a){var b,c,e;for(b=c=1;b<=a.f;b++)if(e=d(a,b),1==b||c<e)c=e;return c}function j(a){var b,e,f;for(b=e=1;b<=a.f;b++)if(f=d(a,b)/c(a,b),1==b||e<f)e=f;return e}function k(a){var b,c,d;for(b=c=1;b<=a.h;b++)if(d=f(a,b)/e(a,b),1==b||c<d)c=d;return c}b&~(Pi|Qi|Ri|Si|vg)&&y("glp_scale_prob: flags = "+b+"; invalid scaling options");b&vg&&(b=Pi|Qi|Si);a:{var m=b,n=function(a,b,c,d){return a+": min|aij| = "+
b+"  max|aij| = "+c+"  ratio = "+d+""},p,w;B("Scaling...");jf(a);p=g(a);w=l(a);B(n(" A",p,w,w/p));if(0.1<=p&&10>=w&&(B("Problem data seem to be well scaled"),m&Si))break a;if(m&Pi){var r=0,v;w=j(a)>k(a);for(p=1;15>=p;p++){v=r;r=l(a)/g(a);if(1<p&&r>0.9*v)break;v=a;for(var C=w,q=h,z=q=h,D=h,z=0;1>=z;z++)if(z==C)for(q=1;q<=v.f;q++)D=c(v,q)*d(v,q),Qe(v,q,gf(v,q)/Math.sqrt(D));else for(q=1;q<=v.h;q++)D=e(v,q)*f(v,q),Re(v,q,hf(v,q)/Math.sqrt(D))}p=g(a);w=l(a);B(n("GM",p,w,w/p))}if(m&Qi){p=j(a)>k(a);for(w=
0;1>=w;w++)if(w==p)for(v=1;v<=a.f;v++)r=d(a,v),Qe(a,v,gf(a,v)/r);else for(v=1;v<=a.h;v++)r=f(a,v),Re(a,v,hf(a,v)/r);p=g(a);w=l(a);B(n("EQ",p,w,w/p))}if(m&Ri){for(m=1;m<=a.f;m++)Qe(a,m,xl(gf(a,m)));for(m=1;m<=a.h;m++)Re(a,m,xl(hf(a,m)));p=g(a);w=l(a);B(n("2N",p,w,w/p))}}};
function Ef(a,b){function c(a,b,c,d){var e=a.f,f=a.Aa,g=a.za,j=a.Ha;a=a.head[b];if(a<=e)e=1,c[1]=a,d[1]=1;else{b=f[a-e];e=f[a-e+1]-b;ma(c,1,g,b,e);ma(d,1,j,b,e);for(c=1;c<=e;c++)d[c]=-d[c]}return e}function d(a,b,c){var d=a.f,e=a.jb,f=a.jb,g=a.f,j=a.Aa,k=a.za,l=a.Ha,m=a.head,n,p,q;ma(f,1,b,1,g);for(b=1;b<=g;b++)if(q=c[b],0!=q)if(n=m[b],n<=g)f[n]-=q;else{p=j[n-g];for(n=j[n-g+1];p<n;p++)f[k[p]]+=l[p]*q}gj(a.S,e);for(a=1;a<=d;a++)c[a]+=e[a]}function e(a,b,c){var d=a.f,e=a.jb,f=a.jb,g=a.f,j=a.Aa,k=a.za,
l=a.Ha,m=a.head,n,p,q,r;for(n=1;n<=g;n++){p=m[n];r=b[n];if(p<=g)r-=c[p];else{q=j[p-g];for(p=j[p-g+1];q<p;q++)r+=l[q]*c[k[q]]}f[n]=r}ij(a.S,e);for(a=1;a<=d;a++)c[a]+=e[a]}function f(a,b,c){var d=a.f,e=a.De,f=a.Kd,g=a.Ce,j=a.Ee,k;if(c<=d)k=e[c]+f[c]++,g[k]=b,j[k]=1;else{k=a.Aa;var l=a.za;a=a.Ha;var m;m=k[c-d];c=k[c-d+1];for(d=m;d<c;d++)k=l[d],k=e[k]+f[k]++,g[k]=b,j[k]=-a[d]}}function g(a,b){var c=a.c,d=a.d,e=a.m,f,g;f=a.head[a.f+b];switch(e[b]){case J:g=c[f];break;case Ec:g=d[f];break;case wc:g=0;break;
case mc:g=c[f]}return g}function l(a){var b=a.h,c=a.Qa,d=a.Ic,f;f=a.f;var g=a.t,j=a.head,k=a.Hc,l;for(l=1;l<=f;l++)k[l]=g[j[l]];ma(d,1,k,1,f);ij(a.S,d);e(a,k,d);for(f=1;f<=b;f++){g=a.f;l=a.t;k=j=h;j=a.head[g+f];k=l[j];if(j<=g)k-=d[j];else{l=a.Aa;for(var m=a.za,n=a.Ha,p=h,q=h,p=h,p=l[j-g],q=l[j-g+1];p<q;p++)k+=n[p]*d[m[p]]}c[f]=k}}function j(a,b){var c=a.h,d=a.m,e=a.Qa,f=a.oc,g,j,k,l;l=j=0;for(g=1;g<=c;g++){k=e[g];switch(d[g]){case J:if(k>=-b)continue;break;case Ec:if(k<=+b)continue;break;case wc:if(-b<=
k&&k<=+b)continue;break;case mc:continue}k=k*k/f[g];l<k&&(j=g,l=k)}a.C=j}function k(a,b){var c=a.f,d=a.type,e=a.c,f=a.d,g=a.t,k=a.head,j=a.B,l=a.Ga,m=a.C,n=a.xb,p=a.Ua,q=a.rh,r,t,w,x,z,A,C,D,F;C=0<a.Qa[m]?-1:1;r=k[c+m];d[r]==R?(m=-1,t=0,F=f[r]-e[r],z=1):(t=m=0,F=u,z=0);for(w=1;w<=q;w++){c=n[w];r=k[c];x=C*p[c];if(0<x)if(1==j&&0>g[r])A=b*(1+v*Math.abs(e[r])),D=(e[r]+A-l[c])/x,r=J;else if(1==j&&0<g[r])continue;else if(d[r]==yc||d[r]==R||d[r]==G)A=b*(1+v*Math.abs(f[r])),D=(f[r]+A-l[c])/x,r=Ec;else continue;
else if(1==j&&0<g[r])A=b*(1+v*Math.abs(f[r])),D=(f[r]-A-l[c])/x,r=Ec;else if(1==j&&0>g[r])continue;else if(d[r]==xc||d[r]==R||d[r]==G)A=b*(1+v*Math.abs(e[r])),D=(e[r]-A-l[c])/x,r=J;else continue;0>D&&(D=0);if(F>D||F==D&&z<Math.abs(x))m=c,t=r,F=D,z=Math.abs(x)}if(!(0==b||0>=m||0==F)){A=F;t=m=0;F=u;z=0;for(w=1;w<=q;w++){c=n[w];r=k[c];x=C*p[c];if(0<x)if(1==j&&0>g[r])D=(e[r]-l[c])/x,r=J;else if(1==j&&0<g[r])continue;else if(d[r]==yc||d[r]==R||d[r]==G)D=(f[r]-l[c])/x,r=Ec;else continue;else if(1==j&&0<
g[r])D=(f[r]-l[c])/x,r=Ec;else if(1==j&&0>g[r])continue;else if(d[r]==xc||d[r]==R||d[r]==G)D=(e[r]-l[c])/x,r=J;else continue;0>D&&(D=0);D<=A&&z<Math.abs(x)&&(m=c,t=r,F=D,z=Math.abs(x))}}a.r=m;a.nf=0<m&&d[k[m]]==G?mc:t;a.sh=C*F}function m(a){var b=a.f,c=a.h,d=a.t,e=a.eb;a=a.$a;var f;for(f=1;f<=b;f++)d[f]=0;for(f=1;f<=c;f++)d[b+f]=a*e[f]}function n(a,b){var c=a.f,d=a.type,e=a.c,f=a.d,g=a.t,j=a.head,k=a.B,l=a.Ga,m,n,p;for(m=1;m<=c;m++)if(n=j[m],1==k&&0>g[n]){if(p=b*(1+v*Math.abs(e[n])),l[m]>e[n]+p)return 1}else if(1==
k&&0<g[n]){if(p=b*(1+v*Math.abs(f[n])),l[m]<f[n]-p)return 1}else{if(d[n]==xc||d[n]==R||d[n]==G)if(p=b*(1+v*Math.abs(e[n])),l[m]<e[n]-p)return 1;if(d[n]==yc||d[n]==R||d[n]==G)if(p=b*(1+v*Math.abs(f[n])),l[m]>f[n]+p)return 1}return 0}function p(a){var b=a.f,c=a.h,d=a.eb,e=a.head,f=a.Ga,j,k,l;l=d[0];for(j=1;j<=b;j++)k=e[j],k>b&&(l+=d[k-b]*f[j]);for(f=1;f<=c;f++)k=e[b+f],k>b&&(l+=d[k-b]*g(a,f));return l}function w(a,b,c){var d=a.f,e=a.type,f=a.c,g=a.d,k=a.B,j=a.head,l=a.Ga,m,n;if(!(b.n<pg)&&!(0<b.fb&&
1E3*sa(a.gc)<b.fb)&&a.X!=a.be&&(c||0==a.X%b.ac)){m=n=0;for(b=1;b<=d;b++){c=j[b];if(e[c]==xc||e[c]==R||e[c]==G)l[b]<f[c]&&(n+=f[c]-l[b]);if(e[c]==yc||e[c]==R||e[c]==G)l[b]>g[c]&&(n+=l[b]-g[c]);e[c]==G&&m++}B((1==k?" ":"*")+a.X+": obj = "+p(a)+"  infeas = "+n+" ("+m+")");a.be=a.X}}function r(a,b,c,d,e){var f=a.f,g=a.h,k=a.$a,j=a.head,l=a.m,m=a.Ga,n=a.Qa;b.valid=1;a.valid=0;b.S=a.S;a.S=s;ma(b.head,1,j,1,f);b.la=c;b.qa=d;b.Z=p(a);b.X=a.X;b.some=e;for(a=1;a<=f;a++)c=j[a],c<=f?(c=b.l[c],c.m=E,c.bind=a,
c.q=m[a]/c.ka):(c=b.e[c-f],c.m=E,c.bind=a,c.q=m[a]*c.ta),c.H=0;for(m=1;m<=g;m++)if(c=j[f+m],c<=f){c=b.l[c];c.m=l[m];c.bind=0;switch(l[m]){case J:c.q=c.c;break;case Ec:c.q=c.d;break;case wc:c.q=0;break;case mc:c.q=c.c}c.H=n[m]*c.ka/k}else{c=b.e[c-f];c.m=l[m];c.bind=0;switch(l[m]){case J:c.q=c.c;break;case Ec:c.q=c.d;break;case wc:c.q=0;break;case mc:c.q=c.c}c.H=n[m]/c.ta/k}}var v=0.1,C=2,q=0,z=0,D=0,H,O,I,K=a.f,t=a.h,F=a.K,x={};x.f=K;x.h=t;x.type=new Int8Array(1+K+t);x.c=new Float64Array(1+K+t);x.d=
new Float64Array(1+K+t);x.t=new Float64Array(1+K+t);x.eb=new Float64Array(1+t);x.Aa=new Int32Array(1+t+1);x.za=new Int32Array(1+F);x.Ha=new Float64Array(1+F);x.head=new Int32Array(1+K+t);x.m=new Int8Array(1+t);x.De=new Int32Array(1+K+1);x.Kd=new Int32Array(1+K);x.Ce=s;x.Ee=s;x.Ga=new Float64Array(1+K);x.Qa=new Float64Array(1+t);x.hd=new Int8Array(1+K+t);x.oc=new Float64Array(1+t);x.xb=new Int32Array(1+K);x.Ua=new Float64Array(1+K);x.Ub=new Int32Array(1+t);x.mb=new Float64Array(1+t);x.jb=new Float64Array(1+
K);x.Hc=new Float64Array(1+K);x.Ic=new Float64Array(1+K);x.jg=new Float64Array(1+K);var M=x.f,L=x.h,T=x.type,A=x.c,N=x.d,P=x.t,za=x.eb,ua=x.Aa,va=x.za,ka=x.Ha,ec=x.head,Ce=x.m,Se=x.hd,Te=x.oc,wb,Ja,td,Pd,Hc,ha,ba;for(wb=1;wb<=M;wb++)ha=a.l[wb],T[wb]=ha.type,A[wb]=ha.c*ha.ka,N[wb]=ha.d*ha.ka,P[wb]=0;for(Ja=1;Ja<=L;Ja++)ba=a.e[Ja],T[M+Ja]=ba.type,A[M+Ja]=ba.c/ba.ta,N[M+Ja]=ba.d/ba.ta,P[M+Ja]=ba.t*ba.ta;za[0]=a.fa;ma(za,1,P,M+1,L);Hc=0;for(Ja=1;Ja<=L;Ja++)Hc<Math.abs(za[Ja])&&(Hc=Math.abs(za[Ja]));0==
Hc&&(Hc=1);switch(a.dir){case Va:x.$a=1/Hc;break;case ub:x.$a=-1/Hc}1>Math.abs(x.$a)&&(x.$a*=1E3);for(Ja=Pd=1;Ja<=L;Ja++){ua[Ja]=Pd;for(var ga=a.e[Ja].j;ga!=s;ga=ga.G)va[Pd]=ga.l.ca,ka[Pd]=ga.l.ka*ga.i*ga.e.ta,Pd++}ua[L+1]=Pd;ma(ec,1,a.head,1,M);td=0;for(wb=1;wb<=M;wb++)ha=a.l[wb],ha.m!=E&&(td++,ec[M+td]=wb,Ce[td]=ha.m);for(Ja=1;Ja<=L;Ja++)ba=a.e[Ja],ba.m!=E&&(td++,ec[M+td]=M+Ja,Ce[td]=ba.m);x.valid=1;a.valid=0;x.S=a.S;a.S=s;var Nb=x.f,eb=x.h,V=x.Aa,Ab=x.za,ca=x.De,Xb=x.Kd,Ob,wa,Fa,zc,Fb;for(Ob=1;Ob<=
Nb;Ob++)Xb[Ob]=1;for(wa=1;wa<=eb;wa++){Fa=V[wa];zc=V[wa+1];for(Fb=Fa;Fb<zc;Fb++)Xb[Ab[Fb]]++}for(Ob=ca[1]=1;Ob<=Nb;Ob++)Xb[Ob]>eb&&(Xb[Ob]=eb),ca[Ob+1]=ca[Ob]+Xb[Ob];x.Ce=new Int32Array(ca[Nb+1]);x.Ee=new Float64Array(ca[Nb+1]);var $c=x.f,Ic=x.h,De=x.head,ad=x.m,fe,bd;na(x.Kd,1,0,$c);for(fe=1;fe<=Ic;fe++)ad[fe]!=mc&&(bd=De[$c+fe],f(x,fe,bd));x.B=0;x.gc=ra();x.Sf=x.X=a.X;x.be=-1;x.Qb=0;na(Se,1,0,M+L);for(Ja=1;Ja<=L;Ja++)Te[Ja]=1;for(b.n>=zg&&B("Objective scale factor = "+x.$a+"");;){if(0==C){var ab=
x,fa=Zi(ab.S,ab.f,c,ab);ab.valid=0==fa;I=fa;if(0!=I)return b.n>=qf&&(B("Error: unable to factorize the basis matrix ("+I+")"),B("Sorry, basis recovery procedure not implemented yet")),a.S=x.S,x.S=s,a.la=a.qa=db,a.Z=0,a.X=x.X,a.some=0,I=Hf;C=x.valid=1;q=z=0}if(0==q){for(var qa=x,Q=x.Ga,Qd=qa.f,Ng=qa.h,Wa=qa.Aa,Jc=qa.za,Yb=qa.Ha,eg=qa.head,ge=qa.Hc,Xa=h,Ha=h,he=h,xa=h,bb=h,Gb=h,rb=h,Xa=1;Xa<=Qd;Xa++)ge[Xa]=0;for(Ha=1;Ha<=Ng;Ha++)if(he=eg[Qd+Ha],rb=g(qa,Ha),0!=rb)if(he<=Qd)ge[he]-=rb;else{xa=Wa[he-Qd];
bb=Wa[he-Qd+1];for(Gb=xa;Gb<bb;Gb++)ge[Jc[Gb]]+=rb*Yb[Gb]}ma(Q,1,ge,1,Qd);gj(qa.S,Q);d(qa,ge,Q);q=1;if(0==x.B){for(var pc=b.Fb,Ac=x.f,qc=x.h,Bb=x.type,Ue=x.c,fb=x.d,Ba=x.t,Pb=x.head,Rd=x.Ga,Bc=h,mb=h,Kc=0,Hb=h,pc=0.9*pc,mb=1;mb<=Ac+qc;mb++)Ba[mb]=0;for(Bc=1;Bc<=Ac;Bc++){mb=Pb[Bc];if(Bb[mb]==xc||Bb[mb]==R||Bb[mb]==G)Hb=pc*(1+v*Math.abs(Ue[mb])),Rd[Bc]<Ue[mb]-Hb&&(Ba[mb]=-1,Kc++);if(Bb[mb]==yc||Bb[mb]==R||Bb[mb]==G)Hb=pc*(1+v*Math.abs(fb[mb])),Rd[Bc]>fb[mb]+Hb&&(Ba[mb]=1,Kc++)}0<Kc?x.B=1:(m(x),x.B=
2);z=0;w(x,b,1)}if(n(x,b.Fb)){b.n>=qf&&B("Warning: numerical instability (primal simplex, phase "+(1==x.B?"I":"II")+")");C=x.B=0;D=5;continue}}var rc;if(rc=1==x.B){var la;a:{for(var Ee=b.Fb,Mc=x.f,gb=x.c,da=x.d,Nc=x.t,Fe=x.head,hb=x.Ga,cb=h,Ta=h,Ib=h,cb=1;cb<=Mc;cb++)if(Ta=Fe[cb],0>Nc[Ta]){if(Ib=Ee*(1+v*Math.abs(gb[Ta])),hb[cb]<gb[Ta]-Ib){la=1;break a}}else if(0<Nc[Ta]&&(Ib=Ee*(1+v*Math.abs(da[Ta])),hb[cb]>da[Ta]+Ib)){la=1;break a}la=0}rc=!la}rc&&(x.B=2,m(x),z=0,w(x,b,1));0==z&&(l(x),z=1);switch(b.fd){case Bg:if(0==
x.Qb){var Ya=x.f,fc=x.h,gc=x.head,ud=x.hd,Sd=x.oc,hc=h,Td=h;x.Qb=1E3;na(ud,1,0,Ya+fc);for(hc=1;hc<=fc;hc++)Td=gc[Ya+hc],ud[Td]=1,Sd[hc]=1}}if(2147483647>b.pc&&x.X-x.Sf>=b.pc){if(1!=q||2==x.B&&1!=z){1!=q&&(q=0);2==x.B&&1!=z&&(z=0);continue}w(x,b,1);b.n>=Xf&&B("ITERATION LIMIT EXCEEDED; SEARCH TERMINATED");switch(x.B){case 1:H=Rh;m(x);l(x);break;case 2:H=fg}j(x,b.sb);O=0==x.C?fg:Rh;r(x,a,H,O,0);return I=ul}if(2147483647>b.rb&&1E3*sa(x.gc)>=b.rb){if(1!=q||2==x.B&&1!=z){1!=q&&(q=0);2==x.B&&1!=z&&(z=0);
continue}w(x,b,1);b.n>=Xf&&B("TIME LIMIT EXCEEDED; SEARCH TERMINATED");switch(x.B){case 1:H=Rh;m(x);l(x);break;case 2:H=fg}j(x,b.sb);O=0==x.C?fg:Rh;r(x,a,H,O,0);return I=Jh}w(x,b,0);j(x,b.sb);if(0==x.C){if(1!=q||1!=z){1!=q&&(q=0);1!=z&&(z=0);continue}w(x,b,1);switch(x.B){case 1:b.n>=Xf&&B("PROBLEM HAS NO FEASIBLE SOLUTION");H=xg;m(x);l(x);j(x,b.sb);O=0==x.C?fg:Rh;break;case 2:b.n>=Xf&&B("OPTIMAL SOLUTION FOUND"),H=O=fg}r(x,a,H,O,0);return I=0}for(var Na=x,Qb=Na.f,Za=Na.xb,Zb=Na.Ua,Cd=Na.Ua,sc=h,Dd=
h,ie=h,Dd=Na.head[Qb+Na.C],sc=1;sc<=Qb;sc++)Cd[sc]=0;if(Dd<=Qb)Cd[Dd]=-1;else for(var ic=Na.Aa,Cc=Na.za,Ra=Na.Ha,Ge=h,je=h,cd=h,Ge=ic[Dd-Qb],je=ic[Dd-Qb+1],cd=Ge;cd<je;cd++)Cd[Cc[cd]]=Ra[cd];gj(Na.S,Zb);ie=0;for(sc=1;sc<=Qb;sc++)0!=Zb[sc]&&(Za[++ie]=sc);Na.Sb=ie;if(D){for(var ib=x,jb=ib.f,Oc=ib.xb,dd=ib.Ua,xb=ib.Ic,jc=h,kc=h,Ed=h,kc=ib.head[jb+ib.C],jc=1;jc<=jb;jc++)xb[jc]=0;if(kc<=jb)xb[kc]=-1;else for(var Pc=ib.Aa,Lb=ib.za,Ve=ib.Ha,Dc=h,Fd=h,nb=h,Dc=Pc[kc-jb],Fd=Pc[kc-jb+1],nb=Dc;nb<Fd;nb++)xb[Lb[nb]]=
Ve[nb];d(ib,xb,dd);Ed=0;for(jc=1;jc<=jb;jc++)0!=dd[jc]&&(Oc[++Ed]=jc);ib.Sb=Ed}for(var Ka=x,yb=b.xe,ea=Ka.Sb,kb=Ka.xb,ob=Ka.Ua,sb=h,Ua=h,Sa=h,U=h,Jb=h,ed=h,U=0,Sa=1;Sa<=ea;Sa++)ed=Math.abs(ob[kb[Sa]]),U<ed&&(U=ed);Ka.qh=U;Jb=yb*(1+0.01*U);for(Ua=0;Ua<ea;)sb=kb[ea],Math.abs(ob[sb])<Jb?ea--:(Ua++,kb[ea]=kb[Ua],kb[Ua]=sb);Ka.rh=Ua;for(var fd=x.Qa[x.C],Cb,ke=x.t,Ud=x.head,Vd=x.Sb,Og=x.xb,vh=x.Ua,gd=h,Kb=h,hd=h,hd=ke[Ud[x.f+x.C]],Kb=1;Kb<=Vd;Kb++)gd=Og[Kb],hd+=ke[Ud[gd]]*vh[gd];Cb=hd;if(Math.abs(fd-Cb)>
1E-5*(1+Math.abs(Cb))||!(0>fd&&0>Cb||0<fd&&0<Cb))if(b.n>=zg&&B("d1 = "+fd+"; d2 = "+Cb+""),1!=z||!D){1!=z&&(z=0);D=5;continue}x.Qa[x.C]=0<fd?0<Cb?Cb:2.220446049250313E-16:0>Cb?Cb:-2.220446049250313E-16;switch(b.ne){case Cg:k(x,0);break;case Dg:k(x,0.3*b.Fb)}if(0==x.r){if(1!=q||1!=z||!D){1!=q&&(q=0);1!=z&&(z=0);D=1;continue}w(x,b,1);switch(x.B){case 1:b.n>=qf&&B("Error: unable to choose basic variable on phase I");a.S=x.S;x.S=s;a.la=a.qa=db;a.Z=0;a.X=x.X;a.some=0;I=Hf;break;case 2:b.n>=Xf&&B("PROBLEM HAS UNBOUNDED SOLUTION"),
r(x,a,fg,xg,x.head[x.f+x.C]),I=0}return I}if(0<x.r){var rf=x.Ua[x.r],gg=1E-5*(1+0.01*x.qh);if(Math.abs(rf)<gg&&(b.n>=zg&&B("piv = "+rf+"; eps = "+gg+""),!D)){D=5;continue}}if(0<x.r){for(var Hd=x.jg,tc=x,We=Hd,hg=tc.f,wh=tc.r,He=h,He=1;He<=hg;He++)We[He]=0;We[wh]=1;ij(tc.S,We);if(D){for(var ig=x,Pg=Hd,Qg=ig.f,Id=ig.r,Rb=ig.Ic,Qc=h,Qc=1;Qc<=Qg;Qc++)Rb[Qc]=0;Rb[Id]=1;e(ig,Rb,Pg)}for(var le=x,Rg=Hd,jg=le.f,Rc=le.h,Kf=le.De,kg=le.Kd,lg=le.Ce,Xe=le.Ee,Ye=le.Ub,Jd=le.mb,vd=h,id=h,Ie=h,sf=h,wd=h,Lf=h,Sg=
h,id=1;id<=Rc;id++)Jd[id]=0;for(vd=1;vd<=jg;vd++)if(Sg=Rg[vd],0!=Sg){Ie=Kf[vd];sf=Ie+kg[vd];for(wd=Ie;wd<sf;wd++)Jd[lg[wd]]-=Sg*Xe[wd]}Lf=0;for(id=1;id<=Rc;id++)0!=Jd[id]&&(Ye[++Lf]=id);le.Cc=Lf}if(0<x.r){var Ze=x.Ua[x.r],Tg=x.mb[x.C];if(Math.abs(Ze-Tg)>1E-8*(1+Math.abs(Ze))||!(0<Ze&&0<Tg||0>Ze&&0>Tg)){b.n>=zg&&B("piv1 = "+Ze+"; piv2 = "+Tg+"");if(1!=C||!D){1!=C&&(C=0);D=5;continue}0==x.mb[x.C]&&(x.Cc++,x.Ub[x.Cc]=x.C);x.mb[x.C]=Ze}}var Ug=x.Ga,mg=x.C,$e=x.Sb,af=x.xb,ng=x.Ua,Wd=x.r,Je=x.sh,tf=h,bf=
h;0<Wd&&(Ug[Wd]=g(x,mg)+Je);if(0!=Je)for(bf=1;bf<=$e;bf++)tf=af[bf],tf!=Wd&&(Ug[tf]+=ng[tf]*Je);q=2;if(0<x.r){for(var xd=x.Qa,me=x.C,og=x.Cc,Mb=x.Ub,yd=x.mb,Ke=h,$a=h,Xd=h,Xd=xd[me]/=yd[me],$a=1;$a<=og;$a++)Ke=Mb[$a],Ke!=me&&(xd[Ke]-=yd[Ke]*Xd);z=2;if(1==x.B){var lc=x.head[x.r];x.Qa[x.C]-=x.t[lc];x.t[lc]=0}}if(0<x.r)switch(b.fd){case Bg:if(0<x.Qb){var Ia=x,ne=Ia.f,Mf=Ia.type,Nf=Ia.Aa,Sc=Ia.za,uf=Ia.Ha,vf=Ia.head,wf=Ia.hd,Sb=Ia.oc,Oa=Ia.C,Tc=Ia.Sb,uc=Ia.xb,jd=Ia.Ua,Yd=Ia.r,Vg=Ia.Cc,Zd=Ia.Ub,Tb=Ia.mb,
$d=Ia.Ic,$b=h,oe=h,cf=h,Uc=h,Of=h,xf=h,kd=h,ld=h,rg=h,zd=h,pe=h,oa=h,ac=h,Pf=h;Ia.Qb--;ld=rg=wf[vf[ne+Oa]]?1:0;for($b=1;$b<=ne;$b++)$d[$b]=0;for(Uc=1;Uc<=Tc;Uc++)$b=uc[Uc],wf[vf[$b]]?($d[$b]=oa=jd[$b],ld+=oa*oa):$d[$b]=0;ij(Ia.S,$d);zd=Tb[Oa];for(Uc=1;Uc<=Vg;Uc++)if(oe=Zd[Uc],oe!=Oa){oa=Tb[oe]/zd;cf=vf[ne+oe];if(cf<=ne)pe=$d[cf];else{pe=0;Of=Nf[cf-ne];xf=Nf[cf-ne+1];for(kd=Of;kd<xf;kd++)pe-=uf[kd]*$d[Sc[kd]]}ac=Sb[oe]+oa*oa*ld+2*oa*pe;Pf=(wf[cf]?1:0)+rg*oa*oa;Sb[oe]=ac>=Pf?ac:Pf;2.220446049250313E-16>
Sb[oe]&&(Sb[oe]=2.220446049250313E-16)}Mf[vf[Yd]]==G?Sb[Oa]=1:(Sb[Oa]=ld/(zd*zd),2.220446049250313E-16>Sb[Oa]&&(Sb[Oa]=2.220446049250313E-16))}}if(0<x.r){var Db=x,tb=x.r,sg=x.head[x.f+x.C],Qf=Db.f,Kd=h,Ld=h;if(sg<=Qf){var Rf=Array(2),Kd=Array(2);Rf[1]=sg;Kd[1]=1;Ld=xk(Db.S,tb,1,Rf,0,Kd)}else{for(var yf=Db.Aa,fi=Db.za,qe=Db.Ha,Kd=Db.jb,re=h,Sf=h,ae=h,zf=h,re=yf[sg-Qf],Sf=yf[sg-Qf+1],zf=0,ae=re;ae<Sf;ae++)Kd[++zf]=-qe[ae];Ld=xk(Db.S,tb,zf,fi,re-1,Kd)}Db.valid=0==Ld;I=Ld;C=0==I?2:x.valid=0}if(0<x.r){var Vc=
x,df=x.C,Tf=x.head[x.f+x.C],Wg=Vc.f,Le=Vc.De,Me=Vc.Kd,bc=Vc.Ce,tg=Vc.Ee,se=h,te=h,be=h;if(Tf<=Wg){for(se=te=Le[Tf];bc[se]!=df;se++);be=te+--Me[Tf];bc[se]=bc[be];tg[se]=tg[be]}else for(var Xg=Vc.Aa,Uf=Vc.za,gi=h,xh=h,ef=h,ug=h,xh=Xg[Tf-Wg],ef=Xg[Tf-Wg+1],ug=xh;ug<ef;ug++){gi=Uf[ug];for(se=te=Le[gi];bc[se]!=df;se++);be=te+--Me[gi];bc[se]=bc[be];tg[se]=tg[be]}x.type[x.head[x.r]]!=G&&f(x,x.C,x.head[x.r])}var hi=x.f,Yg=x.head,Zg=x.m,Af=x.C,$g=x.r,ck=x.nf,Ti=h;if(0>$g)switch(Zg[Af]){case J:Zg[Af]=Ec;break;
case Ec:Zg[Af]=J}else Ti=Yg[$g],Yg[$g]=Yg[hi+Af],Yg[hi+Af]=Ti,Zg[Af]=ck;x.X++;0<D&&D--}}
function Gf(a,b){function c(a,b,c,d){var e=a.f,f=a.Aa,g=a.za,j=a.Ha;a=a.head[b];if(a<=e)e=1,c[1]=a,d[1]=1;else{b=f[a-e];e=f[a-e+1]-b;ma(c,1,g,b,e);ma(d,1,j,b,e);for(c=1;c<=e;c++)d[c]=-d[c]}return e}function d(a,b,c){var d=a.f,e=a.jb,f=a.jb,g=a.f,j=a.Aa,k=a.za,l=a.Ha,m=a.head,n,p,q;ma(f,1,b,1,g);for(b=1;b<=g;b++)if(q=c[b],0!=q)if(n=m[b],n<=g)f[n]-=q;else{p=j[n-g];for(n=j[n-g+1];p<n;p++)f[k[p]]+=l[p]*q}gj(a.S,e);for(a=1;a<=d;a++)c[a]+=e[a]}function e(a,b,c){var d=a.f,e=a.jb,f=a.jb,g=a.f,j=a.Aa,k=a.za,
l=a.Ha,m=a.head,n,p,q,r;for(n=1;n<=g;n++){p=m[n];r=b[n];if(p<=g)r-=c[p];else{q=j[p-g];for(p=j[p-g+1];q<p;q++)r+=l[q]*c[k[q]]}f[n]=r}ij(a.S,e);for(a=1;a<=d;a++)c[a]+=e[a]}function f(a,b){var c=a.c,d=a.d,e=a.m,f,g;f=a.head[a.f+b];switch(e[b]){case J:g=c[f];break;case Ec:g=d[f];break;case wc:g=0;break;case mc:g=c[f]}return g}function g(a,b){var c=a.f,e=a.h,g=a.Aa,j=a.za,k=a.Ha,l=a.head,m=a.Hc,n,p,q,r;for(n=1;n<=c;n++)m[n]=0;for(n=1;n<=e;n++)if(p=l[c+n],r=f(a,n),0!=r)if(p<=c)m[p]-=r;else{q=g[p-c];for(p=
g[p-c+1];q<p;q++)m[j[q]]+=r*k[q]}ma(b,1,m,1,c);gj(a.S,b);d(a,m,b)}function l(a){var b=a.h,c=a.Qa,d=a.Ic,f;f=a.f;var g=a.t,j=a.head,k=a.Hc,l;for(l=1;l<=f;l++)k[l]=g[j[l]];ma(d,1,k,1,f);ij(a.S,d);e(a,k,d);for(f=1;f<=b;f++){g=a.f;l=a.t;k=j=h;j=a.head[g+f];k=l[j];if(j<=g)k-=d[j];else{l=a.Aa;for(var m=a.za,n=a.Ha,p=h,q=h,p=h,p=l[j-g],q=l[j-g+1];p<q;p++)k+=n[p]*d[m[p]]}c[f]=k}}function j(a,b){var c=a.m,d=a.Qa,e=a.Ub,f=a.mb,g=a.uh,j,k,l,m,n,p,q,r,t;p=0<a.Se?1:-1;l=0;r=u;n=0;for(k=1;k<=g;k++){j=e[k];m=p*
f[j];if(0<m)if(c[j]==J||c[j]==wc)q=(d[j]+b)/m;else continue;else if(c[j]==Ec||c[j]==wc)q=(d[j]-b)/m;else continue;0>q&&(q=0);if(r>q||r==q&&n<Math.abs(m))l=j,r=q,n=Math.abs(m)}if(!(0==b||0==l||0==r)){t=r;l=0;r=u;n=0;for(k=1;k<=g;k++){j=e[k];m=p*f[j];if(0<m)if(c[j]==J||c[j]==wc)q=d[j]/m;else continue;else if(c[j]==Ec||c[j]==wc)q=d[j]/m;else continue;0>q&&(q=0);q<=t&&n<Math.abs(m)&&(l=j,r=q,n=Math.abs(m))}}a.C=l;a.bh=p*r}function k(a,b){var c=a.f,d=a.h,e=a.$b,f=a.head,g=a.Qa,j,k;for(j=1;j<=d;j++)if(k=
f[c+j],g[j]<-b&&(e[k]==xc||e[k]==Wb)||g[j]>+b&&(e[k]==yc||e[k]==Wb))return 1;return 0}function m(a){var b=a.f,c=a.h,d=a.type,e=a.c,f=a.d,g=a.bd,j=a.cd,k=a.head,l=a.m,m=a.Qa;ma(d,1,a.$b,1,b+c);ma(e,1,g,1,b+c);ma(f,1,j,1,b+c);for(a=1;a<=c;a++)switch(g=k[b+a],d[g]){case Wb:l[a]=wc;break;case xc:l[a]=J;break;case yc:l[a]=Ec;break;case R:l[a]=2.220446049250313E-16<=m[a]?J:-2.220446049250313E-16>=m[a]?Ec:Math.abs(e[g])<=Math.abs(f[g])?J:Ec;break;case G:l[a]=mc}}function n(a){var b=a.f,c=a.h,d=a.eb,e=a.head,
g=a.Ga,j,k,l;l=d[0];for(j=1;j<=b;j++)k=e[j],k>b&&(l+=d[k-b]*g[j]);for(g=1;g<=c;g++)k=e[b+g],k>b&&(l+=d[k-b]*f(a,g));return l}function p(a,b,c){var d=a.f,e=a.h,g=a.t,j=a.$b,k=a.head,l=a.m,m=a.B,p=a.Ga,q=a.Qa;if(!(b.n<pg)&&!(0<b.fb&&1E3*sa(a.gc)<b.fb)&&a.X!=a.be&&(c||0==a.X%b.ac)){b=0;if(1==m){for(l=1;l<=d;l++)b-=g[k[l]]*p[l];for(p=1;p<=e;p++)b-=g[k[d+p]]*f(a,p)}else for(p=1;p<=e;p++){if(0>q[p]&&(l[p]==J||l[p]==wc))b-=q[p];if(0<q[p]&&(l[p]==Ec||l[p]==wc))b+=q[p]}e=0;for(l=1;l<=d;l++)j[k[l]]==G&&e++;
1==a.B?B(" "+a.X+":  infeas = "+b+" ("+e+")"):B("|"+a.X+": obj = "+n(a)+"  infeas = "+b+" ("+e+")");a.be=a.X}}function w(a,b,c,d,e){var f=a.f,g=a.h,j=a.$a,k=a.head,l=a.m,m=a.Ga,p=a.Qa;b.valid=1;a.valid=0;b.S=a.S;a.S=s;ma(b.head,1,k,1,f);b.la=c;b.qa=d;b.Z=n(a);b.X=a.X;b.some=e;for(a=1;a<=f;a++)c=k[a],c<=f?(c=b.l[c],c.m=E,c.bind=a,c.q=m[a]/c.ka):(c=b.e[c-f],c.m=E,c.bind=a,c.q=m[a]*c.ta),c.H=0;for(m=1;m<=g;m++)if(c=k[f+m],c<=f){c=b.l[c];c.m=l[m];c.bind=0;switch(l[m]){case J:c.q=c.c;break;case Ec:c.q=
c.d;break;case wc:c.q=0;break;case mc:c.q=c.c}c.H=p[m]*c.ka/j}else{c=b.e[c-f];c.m=l[m];c.bind=0;switch(l[m]){case J:c.q=c.c;break;case Ec:c.q=c.d;break;case wc:c.q=0;break;case mc:c.q=c.c}c.H=p[m]/c.ta/j}}var r=2,v=0,C=0,q=0,z,D,H,O=a.f,I=a.h,K=a.K,t={};t.f=O;t.h=I;t.type=new Int8Array(1+O+I);t.c=new Float64Array(1+O+I);t.d=new Float64Array(1+O+I);t.t=new Float64Array(1+O+I);t.$b=new Int8Array(1+O+I);t.bd=new Float64Array(1+O+I);t.cd=new Float64Array(1+O+I);t.eb=new Float64Array(1+I);t.Aa=new Int32Array(1+
I+1);t.za=new Int32Array(1+K);t.Ha=new Float64Array(1+K);t.lg=new Int32Array(1+O+1);t.kg=new Int32Array(1+K);t.mg=new Float64Array(1+K);t.head=new Int32Array(1+O+I);t.bind=new Int32Array(1+O+I);t.m=new Int8Array(1+I);t.Ga=new Float64Array(1+O);t.Qa=new Float64Array(1+I);t.hd=new Int8Array(1+O+I);t.oc=new Float64Array(1+O);t.Ub=new Int32Array(1+I);t.mb=new Float64Array(1+I);t.xb=new Int32Array(1+O);t.Ua=new Float64Array(1+O);t.jb=new Float64Array(1+O);t.Hc=new Float64Array(1+O);t.Ic=new Float64Array(1+
O);t.jg=new Float64Array(1+O);var F=t.f,x=t.h,M=t.type,L=t.c,T=t.d,A=t.t,N=t.$b,P=t.bd,za=t.cd,ua=t.eb,va=t.Aa,ka=t.za,ec=t.Ha,Ce=t.lg,Se=t.kg,Te=t.mg,wb=t.head,Ja=t.bind,td=t.m,Pd=t.hd,Hc=t.oc,ha,ba,ga,Nb,eb,V,Ab,ca;for(ha=1;ha<=F;ha++)Ab=a.l[ha],M[ha]=Ab.type,L[ha]=Ab.c*Ab.ka,T[ha]=Ab.d*Ab.ka,A[ha]=0;for(ba=1;ba<=x;ba++)ca=a.e[ba],M[F+ba]=ca.type,L[F+ba]=ca.c/ca.ta,T[F+ba]=ca.d/ca.ta,A[F+ba]=ca.t*ca.ta;ma(N,1,M,1,F+x);ma(P,1,L,1,F+x);ma(za,1,T,1,F+x);ua[0]=a.fa;ma(ua,1,A,F+1,x);eb=0;for(ba=1;ba<=
x;ba++)eb<Math.abs(ua[ba])&&(eb=Math.abs(ua[ba]));0==eb&&(eb=1);switch(a.dir){case Va:t.$a=1/eb;break;case ub:t.$a=-1/eb}1>Math.abs(t.$a)&&(t.$a*=1E3);for(ba=1;ba<=x;ba++)A[F+ba]*=t.$a;for(ba=Nb=1;ba<=x;ba++){va[ba]=Nb;for(V=a.e[ba].j;V!=s;V=V.G)ka[Nb]=V.l.ca,ec[Nb]=V.l.ka*V.i*V.e.ta,Nb++}va[x+1]=Nb;for(ha=Nb=1;ha<=F;ha++){Ce[ha]=Nb;for(V=a.l[ha].j;V!=s;V=V.z)Se[Nb]=V.e.A,Te[Nb]=V.l.ka*V.i*V.e.ta,Nb++}Ce[F+1]=Nb;ma(wb,1,a.head,1,F);ga=0;for(ha=1;ha<=F;ha++)Ab=a.l[ha],Ab.m!=E&&(ga++,wb[F+ga]=ha,td[ga]=
Ab.m);for(ba=1;ba<=x;ba++)ca=a.e[ba],ca.m!=E&&(ga++,wb[F+ga]=F+ba,td[ga]=ca.m);for(ga=1;ga<=F+x;ga++)Ja[wb[ga]]=ga;t.valid=1;a.valid=0;t.S=a.S;a.S=s;t.B=0;t.gc=ra();t.Sf=t.X=a.X;t.be=-1;t.Qb=0;na(Pd,1,0,F+x);for(ha=1;ha<=F;ha++)Hc[ha]=1;for(b.n>=zg&&B("Objective scale factor = "+t.$a+"");;){if(0==r){var Xb=t,Ob=Zi(Xb.S,Xb.f,c,Xb);Xb.valid=0==Ob;H=Ob;if(0!=H)return b.n>=qf&&(B("Error: unable to factorize the basis matrix ("+H+")"),B("Sorry, basis recovery procedure not implemented yet")),a.S=t.S,t.S=
s,a.la=a.qa=db,a.Z=0,a.X=t.X,a.some=0,H=Hf;r=t.valid=1;v=C=0}if(0==C){l(t);C=1;if(0==t.B){if(0!=k(t,0.9*b.sb)){t.B=1;for(var wa=t.f,Fa=t.h,zc=t.type,Fb=t.c,$c=t.d,Ic=t.$b,De=t.head,ad=t.m,fe=t.Qa,bd=h,ab=h,ab=1;ab<=wa+Fa;ab++)switch(Ic[ab]){case Wb:zc[ab]=R;Fb[ab]=-1E3;$c[ab]=1E3;break;case xc:zc[ab]=R;Fb[ab]=0;$c[ab]=1;break;case yc:zc[ab]=R;Fb[ab]=-1;$c[ab]=0;break;case R:case G:zc[ab]=G,Fb[ab]=$c[ab]=0}for(bd=1;bd<=Fa;bd++)ab=De[wa+bd],ad[bd]=zc[ab]==G?mc:0<=fe[bd]?J:Ec}else t.B=2,m(t);v=t.Qb=
0}var fa;a:{for(var qa=b.sb,Q=t.h,Qd=t.m,Ng=t.Qa,Wa=h,Wa=1;Wa<=Q;Wa++)if(Ng[Wa]<-qa&&(Qd[Wa]==J||Qd[Wa]==wc)||Ng[Wa]>+qa&&(Qd[Wa]==Ec||Qd[Wa]==wc)){fa=1;break a}fa=0}if(0!=fa){b.n>=qf&&B("Warning: numerical instability (dual simplex, phase "+(1==t.B?"I":"II")+")");if(b.cb==Ff)return w(t,a,db,db,0),H=Hf;r=t.B=0;q=5;continue}}1==t.B&&0==k(t,b.sb)&&(p(t,b,1),t.B=2,1!=C&&(l(t),C=1),m(t),v=t.Qb=0);0==v&&(g(t,t.Ga),2==t.B&&(t.Ga[0]=n(t)),v=1);switch(b.fd){case Bg:if(0==t.Qb){var Jc=t.f,Yb=t.h,eg=t.head,
ge=t.hd,Xa=t.oc,Ha=h,he=h;t.Qb=1E3;na(ge,1,0,Jc+Yb);for(Ha=1;Ha<=Jc;Ha++)he=eg[Ha],ge[he]=1,Xa[Ha]=1}}if(2==t.B&&0>t.$a&&b.hf>-u&&t.Ga[0]<=b.hf){if(1!=v||1!=C){1!=v&&(v=0);1!=C&&(C=0);continue}p(t,b,1);b.n>=Xf&&B("OBJECTIVE LOWER LIMIT REACHED; SEARCH TERMINATED");w(t,a,Rh,fg,0);return H=Ph}if(2==t.B&&0<t.$a&&b.jf<+u&&t.Ga[0]>=b.jf){if(1!=v||1!=C){1!=v&&(v=0);1!=C&&(C=0);continue}p(t,b,1);b.n>=Xf&&B("OBJECTIVE UPPER LIMIT REACHED; SEARCH TERMINATED");w(t,a,Rh,fg,0);return H=Qh}if(2147483647>b.pc&&
t.X-t.Sf>=b.pc){if(2==t.B&&1!=v||1!=C){2==t.B&&1!=v&&(v=0);1!=C&&(C=0);continue}p(t,b,1);b.n>=Xf&&B("ITERATION LIMIT EXCEEDED; SEARCH TERMINATED");switch(t.B){case 1:D=Rh;m(t);g(t,t.Ga);break;case 2:D=fg}w(t,a,Rh,D,0);return H=ul}if(2147483647>b.rb&&1E3*sa(t.gc)>=b.rb){if(2==t.B&&1!=v||1!=C){2==t.B&&1!=v&&(v=0);1!=C&&(C=0);continue}p(t,b,1);b.n>=Xf&&B("TIME LIMIT EXCEEDED; SEARCH TERMINATED");switch(t.B){case 1:D=Rh;m(t);g(t,t.Ga);break;case 2:D=fg}w(t,a,Rh,D,0);return H=Jh}p(t,b,0);for(var xa=t,
bb=b.Fb,Gb=xa.f,rb=xa.type,pc=xa.c,Ac=xa.d,qc=xa.head,Bb=xa.Ga,Ue=xa.oc,fb=h,Ba=h,Pb=h,Rd=h,Bc=h,mb=h,Kc=h,Hb=h,Bc=Rd=Pb=0,fb=1;fb<=Gb;fb++){Ba=qc[fb];Kc=0;if(rb[Ba]==xc||rb[Ba]==R||rb[Ba]==G)mb=bb*(1+0.1*Math.abs(pc[Ba])),Bb[fb]<pc[Ba]-mb&&(Kc=pc[Ba]-Bb[fb]);if(rb[Ba]==yc||rb[Ba]==R||rb[Ba]==G)mb=bb*(1+0.1*Math.abs(Ac[Ba])),Bb[fb]>Ac[Ba]+mb&&(Kc=Ac[Ba]-Bb[fb]);0!=Kc&&(Hb=Ue[fb],2.220446049250313E-16>Hb&&(Hb=2.220446049250313E-16),Hb=Kc*Kc/Hb,Bc<Hb&&(Pb=fb,Rd=Kc,Bc=Hb))}xa.r=Pb;xa.Se=Rd;if(0==t.r){if(1!=
v||1!=C){1!=v&&(v=0);1!=C&&(C=0);continue}p(t,b,1);switch(t.B){case 1:b.n>=Xf&&B("PROBLEM HAS NO DUAL FEASIBLE SOLUTION");m(t);g(t,t.Ga);z=Rh;D=xg;break;case 2:b.n>=Xf&&B("OPTIMAL SOLUTION FOUND"),z=D=fg}w(t,a,z,D,0);return H=0}for(var rc=t.jg,la=t,Ee=rc,Mc=la.f,gb=la.r,da=h,da=1;da<=Mc;da++)Ee[da]=0;Ee[gb]=1;ij(la.S,rc);if(q){for(var Nc=t,Fe=rc,hb=Nc.f,cb=Nc.r,Ta=Nc.Ic,Ib=h,Ib=1;Ib<=hb;Ib++)Ta[Ib]=0;Ta[cb]=1;e(Nc,Ta,Fe)}for(var Ya=t,fc=rc,gc=Ya.f,ud=h,Sd=h,Sd=0,ud=1;ud<=gc;ud++)0!=fc[ud]&&Sd++;if(0.2<=
Sd/gc){for(var hc=Ya,Td=fc,Na=hc.f,Qb=hc.h,Za=hc.Aa,Zb=hc.za,Cd=hc.Ha,sc=hc.head,Dd=hc.m,ie=hc.Ub,ic=hc.mb,Cc=h,Ra=h,Ge=h,je=h,cd=h,ib=h,jb=h,ib=0,Cc=1;Cc<=Qb;Cc++)if(Dd[Cc]==mc)ic[Cc]=0;else{Ra=sc[Na+Cc];if(Ra<=Na)jb=-Td[Ra];else{Ge=Za[Ra-Na];je=Za[Ra-Na+1];jb=0;for(cd=Ge;cd<je;cd++)jb+=Td[Zb[cd]]*Cd[cd]}0!=jb&&(ie[++ib]=Cc);ic[Cc]=jb}hc.Cc=ib}else{for(var Oc=Ya,dd=fc,xb=Oc.f,jc=Oc.h,kc=Oc.lg,Ed=Oc.kg,Pc=Oc.mg,Lb=Oc.bind,Ve=Oc.m,Dc=Oc.Ub,Fd=Oc.mb,nb=h,Ka=h,yb=h,ea=h,kb=h,ob=h,sb=h,Ka=1;Ka<=jc;Ka++)Fd[Ka]=
0;for(nb=1;nb<=xb;nb++)if(sb=dd[nb],0!=sb){Ka=Lb[nb]-xb;1<=Ka&&Ve[Ka]!=mc&&(Fd[Ka]-=sb);yb=kc[nb];ea=kc[nb+1];for(kb=yb;kb<ea;kb++)Ka=Lb[xb+Ed[kb]]-xb,1<=Ka&&Ve[Ka]!=mc&&(Fd[Ka]+=sb*Pc[kb])}ob=0;for(Ka=1;Ka<=jc;Ka++)0!=Fd[Ka]&&(Dc[++ob]=Ka);Oc.Cc=ob}for(var Ua=t,Sa=b.Fb,U=Ua.Cc,Jb=Ua.Ub,ed=Ua.mb,fd=h,Cb=h,ke=h,Ud=h,Vd=h,Og=h,Ud=0,ke=1;ke<=U;ke++)Og=Math.abs(ed[Jb[ke]]),Ud<Og&&(Ud=Og);Ua.th=Ud;Vd=Sa*(1+0.01*Ud);for(Cb=0;Cb<U;)fd=Jb[U],Math.abs(ed[fd])<Vd?U--:(Cb++,Jb[U]=Jb[Cb],Jb[Cb]=fd);Ua.uh=Cb;
switch(b.ne){case Cg:j(t,0);break;case Dg:j(t,0.3*b.sb)}if(0==t.C){if(1!=v||1!=C||!q){1!=v&&(v=0);1!=C&&(C=0);q=1;continue}p(t,b,1);switch(t.B){case 1:b.n>=qf&&B("Error: unable to choose basic variable on phase I");a.S=t.S;t.S=s;a.la=a.qa=db;a.Z=0;a.X=t.X;a.some=0;H=Hf;break;case 2:b.n>=Xf&&B("PROBLEM HAS NO FEASIBLE SOLUTION"),w(t,a,xg,fg,t.head[t.r]),H=0}return H}var vh=t.mb[t.C],gd=1E-5*(1+0.01*t.th);if(Math.abs(vh)<gd&&(b.n>=zg&&B("piv = "+vh+"; eps = "+gd+""),!q)){q=5;continue}for(var Kb=t,hd=
Kb.f,rf=Kb.xb,gg=Kb.Ua,Hd=Kb.Ua,tc=h,We=h,hg=h,We=Kb.head[hd+Kb.C],tc=1;tc<=hd;tc++)Hd[tc]=0;if(We<=hd)Hd[We]=-1;else for(var wh=Kb.Aa,He=Kb.za,ig=Kb.Ha,Pg=h,Qg=h,Id=h,Pg=wh[We-hd],Qg=wh[We-hd+1],Id=Pg;Id<Qg;Id++)Hd[He[Id]]=ig[Id];gj(Kb.S,gg);hg=0;for(tc=1;tc<=hd;tc++)0!=gg[tc]&&(rf[++hg]=tc);Kb.Sb=hg;if(q){for(var Rb=t,Qc=Rb.f,le=Rb.xb,Rg=Rb.Ua,jg=Rb.Ic,Rc=h,Kf=h,kg=h,Kf=Rb.head[Qc+Rb.C],Rc=1;Rc<=Qc;Rc++)jg[Rc]=0;if(Kf<=Qc)jg[Kf]=-1;else for(var lg=Rb.Aa,Xe=Rb.za,Ye=Rb.Ha,Jd=h,vd=h,id=h,Jd=lg[Kf-
Qc],vd=lg[Kf-Qc+1],id=Jd;id<vd;id++)jg[Xe[id]]=Ye[id];d(Rb,jg,Rg);kg=0;for(Rc=1;Rc<=Qc;Rc++)0!=Rg[Rc]&&(le[++kg]=Rc);Rb.Sb=kg}var Ie=t.Ua[t.r],sf=t.mb[t.C];if(Math.abs(Ie-sf)>1E-8*(1+Math.abs(Ie))||!(0<Ie&&0<sf||0>Ie&&0>sf)){b.n>=zg&&B("piv1 = "+Ie+"; piv2 = "+sf+"");if(1!=r||!q){1!=r&&(r=0);q=5;continue}0==t.Ua[t.r]&&(t.Sb++,t.xb[t.Sb]=t.r);t.Ua[t.r]=sf}var wd=t.Ga,Lf=t.r,Sg=t.C,Ze=t.Sb,Tg=t.xb,Ug=t.Ua,mg=h,$e=h,af=h,af=t.Se/Ug[Lf];wd[Lf]=f(t,Sg)+af;if(0!=af)for($e=1;$e<=Ze;$e++)mg=Tg[$e],mg!=Lf&&
(wd[mg]+=Ug[mg]*af);2==t.B&&(t.Ga[0]+=t.Qa[t.C]/t.$a*(t.Se/t.Ua[t.r]));var v=2,ng=t.Qa,Wd=t.Cc,Je=t.Ub,tf=t.mb,bf=t.C,xd=t.bh,me=h,og=h;ng[bf]=xd;if(0!=xd)for(og=1;og<=Wd;og++)me=Je[og],me!=bf&&(ng[me]-=tf[me]*xd);C=2;switch(b.fd){case Bg:if(0<t.Qb){var Mb=t,yd=Mb.f,Ke=Mb.type,$a=Mb.head,Xd=Mb.hd,lc=Mb.oc,Ia=Mb.r,ne=Mb.Cc,Mf=Mb.Ub,Nf=Mb.mb,Sc=Mb.C,uf=Mb.Sb,vf=Mb.xb,wf=Mb.Ua,Sb=Mb.Ic,Oa=h,Tc=h,uc=h,jd=h,Yd=h,Vg=h,Zd=h,Tb=h,$d=h,$b=h;Mb.Qb--;Yd=Vg=Xd[$a[Ia]]?1:0;for(Oa=1;Oa<=yd;Oa++)Sb[Oa]=0;for(jd=
1;jd<=ne;jd++)if(Tc=Mf[jd],uc=$a[yd+Tc],Xd[uc])if(Tb=Nf[Tc],Yd+=Tb*Tb,uc<=yd)Sb[uc]+=Tb;else{var oe=Mb.Aa,cf=Mb.za,Uc=Mb.Ha,Of,xf,kd;Of=oe[uc-yd];xf=oe[uc-yd+1];for(kd=Of;kd<xf;kd++)Sb[cf[kd]]-=Tb*Uc[kd]}gj(Mb.S,Sb);Zd=wf[Ia];for(jd=1;jd<=uf;jd++)Oa=vf[jd],uc=$a[Oa],Oa!=Ia&&Ke[$a[Oa]]!=Wb&&(Tb=wf[Oa]/Zd,$d=lc[Oa]+Tb*Tb*Yd+2*Tb*Sb[Oa],$b=(Xd[uc]?1:0)+Vg*Tb*Tb,lc[Oa]=$d>=$b?$d:$b,2.220446049250313E-16>lc[Oa]&&(lc[Oa]=2.220446049250313E-16));Ke[$a[yd+Sc]]==Wb?lc[Ia]=1:(lc[Ia]=Yd/(Zd*Zd),2.220446049250313E-16>
lc[Ia]&&(lc[Ia]=2.220446049250313E-16));uc=$a[Ia];if(Ke[uc]==G&&Xd[uc]){Xd[uc]=0;for(jd=1;jd<=uf;jd++){Oa=vf[jd];if(Oa==Ia){if(Ke[$a[yd+Sc]]==Wb)continue;Tb=1/wf[Ia]}else{if(Ke[$a[Oa]]==Wb)continue;Tb=wf[Oa]/wf[Ia]}lc[Oa]-=Tb*Tb;2.220446049250313E-16>lc[Oa]&&(lc[Oa]=2.220446049250313E-16)}}}}var ld=t,rg=t.r,zd=t.head[t.f+t.C],pe=ld.f,oa=h,ac=h;if(zd<=pe){var Pf=Array(2),ac=Array(2);Pf[1]=zd;ac[1]=1;oa=xk(ld.S,rg,1,Pf,0,ac)}else{for(var Db=ld.Aa,tb=ld.za,sg=ld.Ha,ac=ld.jb,Qf=h,Kd=h,Ld=h,Rf=h,Qf=Db[zd-
pe],Kd=Db[zd-pe+1],Rf=0,Ld=Qf;Ld<Kd;Ld++)ac[++Rf]=-sg[Ld];oa=xk(ld.S,rg,Rf,tb,Qf-1,ac)}ld.valid=0==oa;H=oa;r=0==H?2:t.valid=0;var yf=t.f,fi=t.type,qe=t.head,re=t.bind,Sf=t.m,ae=t.r,zf=t.Se,Vc=t.C,df=h,df=qe[ae];qe[ae]=qe[yf+Vc];qe[yf+Vc]=df;re[qe[ae]]=ae;re[qe[yf+Vc]]=yf+Vc;Sf[Vc]=fi[df]==G?mc:0<zf?J:Ec;t.X++;0<q&&q--}};
}(typeof exports === 'object' && exports || this));